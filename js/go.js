/* * GoJS v1.4.23 JavaScript Library for HTML Canvas Diagrams * Northwoods Software, http://www.nwoods.com/ * GoJS and Northwoods Software are registered trademarks of Northwoods Software Corporation. * Copyright (C) 1998-2015 by Northwoods Software Corporation. All Rights Reserved. * THIS SOFTWARE IS LICENSED. THE LICENSE AGREEMENT IS AT: http://www.gojs.net/1.4.23/doc/license.html. */ (function(window) { var aa,ca={};if(void 0===document.createElement("canvas").getContext)throw window.console&&window.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.prototype.__defineGetter__&&!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript"); Object.prototype.__defineGetter__&&!Object.defineProperty&&(Object.defineProperty=function(a,b,c){c.get&&a.__defineGetter__(b,c.get);c.set&&a.__defineSetter__(b,c.set)});Object.prototype.__lookupGetter__&&!Object.getOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function(a,b){return{get:a.__lookupGetter__(b),set:a.__lookupSetter__(b)}});Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__});Object.isFrozen||(Object.isFrozen=function(a){return!0===a.pH}); Object.freeze||(Object.freeze=function(a){a.pH=!0});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return g.apply(a,f.concat(d.call(arguments)))}function c(){}var d=Array.prototype.slice,f=d.call(arguments,1),g=this;c.prototype=this.prototype;b.prototype=new c;return b}); (function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c=a.length?a.push(c):a.splice(b,0,c):t.m("Cannot insert an object into an HTMLCollection or NodeList: "+c+" at "+b)},Ti:function(a,b){t.zc&&t.zc(a)&&(a=a());Array.isArray(a)?b>=a.length?a.pop():a.splice(b,1):t.m("Cannot remove an object from an HTMLCollection or NodeList at "+b)},by:[],K:function(){var a=t.by.pop();return void 0===a?new w:a},mc:function(a,b){var c=t.by.pop();if(void 0=== c)return new w(a,b);c.x=a;c.y=b;return c},B:function(a){t.by.push(a)},AB:[],Al:function(){var a=t.AB.pop();return void 0===a?new ga:a},bk:function(a){t.AB.push(a)},ey:[],Gf:function(){var a=t.ey.pop();return void 0===a?new x:a},hk:function(a,b,c,d){var f=t.ey.pop();if(void 0===f)return new x(a,b,c,d);f.x=a;f.y=b;f.width=c;f.height=d;return f},hc:function(a){t.ey.push(a)},BB:[],oh:function(){var a=t.BB.pop();return void 0===a?new ha:a},We:function(a){t.BB.push(a)},gy:null,u:function(){var a=t.gy;return null!== a?(t.gy=null,a):new ia},v:function(a){a.reset();t.gy=a},zB:[],Cb:function(){var a=t.zB.pop();return void 0===a?[]:a},ya:function(a){a.length=0;t.zB.push(a)},CB:1,Ac:function(a){a.__gohashid=t.CB++},jt:function(a){var b=a.__gohashid;void 0===b&&(b=t.CB++,a.__gohashid=b);return b},od:function(a){return a.__gohashid},g:function(a,b,c){"name"!==b&&"length"!==b&&(a[b]=c)},ga:function(a,b){b.oy=a;ca[a]=b},Ka:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a}, Xh:function(a){a.tH=!0},defineProperty:function(a,b,c,d,f){t.i(a,"function","Util.defineProperty:classfunc");t.i(b,"object","Util.defineProperty:propobj");t.i(c,"function","Util.defineProperty:getter");t.i(d,"function","Util.defineProperty:setter");for(var g in b){var h=b[g];b={get:c,set:d};if(void 0!==f)for(var k in f)b[k]=f[k];Object.defineProperty(a.prototype,g,b);f=Object.getOwnPropertyDescriptor(a.prototype,g);h&&f&&Object.defineProperty(a.prototype,h,f);if(e&&h){var l=h.charAt(0).toUpperCase()+ h.slice(1);h===l&&t.m('Defining capitalized property "'+l+'"!?');Object.defineProperty(a.prototype,l,{get:function(){t.Rw||t.tA||t.trace('Getting the property "'+l+'" is probably not what you intended: it is capitalized but should be spelled "'+h+'"')},set:function(){t.m('Setting the property "'+l+'" is probably not what you intended: it is capitalized but should be spelled "'+h+'"')}})}break}},A:function(a,b,c,d){t.i(a,"function","Util.defineReadOnlyProperty:classfunc");t.i(b,"object","Util.defineReadOnlyProperty:propobj"); t.i(c,"function","Util.defineReadOnlyProperty:getter");for(var f in b){var g=b[f];b={get:c,set:function(a){t.m('The property "'+g+'" is read-only and cannot be set to '+a)}};if(void 0!==d)for(var h in d)b[h]=d[h];Object.defineProperty(a.prototype,f,b);d=Object.getOwnPropertyDescriptor(a.prototype,f);g&&d&&Object.defineProperty(a.prototype,g,d);if(e&&g){var k=g.charAt(0).toUpperCase()+g.slice(1);Object.defineProperty(a.prototype,k,{get:function(){t.Rw||t.tA||t.trace('Getting the property "'+k+'" is probably not what you intended: it is capitalized but should be spelled "'+ g+'"')},set:function(){t.m('Setting the read-only property "'+k+'" is probably not what you intended: it is capitalized but should be spelled "'+g+'", and cannot be set anyway')}})}break}},Vd:function(a,b){for(var c in b)b[c]=!0;a.prototype.XC=b},$h:function(a){return void 0===a?"":"string"===typeof a?a:"function"===typeof a?t.xg(a):null===a?"*":""},xg:function(a){if("function"===typeof a){if(a.oy)return a.oy;if(a.name)return a.name;var b=a.toString(),c=b.indexOf("(");if(b=b.substring(9,c).trim())return a.oy= b}else if("object"===typeof a&&a.constructor)return t.xg(a.constructor);return typeof a},w:function(a,b,c){t.i(a,"function","Util.defineEnumValue:classfunc");t.i(b,"string","Util.defineEnumValue:name");t.i(c,"number","Util.defineEnumValue:num");c=new da(a,b,c);Object.freeze(c);a[b]=c;var d=a.cu;d||(d=new ja("string",da),a.cu=d);d.add(b,c);return c},Om:function(a,b){if(!b)return null;t.i(a,"function","Util.findEnumValueForName:classfunc");t.i(b,"string","Util.findEnumValueForName:name");var c=a.cu; return c?c.za(b):null},gI:function(a,b,c,d){var f={},g;for(g in a){for(var h=!1,k=1;k=d.length)){var f=t.ib(b,d);null===f||"function"===typeof f||t.Kw(b,d)||(""===c&&(c=b+"\n"),c+=' unknown property "'+d+'" has value: '+f+" at "+a+"\n")}return c},jw:function(a,b){if(b&&"number"!==typeof b&& "string"!==typeof b&&"boolean"!==typeof b&&"function"!==typeof b)if(void 0!==t.od(b)){if(!t.Gv.contains(b))if(t.Gv.add(b),t.gv.add(t.TD(a,b)),b instanceof B||b instanceof C||b instanceof ja)for(var c=b.k;c.next();)t.jw(a+"["+c.key+"]",c.value);else for(c in b){var d=t.ib(b,c);if(void 0!==d&&null!==d&&t.rb(d)&&d!==b.XC){if(b instanceof na){if(d===b.no)continue}else if(b instanceof y){if("data"===c||d===b.Ml)continue;if("itemArray"===c||d===b.xi)continue;if(b instanceof E&&d===b.Fj)continue}else if(!(b instanceof z))if(b instanceof oa){if("archetypeGroupData"===c||d===b.jy)continue}else if(b instanceof pa){if("archetypeLinkData"===c||d===b.ly)continue;if("archetypeLabelNodeData"===c||d===b.ky)continue}else if(b instanceof qa){if("archetypeNodeData"===c||d===b.wk)continue}else if(b instanceof F){if("nodeDataArray"===c||d===b.Me)continue;if("linkDataArray"===c||d===b.Xg||d===b.cm)continue;if(d===b.Bc)continue;if(d===b.xh)continue}else if(b instanceof sa||b instanceof ta||b instanceof ua)continue;t.jw(a+"."+ c,d)}}}else if(Array.isArray(b))for(c=0;cc;c++)b[c]=c;for(var d=0,f,c=0;256>c;c++)d=(d+b[c]+119)%256,f=b[c],b[c]=b[d],b[d]=f;for(var d=c=0,g="",h=0;hc;c++)b["0123456789abcdef".charAt(c>>4)+"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);a.length%2&&(a="0"+a);for(var d=[],f=0,c=0;cd;d++)b[t.Ha("7ca11abfd7330390")](t.Ha(c[d-1]),10,15*d+0);b[t.Ha("7ca11abfd022028846")]=t.Ha("39f046ebb36e4b");for(d=1;5>d;d++)b[t.Ha("7ca11abfd7330390")](t.Ha(c[d- 1]),10,15*d+0);if(4!==c.length||"5"!==c[0][0]||"7"!==c[3][0])t.w=function(a,b){var c=new da(a,b,2);Object.freeze(c);a[b]=c;var d=a.cu;d||(d=new ja("string",da),a.cu=d);d.add(b,c);return c};return a}();function da(a,b,c){t.Ac(this);this.KB=a;this.Yb=b;this.yH=c}da.prototype.toString=function(){return t.xg(this.KB)+"."+this.Yb};t.A(da,{Re:"classType"},function(){return this.KB});t.A(da,{name:"name"},function(){return this.Yb});t.A(da,{value:"value"},function(){return this.yH}); function wa(){this.JB=[]}wa.prototype.toString=function(){return this.JB.join("")};wa.prototype.add=function(a){a&&this.JB.push(a)};function ya(){}t.A(ya,{k:"iterator"},function(){return this});ya.prototype.reset=ya.prototype.reset=function(){};ya.prototype.next=ya.prototype.hasNext=ya.prototype.next=function(){return!1};ya.prototype.first=ya.prototype.$a=function(){return null};ya.prototype.any=function(){return!1};ya.prototype.all=function(){return!0};ya.prototype.each=function(){}; t.A(ya,{count:"count"},function(){return 0});ya.prototype.cg=function(){};ya.prototype.toString=function(){return"EmptyIterator"};t.ag=new ya;function Aa(a){this.key=-1;this.value=a}t.Vd(Aa,{key:!0,value:!0});t.A(Aa,{k:"iterator"},function(){return this});Aa.prototype.reset=Aa.prototype.reset=function(){this.key=-1};Aa.prototype.next=Aa.prototype.hasNext=Aa.prototype.next=function(){return-1===this.key?(this.key=0,!0):!1};Aa.prototype.first=Aa.prototype.$a=function(){this.key=0;return this.value}; Aa.prototype.any=function(a){this.key=-1;return a(this.value)};Aa.prototype.all=function(a){this.key=-1;return a(this.value)};Aa.prototype.each=function(a){this.key=-1;a(this.value)};t.A(Aa,{count:"count"},function(){return 1});Aa.prototype.cg=function(){this.value=null};Aa.prototype.toString=function(){return"SingletonIterator("+this.value+")"};function Ba(a){this.Dd=a;this.Ij=null;this.reset()}t.Vd(Ba,{key:!0,value:!0});t.A(Ba,{k:"iterator"},function(){return this});t.g(Ba,"predicate",Ba.prototype.sl); t.defineProperty(Ba,{sl:"predicate"},function(){return this.Ij},function(a){this.Ij=a});Ba.prototype.reset=Ba.prototype.reset=function(){var a=this.Dd;a.Cd=null;this.Ya=a.V;this.Vc=-1};Ba.prototype.next=Ba.prototype.hasNext=Ba.prototype.next=function(){var a=this.Dd;a.V!==this.Ya&&t.Qb(a);var a=a.n,b=a.length,c=++this.Vc,d=this.Ij;if(null!==d)for(;ca||a>=b.length)&&t.ka(a,"0 <= i < length",B,"elt:i");return b[a]}; B.prototype.setElt=B.prototype.set=B.prototype.Mg=function(a,b){e&&(this.Pg(b),t.q(a,B,"setElt:i"));var c=this.n;(0>a||a>=c.length)&&t.ka(a,"0 <= i < length",B,"setElt:i");t.L(this,a);c[a]=b};B.prototype.first=B.prototype.$a=function(){var a=this.n;return 0===a.length?null:a[0]};B.prototype.any=function(a){for(var b=this.n,c=this.V,d=b.length,f=0;fa&&t.ka(a,">= 0",B,"insertAt:i");t.L(this,a);var c=this.n;a>=c.length?c.push(b):c.splice(a,0,b);this.Qd();return!0}; B.prototype.remove=B.prototype["delete"]=B.prototype.remove=function(a){if(null===a)return!1;e&&this.Pg(a);t.L(this,a);var b=this.n;a=b.indexOf(a);if(-1===a)return!1;a===b.length-1?b.pop():b.splice(a,1);this.Qd();return!0};B.prototype.removeAt=B.prototype.qd=function(a){e&&t.q(a,B,"removeAt:i");var b=this.n;(0>a||a>=b.length)&&t.ka(a,"0 <= i < length",B,"removeAt:i");t.L(this,a);a===b.length-1?b.pop():b.splice(a,1);this.Qd()}; B.prototype.removeRange=B.prototype.removeRange=function(a,b){e&&(t.q(a,B,"removeRange:from"),t.q(b,B,"removeRange:to"));var c=this.n;(0>a||a>=c.length)&&t.ka(a,"0 <= from < length",B,"elt:from");(0>b||b>=c.length)&&t.ka(b,"0 <= to < length",B,"elt:to");t.L(this,a);var d=c.slice((b||a)+1||c.length);c.length=0>a?c.length+a:a;c.push.apply(c,d);this.Qd()};B.prototype.copy=function(){for(var a=new B(this.da),b=this.n,c=this.count,d=0;d=g)return this;(0>b||b>=f-1)&&t.ka(b,"0 <= from < length",B,"sortRange:from");if(2===g)return c=d[b],f=d[b+1],0=f)d.sort(a);else for(g=d.slice(0,c),g.sort(a),a=0;a=f)for(g=d.slice(b),g.sort(a), a=b;a=this.n.length)return t.ag;var a=this.Cd;return null!==a?(a.reset(),a):new Ba(this)}); t.A(B,{Wm:"iteratorBackwards"},function(){if(0>=this.n.length)return t.ag;var a=this.fo;return null!==a?(a.reset(),a):new Ca(this)});function Da(a){this.p=a;this.reset()}t.Vd(Da,{key:!0,value:!0});t.A(Da,{k:"iterator"},function(){return this});Da.prototype.reset=Da.prototype.reset=function(){var a=this.p;a.Cd=null;this.Ya=a.V;this.yb=null}; Da.prototype.next=Da.prototype.hasNext=Da.prototype.next=function(){var a=this.p;a.V!==this.Ya&&t.Qb(a);var b=this.yb,b=null===b?a.cb:b.Tb;if(null!==b)return this.yb=b,this.value=b.value,this.key=b.key,!0;this.cg();return!1};Da.prototype.first=Da.prototype.$a=function(){var a=this.p;this.Ya=a.V;a=a.cb;if(null!==a){this.yb=a;var b=a.value;this.key=a.key;return this.value=b}return null}; Da.prototype.any=function(a){var b=this.p;b.Cd=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;){if(a(d.value))return!0;b.V!==c&&t.Qb(b);d=d.Tb}return!1};Da.prototype.all=function(a){var b=this.p;b.Cd=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;){if(!a(d.value))return!1;b.V!==c&&t.Qb(b);d=d.Tb}return!0};Da.prototype.each=function(a){var b=this.p;b.Cd=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;)a(d.value),b.V!==c&&t.Qb(b),d=d.Tb};t.A(Da,{count:"count"},function(){return this.p.ed}); Da.prototype.cg=function(){this.value=this.key=null;this.Ya=-1;this.p.Cd=this};Da.prototype.toString=function(){return null!==this.yb?"SetIterator@"+this.yb.value:"SetIterator"}; function C(a){t.Ac(this);this.ob=!1;void 0===a||null===a?this.da=null:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.da=a:t.ka(a,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"===typeof a?this.da=a===Object?"object":a===String?"string":a===Number?"number":a:t.ka(a,"null, a primitive type name, or a class type","Set constructor: type");this.fd={};this.ed=0;this.Cd=null;this.V=0;this.Ih=this.cb=null}t.ga("Set",C); C.prototype.Pg=function(a){null!==this.da&&("string"===typeof this.da?typeof a===this.da&&null!==a||t.bc(a,this.da):a instanceof this.da||t.bc(a,this.da))};C.prototype.Qd=function(){var a=this.V;a++;999999999=this.ed)return t.ag;var a=this.Cd;return null!==a?(a.reset(),a):new Da(this)});function Fa(a){this.Xa=a;this.reset()}t.Vd(Fa,{key:!0,value:!0});t.A(Fa,{k:"iterator"},function(){return this});Fa.prototype.reset=Fa.prototype.reset=function(){this.Ya=this.Xa.V;this.yb=null}; Fa.prototype.next=Fa.prototype.hasNext=Fa.prototype.next=function(){var a=this.Xa;a.V!==this.Ya&&t.Qb(a);var b=this.yb,b=null===b?a.cb:b.Tb;if(null!==b)return this.yb=b,this.value=this.key=a=b.key,!0;this.cg();return!1};Fa.prototype.first=Fa.prototype.$a=function(){var a=this.Xa;this.Ya=a.V;a=a.cb;return null!==a?(this.yb=a,this.value=this.key=a=a.key):null};Fa.prototype.any=function(a){var b=this.Xa,c=b.V;this.yb=null;for(var d=b.cb;null!==d;){if(a(d.key))return!0;b.V!==c&&t.Qb(b);d=d.Tb}return!1}; Fa.prototype.all=function(a){var b=this.Xa,c=b.V;this.yb=null;for(var d=b.cb;null!==d;){if(!a(d.key))return!1;b.V!==c&&t.Qb(b);d=d.Tb}return!0};Fa.prototype.each=function(a){var b=this.Xa,c=b.V;this.yb=null;for(var d=b.cb;null!==d;)a(d.key),b.V!==c&&t.Qb(b),d=d.Tb};t.A(Fa,{count:"count"},function(){return this.Xa.ed});Fa.prototype.cg=function(){this.value=this.key=null;this.Ya=-1};Fa.prototype.toString=function(){return null!==this.yb?"MapKeySetIterator@"+this.yb.value:"MapKeySetIterator"}; function Ha(a){t.Ac(this);this.ob=!0;this.Xa=a}t.Ka(Ha,C);Ha.prototype.freeze=function(){return this};Ha.prototype.La=function(){return this};Ha.prototype.toString=function(){return"MapKeySet("+this.Xa.toString()+")"};Ha.prototype.add=Ha.prototype.set=Ha.prototype.add=function(){t.m("This Set is read-only: "+this.toString());return!1};Ha.prototype.contains=Ha.prototype.has=Ha.prototype.contains=function(a){return this.Xa.contains(a)}; Ha.prototype.remove=Ha.prototype["delete"]=Ha.prototype.remove=function(){t.m("This Set is read-only: "+this.toString());return!1};Ha.prototype.clear=Ha.prototype.clear=function(){t.m("This Set is read-only: "+this.toString())};Ha.prototype.first=Ha.prototype.$a=function(){var a=this.Xa.cb;return null!==a?a.key:null};Ha.prototype.any=function(a){for(var b=this.Xa.cb;null!==b;){if(a(b.key))return!0;b=b.Tb}return!1}; Ha.prototype.all=function(a){for(var b=this.Xa.cb;null!==b;){if(!a(b.key))return!1;b=b.Tb}return!0};Ha.prototype.each=function(a){for(var b=this.Xa.cb;null!==b;)a(b.key),b=b.Tb};Ha.prototype.copy=function(){return new Ha(this.Xa)};Ha.prototype.toSet=function(){var a=new C(this.Xa.Hh),b=this.Xa.fd,c;for(c in b)a.add(b[c].key);return a};Ha.prototype.toArray=Ha.prototype.Ie=function(){var a=this.Xa.fd,b=Array(this.Xa.ed),c=0,d;for(d in a)b[c]=a[d].key,c++;return b}; Ha.prototype.toList=function(){var a=new B(this.da),b=this.Xa.fd,c;for(c in b)a.add(b[c].key);return a};t.A(Ha,{count:"count"},function(){return this.Xa.ed});t.A(Ha,{size:"size"},function(){return this.Xa.ed});t.A(Ha,{k:"iterator"},function(){return 0>=this.Xa.ed?t.ag:new Fa(this.Xa)});function Ka(a){this.Xa=a;this.reset()}t.Vd(Ka,{key:!0,value:!0});t.A(Ka,{k:"iterator"},function(){return this});Ka.prototype.reset=Ka.prototype.reset=function(){var a=this.Xa;a.ho=null;this.Ya=a.V;this.yb=null}; Ka.prototype.next=Ka.prototype.hasNext=Ka.prototype.next=function(){var a=this.Xa;a.V!==this.Ya&&t.Qb(a);var b=this.yb,b=null===b?a.cb:b.Tb;if(null!==b)return this.yb=b,this.value=b.value,this.key=b.key,!0;this.cg();return!1};Ka.prototype.first=Ka.prototype.$a=function(){var a=this.Xa;this.Ya=a.V;a=a.cb;if(null!==a){this.yb=a;var b=a.value;this.key=a.key;return this.value=b}return null}; Ka.prototype.any=function(a){var b=this.Xa;b.ho=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;){if(a(d.value))return!0;b.V!==c&&t.Qb(b);d=d.Tb}return!1};Ka.prototype.all=function(a){var b=this.Xa;b.ho=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;){if(!a(d.value))return!1;b.V!==c&&t.Qb(b);d=d.Tb}return!0};Ka.prototype.each=function(a){var b=this.Xa;b.ho=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;)a(d.value),b.V!==c&&t.Qb(b),d=d.Tb};t.A(Ka,{count:"count"},function(){return this.Xa.ed}); Ka.prototype.cg=function(){this.value=this.key=null;this.Ya=-1;this.Xa.ho=this};Ka.prototype.toString=function(){return null!==this.yb?"MapValueSetIterator@"+this.yb.value:"MapValueSetIterator"};function Ea(a,b){this.key=a;this.value=b;this.uo=this.Tb=null}t.Vd(Ea,{key:!0,value:!0});Ea.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};function La(a){this.Xa=a;this.reset()}t.Vd(La,{key:!0,value:!0});t.A(La,{k:"iterator"},function(){return this}); La.prototype.reset=La.prototype.reset=function(){var a=this.Xa;a.Cd=null;this.Ya=a.V;this.yb=null};La.prototype.next=La.prototype.hasNext=La.prototype.next=function(){var a=this.Xa;a.V!==this.Ya&&t.Qb(a);var b=this.yb,b=null===b?a.cb:b.Tb;if(null!==b)return this.yb=b,this.key=b.key,this.value=b.value,!0;this.cg();return!1};La.prototype.first=La.prototype.$a=function(){var a=this.Xa;this.Ya=a.V;a=a.cb;return null!==a?(this.yb=a,this.key=a.key,this.value=a.value,a):null}; La.prototype.any=function(a){var b=this.Xa;b.Cd=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;){if(a(d))return!0;b.V!==c&&t.Qb(b);d=d.Tb}return!1};La.prototype.all=function(a){var b=this.Xa;b.Cd=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;){if(!a(d))return!1;b.V!==c&&t.Qb(b);d=d.Tb}return!0};La.prototype.each=function(a){var b=this.Xa;b.Cd=null;var c=b.V;this.yb=null;for(var d=b.cb;null!==d;)a(d),b.V!==c&&t.Qb(b),d=d.Tb};t.A(La,{count:"count"},function(){return this.Xa.ed}); La.prototype.cg=function(){this.value=this.key=null;this.Ya=-1;this.Xa.Cd=this};La.prototype.toString=function(){return null!==this.yb?"MapIterator@"+this.yb:"MapIterator"}; function ja(a,b){t.Ac(this);this.ob=!1;void 0===a||null===a?this.Hh=null:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.Hh=a:t.ka(a,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"===typeof a?this.Hh=a===Object?"object":a===String?"string":a===Number?"number":a:t.ka(a,"null, a primitive type name, or a class type","Map constructor: keytype");void 0===b||null===b?this.Qi=null:"string"===typeof b?"object"===b||"string"===b||"boolean"===b||"number"=== b||"function"===b?this.Qi=b:t.ka(b,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"===typeof b?this.Qi=b===Object?"object":b===String?"string":b===Number?"number":b===Boolean?"boolean":b===Function?"function":b:t.ka(b,"null, a primitive type name, or a class type","Map constructor: valtype");this.fd={};this.ed=0;this.ho=this.Cd=null;this.V=0;this.Ih=this.cb=null}t.ga("Map",ja); function Ma(a,b){null!==a.Hh&&("string"===typeof a.Hh?typeof b===a.Hh&&null!==b||t.bc(b,a.Hh):b instanceof a.Hh||t.bc(b,a.Hh))}ja.prototype.Qd=function(){var a=this.V;a++;999999999=this.count)return t.ag;var a=this.Cd;return null!==a?(a.reset(),a):new La(this)});t.A(ja,{BK:"iteratorKeys"},function(){return 0>=this.count?t.ag:new Fa(this)});t.A(ja,{jF:"iteratorValues"},function(){if(0>=this.count)return t.ag;var a=this.ho;return null!==a?(a.reset(),a):new Ka(this)});function w(a,b){void 0===a||void 0===b?this.y=this.x=0:!e||"number"===typeof a&&"number"===typeof b?(this.x=a,this.y=b):t.m("Invalid arguments to Point constructor")} t.ga("Point",w);t.Xh(w);t.Vd(w,{x:!0,y:!0});w.prototype.assign=function(a){this.x=a.x;this.y=a.y};w.prototype.p=function(a,b){this.x=a;this.y=b};w.prototype.setTo=w.prototype.Sp=function(a,b){e&&(t.i(a,"number",w,"setTo:x"),t.i(b,"number",w,"setTo:y"));t.L(this);this.x=a;this.y=b;return this};w.prototype.set=w.prototype.set=function(a){e&&t.l(a,w,w,"set:p");t.L(this);this.x=a.x;this.y=a.y;return this};w.prototype.copy=function(){var a=new w;a.x=this.x;a.y=this.y;return a}; w.prototype.Ja=function(){this.ob=!0;Object.freeze(this);return this};w.prototype.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};w.prototype.freeze=function(){this.ob=!0;return this};w.prototype.La=function(){Object.isFrozen(this)&&t.m("cannot thaw constant: "+this);this.ob=!1;return this}; w.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var f=0;""===a[b];)b++;(d=a[b++])&&(f=parseFloat(d));return new w(c,f)}return new w};w.stringify=function(a){return a instanceof w?a.x.toString()+" "+a.y.toString():a.toString()};w.prototype.toString=function(){return"Point("+this.x+","+this.y+")"};w.prototype.equals=w.prototype.M=function(a){return a instanceof w?this.x===a.x&&this.y===a.y:!1}; w.prototype.equalTo=function(a,b){return this.x===a&&this.y===b};w.prototype.equalsApprox=w.prototype.sf=function(a){return H.I(this.x,a.x)&&H.I(this.y,a.y)};w.prototype.add=w.prototype.add=function(a){e&&t.l(a,w,w,"add:p");t.L(this);this.x+=a.x;this.y+=a.y;return this};w.prototype.subtract=w.prototype.Vt=function(a){e&&t.l(a,w,w,"subtract:p");t.L(this);this.x-=a.x;this.y-=a.y;return this}; w.prototype.offset=w.prototype.offset=function(a,b){e&&(t.q(a,w,"offset:dx"),t.q(b,w,"offset:dy"));t.L(this);this.x+=a;this.y+=b;return this};w.prototype.rotate=w.prototype.rotate=function(a){e&&t.q(a,w,"rotate:angle");t.L(this);if(0===a)return this;var b=this.x,c=this.y;if(0===b&&0===c)return this;var d;90===a?(a=0,d=1):180===a?(a=-1,d=0):270===a?(a=0,d=-1):(d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d));this.x=a*b-d*c;this.y=d*b+a*c;return this}; w.prototype.scale=w.prototype.scale=function(a,b){e&&(t.q(a,w,"scale:sx"),t.q(b,w,"scale:sy"));this.x*=a;this.y*=b;return this};w.prototype.distanceSquaredPoint=w.prototype.Yj=function(a){e&&t.l(a,w,w,"distanceSquaredPoint:p");var b=a.x-this.x;a=a.y-this.y;return b*b+a*a};w.prototype.distanceSquared=w.prototype.Zs=function(a,b){e&&(t.q(a,w,"distanceSquared:px"),t.q(b,w,"distanceSquared:py"));var c=a-this.x,d=b-this.y;return c*c+d*d}; w.prototype.normalize=w.prototype.normalize=function(){t.L(this);var a=this.x,b=this.y,c=Math.sqrt(a*a+b*b);0b?270:0;if(0===b)return 0a?c=0>b?c+180:180-c:0>b&&(c=360-c);return c}w.prototype.projectOntoLineSegment=function(a,b,c,d){e&&(t.q(a,w,"projectOntoLineSegment:px"),t.q(b,w,"projectOntoLineSegment:py"),t.q(c,w,"projectOntoLineSegment:qx"),t.q(d,w,"projectOntoLineSegment:qy"));H.cn(a,b,c,d,this.x,this.y,this);return this}; w.prototype.projectOntoLineSegmentPoint=function(a,b){e&&(t.l(a,w,w,"projectOntoLineSegmentPoint:p"),t.l(b,w,w,"projectOntoLineSegmentPoint:q"));H.cn(a.x,a.y,b.x,b.y,this.x,this.y,this);return this};w.prototype.snapToGrid=function(a,b,c,d){e&&(t.q(a,w,"snapToGrid:originx"),t.q(b,w,"snapToGrid:originy"),t.q(c,w,"snapToGrid:cellwidth"),t.q(d,w,"snapToGrid:cellheight"));H.dt(this.x,this.y,a,b,c,d,this);return this}; w.prototype.snapToGridPoint=function(a,b){e&&(t.l(a,w,w,"snapToGridPoint:p"),t.l(b,ga,w,"snapToGridPoint:q"));H.dt(this.x,this.y,a.x,a.y,b.width,b.height,this);return this};w.prototype.setRectSpot=w.prototype.Qt=function(a,b){e&&(t.l(a,x,w,"setRectSpot:r"),t.l(b,I,w,"setRectSpot:spot"));t.L(this);this.x=a.x+b.x*a.width+b.offsetX;this.y=a.y+b.y*a.height+b.offsetY;return this}; w.prototype.setSpot=w.prototype.Rt=function(a,b,c,d,f){e&&(t.q(a,w,"setSpot:x"),t.q(b,w,"setSpot:y"),t.q(c,w,"setSpot:w"),t.q(d,w,"setSpot:h"),(0>c||0>d)&&t.m("Point.setSpot:Width and height cannot be negative"),t.l(f,I,w,"setSpot:spot"));t.L(this);this.x=a+f.x*c+f.offsetX;this.y=b+f.y*d+f.offsetY;return this};w.prototype.transform=function(a){e&&t.l(a,ha,w,"transform:t");a.Ta(this);return this};function Qa(a,b){e&&t.l(b,ha,w,"transformInverted:t");b.ai(a);return a}var Ra; w.distanceLineSegmentSquared=Ra=function(a,b,c,d,f,g){e&&(t.q(a,w,"distanceLineSegmentSquared:px"),t.q(b,w,"distanceLineSegmentSquared:py"),t.q(c,w,"distanceLineSegmentSquared:ax"),t.q(d,w,"distanceLineSegmentSquared:ay"),t.q(f,w,"distanceLineSegmentSquared:bx"),t.q(g,w,"distanceLineSegmentSquared:by"));var h=f-c,k=g-d,l=h*h+k*k;c-=a;d-=b;var m=-c*h-d*k;if(0>=m||m>=l)return h=f-a,k=g-b,Math.min(c*c+d*d,h*h+k*k);a=h*d-k*c;return a*a/l};var Sa; w.distanceSquared=Sa=function(a,b,c,d){e&&(t.q(a,w,"distanceSquared:px"),t.q(b,w,"distanceSquared:py"),t.q(c,w,"distanceSquared:qx"),t.q(d,w,"distanceSquared:qy"));a=c-a;b=d-b;return a*a+b*b};var Ta; w.direction=Ta=function(a,b,c,d){e&&(t.q(a,w,"direction:px"),t.q(b,w,"direction:py"),t.q(c,w,"direction:qx"),t.q(d,w,"direction:qy"));a=c-a;b=d-b;if(0===a)return 0b?270:0;if(0===b)return 0a?d=0>b?d+180:180-d:0>b&&(d=360-d);return d};w.prototype.isReal=w.prototype.N=function(){return isFinite(this.x)&&isFinite(this.y)}; function ga(a,b){void 0===a||void 0===b?this.height=this.width=0:!e||"number"===typeof a&&(0<=a||isNaN(a))&&"number"===typeof b&&(0<=b||isNaN(b))?(this.width=a,this.height=b):t.m("Invalid arguments to Size constructor")}t.ga("Size",ga);t.Xh(ga);t.Vd(ga,{width:!0,height:!0});ga.prototype.assign=function(a){this.width=a.width;this.height=a.height};ga.prototype.p=function(a,b){this.width=a;this.height=b}; ga.prototype.setTo=ga.prototype.Sp=function(a,b){e&&(t.i(a,"number",ga,"setTo:w"),t.i(b,"number",ga,"setTo:h"));0>a&&t.ka(a,">= 0",ga,"setTo:w");0>b&&t.ka(b,">= 0",ga,"setTo:h");t.L(this);this.width=a;this.height=b;return this};ga.prototype.set=ga.prototype.set=function(a){e&&t.l(a,ga,ga,"set:s");t.L(this);this.width=a.width;this.height=a.height;return this};ga.prototype.copy=function(){var a=new ga;a.width=this.width;a.height=this.height;return a}; ga.prototype.Ja=function(){this.ob=!0;Object.freeze(this);return this};ga.prototype.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};ga.prototype.freeze=function(){this.ob=!0;return this};ga.prototype.La=function(){Object.isFrozen(this)&&t.m("cannot thaw constant: "+this);this.ob=!1;return this}; ga.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var f=0;""===a[b];)b++;(d=a[b++])&&(f=parseFloat(d));return new ga(c,f)}return new ga};ga.stringify=function(a){return a instanceof ga?a.width.toString()+" "+a.height.toString():a.toString()};ga.prototype.toString=function(){return"Size("+this.width+","+this.height+")"}; ga.prototype.equals=ga.prototype.M=function(a){return a instanceof ga?this.width===a.width&&this.height===a.height:!1};ga.prototype.equalTo=function(a,b){return this.width===a&&this.height===b};ga.prototype.equalsApprox=ga.prototype.sf=function(a){return H.I(this.width,a.width)&&H.I(this.height,a.height)};ga.prototype.isReal=ga.prototype.N=function(){return isFinite(this.width)&&isFinite(this.height)}; function x(a,b,c,d){void 0===a?this.height=this.width=this.y=this.x=0:a instanceof w?b instanceof w?(this.x=Math.min(a.x,b.x),this.y=Math.min(a.y,b.y),this.width=Math.abs(a.x-b.x),this.height=Math.abs(a.y-b.y)):b instanceof ga?(this.x=a.x,this.y=a.y,this.width=b.width,this.height=b.height):t.m("Incorrect arguments supplied"):!e||"number"===typeof a&&"number"===typeof b&&"number"===typeof c&&(0<=c||isNaN(c))&&"number"===typeof d&&(0<=d||isNaN(d))?(this.x=a,this.y=b,this.width=c,this.height=d):t.m("Invalid arguments to Rect constructor")} t.ga("Rect",x);t.Xh(x);t.Vd(x,{x:!0,y:!0,width:!0,height:!0});x.prototype.assign=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};x.prototype.p=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d};function Va(a,b,c){a.width=b;a.height=c} x.prototype.setTo=x.prototype.Sp=function(a,b,c,d){e&&(t.i(a,"number",x,"setTo:x"),t.i(b,"number",x,"setTo:y"),t.i(c,"number",x,"setTo:w"),t.i(d,"number",x,"setTo:h"));0>c&&t.ka(c,">= 0",x,"setTo:w");0>d&&t.ka(d,">= 0",x,"setTo:h");t.L(this);this.x=a;this.y=b;this.width=c;this.height=d;return this};x.prototype.set=x.prototype.set=function(a){e&&t.l(a,x,x,"set:r");t.L(this);this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this}; x.prototype.setPoint=x.prototype.Ef=function(a){e&&t.l(a,w,x,"setPoint:p");t.L(this);this.x=a.x;this.y=a.y;return this};x.prototype.setSize=function(a){e&&t.l(a,ga,x,"setSize:s");t.L(this);this.width=a.width;this.height=a.height;return this};x.prototype.copy=function(){var a=new x;a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;return a};x.prototype.Ja=function(){this.ob=!0;Object.freeze(this);return this};x.prototype.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()}; x.prototype.freeze=function(){this.ob=!0;return this};x.prototype.La=function(){Object.isFrozen(this)&&t.m("cannot thaw constant: "+this);this.ob=!1;return this};x.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var f=0;""===a[b];)b++;(d=a[b++])&&(f=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var h=0;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return new x(c,f,g,h)}return new x}; x.stringify=function(a){return a instanceof x?a.x.toString()+" "+a.y.toString()+" "+a.width.toString()+" "+a.height.toString():a.toString()};x.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"};x.prototype.equals=x.prototype.M=function(a){return a instanceof x?this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height:!1};x.prototype.equalTo=function(a,b,c,d){return this.x===a&&this.y===b&&this.width===c&&this.height===d}; x.prototype.equalsApprox=x.prototype.sf=function(a){return H.I(this.x,a.x)&&H.I(this.y,a.y)&&H.I(this.width,a.width)&&H.I(this.height,a.height)};x.prototype.containsPoint=x.prototype.Fa=function(a){e&&t.l(a,w,x,"containsPoint:p");return this.x<=a.x&&this.x+this.width>=a.x&&this.y<=a.y&&this.y+this.height>=a.y};x.prototype.containsRect=x.prototype.Vj=function(a){e&&t.l(a,x,x,"containsRect:r");return this.x<=a.x&&a.x+a.width<=this.x+this.width&&this.y<=a.y&&a.y+a.height<=this.y+this.height}; x.prototype.contains=x.prototype.contains=function(a,b,c,d){e?(t.q(a,x,"contains:x"),t.q(b,x,"contains:y"),void 0===c?c=0:t.q(c,x,"contains:w"),void 0===d?d=0:t.q(d,x,"contains:h"),(0>c||0>d)&&t.m("Rect.contains:Width and height cannot be negative")):(void 0===c&&(c=0),void 0===d&&(d=0));return this.x<=a&&a+c<=this.x+this.width&&this.y<=b&&b+d<=this.y+this.height};x.prototype.reset=function(){t.L(this);this.height=this.width=this.y=this.x=0}; x.prototype.offset=x.prototype.offset=function(a,b){e&&(t.q(a,x,"offset:dx"),t.q(b,x,"offset:dy"));t.L(this);this.x+=a;this.y+=b;return this};x.prototype.inflate=x.prototype.Sf=function(a,b){e&&(t.q(a,x,"inflate:w"),t.q(b,x,"inflate:h"));return Wa(this,b,a,b,a)};x.prototype.addMargin=x.prototype.bw=function(a){e&&t.l(a,ab,x,"addMargin:m");return Wa(this,a.top,a.right,a.bottom,a.left)}; x.prototype.subtractMargin=x.prototype.YJ=function(a){e&&t.l(a,ab,x,"subtractMargin:m");return Wa(this,-a.top,-a.right,-a.bottom,-a.left)};x.prototype.grow=function(a,b,c,d){e&&(t.q(a,x,"grow:t"),t.q(b,x,"grow:r"),t.q(c,x,"grow:b"),t.q(d,x,"grow:l"));return Wa(this,a,b,c,d)};function Wa(a,b,c,d,f){t.L(a);var g=a.width;c+f<=-g?(a.x+=g/2,a.width=0):(a.x-=f,a.width+=c+f);c=a.height;b+d<=-c?(a.y+=c/2,a.height=0):(a.y-=b,a.height+=b+d);return a} x.prototype.intersectRect=function(a){e&&t.l(a,x,x,"intersectRect:r");return cb(this,a.x,a.y,a.width,a.height)};x.prototype.intersect=function(a,b,c,d){e&&(t.q(a,x,"intersect:x"),t.q(b,x,"intersect:y"),t.q(c,x,"intersect:w"),t.q(d,x,"intersect:h"),(0>c||0>d)&&t.m("Rect.intersect:Width and height cannot be negative"));return cb(this,a,b,c,d)}; function cb(a,b,c,d,f){t.L(a);var g=Math.max(a.x,b),h=Math.max(a.y,c);b=Math.min(a.x+a.width,b+d);c=Math.min(a.y+a.height,c+f);a.x=g;a.y=h;a.width=Math.max(0,b-g);a.height=Math.max(0,c-h);return a}x.prototype.intersectsRect=x.prototype.Tf=function(a){e&&t.l(a,x,x,"intersectsRect:r");return this.$E(a.x,a.y,a.width,a.height)}; x.prototype.intersects=x.prototype.$E=function(a,b,c,d){e&&(t.q(a,x,"intersects:x"),t.q(b,x,"intersects:y"),t.q(a,x,"intersects:w"),t.q(b,x,"intersects:h"),(0>c||0>d)&&t.m("Rect.intersects:Width and height cannot be negative"));var f=this.width,g=this.x;if(Infinity!==f&&Infinity!==c&&(f+=g,c+=a,isNaN(c)||isNaN(f)||g>c||a>f))return!1;a=this.height;c=this.y;return Infinity!==a&&Infinity!==d&&(a+=c,d+=b,isNaN(d)||isNaN(a)||c>d||b>a)?!1:!0}; function eb(a,b){var c=a.width,d=b.width+10+10,f=a.x,g=b.x-10;if(f>d+g||g>c+f)return!1;c=a.height;d=b.height+10+10;f=a.y;g=b.y-10;return f>d+g||g>c+f?!1:!0}x.prototype.unionPoint=x.prototype.jj=function(a){e&&t.l(a,w,x,"unionPoint:p");return hb(this,a.x,a.y,0,0)};x.prototype.unionRect=x.prototype.kj=function(a){e&&t.l(a,x,x,"unionRect:r");return hb(this,a.x,a.y,a.width,a.height)}; x.prototype.union=x.prototype.OG=function(a,b,c,d){t.L(this);e?(t.q(a,x,"union:x"),t.q(b,x,"union:y"),void 0===c?c=0:t.q(c,x,"union:w"),void 0===d?d=0:t.q(d,x,"union:h"),(0>c||0>d)&&t.m("Rect.union:Width and height cannot be negative")):(void 0===c&&(c=0),void 0===d&&(d=0));return hb(this,a,b,c,d)};function hb(a,b,c,d,f){var g=Math.min(a.x,b),h=Math.min(a.y,c);b=Math.max(a.x+a.width,b+d);c=Math.max(a.y+a.height,c+f);a.x=g;a.y=h;a.width=b-g;a.height=c-h;return a} x.prototype.setSpot=x.prototype.Rt=function(a,b,c){e&&(t.q(a,x,"setSpot:x"),t.q(b,x,"setSpot:y"),t.l(c,I,x,"setSpot:spot"));t.L(this);this.x=a-c.offsetX-c.x*this.width;this.y=b-c.offsetY-c.y*this.height;return this};var mb; x.contains=mb=function(a,b,c,d,f,g,h,k){e?(t.q(a,x,"contains:rx"),t.q(b,x,"contains:ry"),t.q(c,x,"contains:rw"),t.q(d,x,"contains:rh"),t.q(f,x,"contains:x"),t.q(g,x,"contains:y"),void 0===h?h=0:t.q(h,x,"contains:w"),void 0===k?k=0:t.q(k,x,"contains:h"),(0>c||0>d||0>h||0>k)&&t.m("Rect.contains:Width and height cannot be negative")):(void 0===h&&(h=0),void 0===k&&(k=0));return a<=f&&f+h<=a+c&&b<=g&&g+k<=b+d}; x.intersects=function(a,b,c,d,f,g,h,k){e&&(t.q(a,x,"intersects:rx"),t.q(b,x,"intersects:ry"),t.q(c,x,"intersects:rw"),t.q(d,x,"intersects:rh"),t.q(f,x,"intersects:x"),t.q(g,x,"intersects:y"),t.q(h,x,"intersects:w"),t.q(k,x,"intersects:h"),(0>c||0>d||0>h||0>k)&&t.m("Rect.intersects:Width and height cannot be negative"));c+=a;h+=f;if(a>h||f>c)return!1;a=d+b;k+=g;return b>k||g>a?!1:!0};t.g(x,"left",x.prototype.left); t.defineProperty(x,{left:"left"},function(){return this.x},function(a){t.L(this,a);e&&t.i(a,"number",x,"left");this.x=a});t.g(x,"top",x.prototype.top);t.defineProperty(x,{top:"top"},function(){return this.y},function(a){t.L(this,a);e&&t.i(a,"number",x,"top");this.y=a});t.g(x,"right",x.prototype.right);t.defineProperty(x,{right:"right"},function(){return this.x+this.width},function(a){t.L(this,a);e&&t.q(a,x,"right");this.x+=a-(this.x+this.width)});t.g(x,"bottom",x.prototype.bottom); t.defineProperty(x,{bottom:"bottom"},function(){return this.y+this.height},function(a){t.L(this,a);e&&t.q(a,x,"top");this.y+=a-(this.y+this.height)});t.g(x,"position",x.prototype.position);t.defineProperty(x,{position:"position"},function(){return new w(this.x,this.y)},function(a){t.L(this,a);e&&t.l(a,w,x,"position");this.x=a.x;this.y=a.y});t.g(x,"size",x.prototype.size); t.defineProperty(x,{size:"size"},function(){return new ga(this.width,this.height)},function(a){t.L(this,a);e&&t.l(a,ga,x,"size");this.width=a.width;this.height=a.height});t.g(x,"center",x.prototype.Sz);t.defineProperty(x,{Sz:"center"},function(){return new w(this.x+this.width/2,this.y+this.height/2)},function(a){t.L(this,a);e&&t.l(a,w,x,"center");this.x=a.x-this.width/2;this.y=a.y-this.height/2});t.g(x,"centerX",x.prototype.Da); t.defineProperty(x,{Da:"centerX"},function(){return this.x+this.width/2},function(a){t.L(this,a);e&&t.q(a,x,"centerX");this.x=a-this.width/2});t.g(x,"centerY",x.prototype.Oa);t.defineProperty(x,{Oa:"centerY"},function(){return this.y+this.height/2},function(a){t.L(this,a);e&&t.q(a,x,"centerY");this.y=a-this.height/2});x.prototype.isReal=x.prototype.N=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)}; x.prototype.isEmpty=function(){return 0===this.width&&0===this.height};function ab(a,b,c,d){void 0===a?this.left=this.bottom=this.right=this.top=0:void 0===b?this.left=this.bottom=this.right=this.top=a:void 0===c?(d=b,this.top=a,this.right=b,this.bottom=a,this.left=d):void 0!==d?(this.top=a,this.right=b,this.bottom=c,this.left=d):t.m("Invalid arguments to Margin constructor")}t.ga("Margin",ab);t.Xh(ab);t.Vd(ab,{top:!0,right:!0,bottom:!0,left:!0}); ab.prototype.assign=function(a){this.top=a.top;this.right=a.right;this.bottom=a.bottom;this.left=a.left};ab.prototype.setTo=ab.prototype.Sp=function(a,b,c,d){e&&(t.i(a,"number",ab,"setTo:t"),t.i(b,"number",ab,"setTo:r"),t.i(c,"number",ab,"setTo:b"),t.i(d,"number",ab,"setTo:l"));t.L(this);this.top=a;this.right=b;this.bottom=c;this.left=d;return this}; ab.prototype.set=ab.prototype.set=function(a){e&&t.l(a,ab,ab,"assign:m");t.L(this);this.top=a.top;this.right=a.right;this.bottom=a.bottom;this.left=a.left;return this};ab.prototype.copy=function(){var a=new ab;a.top=this.top;a.right=this.right;a.bottom=this.bottom;a.left=this.left;return a};ab.prototype.Ja=function(){this.ob=!0;Object.freeze(this);return this};ab.prototype.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};ab.prototype.freeze=function(){this.ob=!0;return this}; ab.prototype.La=function(){Object.isFrozen(this)&&t.m("cannot thaw constant: "+this);this.ob=!1;return this};ab.parse=function(a){if("string"===typeof a){a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var f=void 0;""===a[b];)b++;(d=a[b++])&&(f=parseFloat(d));for(var g=void 0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var h=void 0;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return new ab(c,f,g,h)}return new ab}; ab.stringify=function(a){return a instanceof ab?a.top.toString()+" "+a.right.toString()+" "+a.bottom.toString()+" "+a.left.toString():a.toString()};ab.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"};ab.prototype.equals=ab.prototype.M=function(a){return a instanceof ab?this.top===a.top&&this.right===a.right&&this.bottom===a.bottom&&this.left===a.left:!1}; ab.prototype.equalTo=function(a,b,c,d){return this.top===a&&this.right===b&&this.bottom===c&&this.left===d};ab.prototype.equalsApprox=ab.prototype.sf=function(a){return H.I(this.top,a.top)&&H.I(this.right,a.right)&&H.I(this.bottom,a.bottom)&&H.I(this.left,a.left)};ab.prototype.isReal=ab.prototype.N=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)};function ha(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0}t.Xh(ha); t.Vd(ha,{m11:!0,m12:!0,m21:!0,m22:!0,dx:!0,dy:!0});ha.prototype.set=ha.prototype.set=function(a){e&&t.l(a,ha,ha,"set:t");this.m11=a.m11;this.m12=a.m12;this.m21=a.m21;this.m22=a.m22;this.dx=a.dx;this.dy=a.dy;return this};ha.prototype.copy=function(){var a=new ha;a.m11=this.m11;a.m12=this.m12;a.m21=this.m21;a.m22=this.m22;a.dx=this.dx;a.dy=this.dy;return a};ha.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"}; ha.prototype.equals=ha.prototype.M=function(a){return a instanceof ha?this.m11===a.m11&&this.m12===a.m12&&this.m21===a.m21&&this.m22===a.m22&&this.dx===a.dx&&this.dy===a.dy:!1};ha.prototype.reset=ha.prototype.reset=function(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0}; ha.prototype.multiply=ha.prototype.multiply=function(a){e&&t.l(a,ha,ha,"multiply:matrix");var b=this.m12*a.m11+this.m22*a.m12,c=this.m11*a.m21+this.m21*a.m22,d=this.m12*a.m21+this.m22*a.m22,f=this.m11*a.dx+this.m21*a.dy+this.dx,g=this.m12*a.dx+this.m22*a.dy+this.dy;this.m11=this.m11*a.m11+this.m21*a.m12;this.m12=b;this.m21=c;this.m22=d;this.dx=f;this.dy=g;return this}; ha.prototype.multiplyInverted=ha.prototype.DF=function(a){e&&t.l(a,ha,ha,"multiplyInverted:matrix");var b=1/(a.m11*a.m22-a.m12*a.m21),c=a.m22*b,d=-a.m12*b,f=-a.m21*b,g=a.m11*b,h=b*(a.m21*a.dy-a.m22*a.dx),k=b*(a.m12*a.dx-a.m11*a.dy);a=this.m12*c+this.m22*d;b=this.m11*f+this.m21*g;f=this.m12*f+this.m22*g;g=this.m11*h+this.m21*k+this.dx;h=this.m12*h+this.m22*k+this.dy;this.m11=this.m11*c+this.m21*d;this.m12=a;this.m21=b;this.m22=f;this.dx=g;this.dy=h;return this}; ha.prototype.invert=ha.prototype.nA=function(){var a=1/(this.m11*this.m22-this.m12*this.m21),b=-this.m12*a,c=-this.m21*a,d=this.m11*a,f=a*(this.m21*this.dy-this.m22*this.dx),g=a*(this.m12*this.dx-this.m11*this.dy);this.m11=this.m22*a;this.m12=b;this.m21=c;this.m22=d;this.dx=f;this.dy=g}; ha.prototype.rotate=ha.prototype.rotate=function(a,b,c){e&&(t.q(a,ha,"rotate:angle"),t.q(b,ha,"rotate:rx"),t.q(c,ha,"rotate:ry"));this.translate(b,c);var d;0===a?(a=1,d=0):90===a?(a=0,d=1):180===a?(a=-1,d=0):270===a?(a=0,d=-1):(d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d));var f=this.m12*a+this.m22*d,g=this.m11*-d+this.m21*a,h=this.m12*-d+this.m22*a;this.m11=this.m11*a+this.m21*d;this.m12=f;this.m21=g;this.m22=h;this.translate(-b,-c)}; ha.prototype.translate=ha.prototype.translate=function(a,b){e&&(t.q(a,ha,"translate:x"),t.q(b,ha,"translate:y"));this.dx+=this.m11*a+this.m21*b;this.dy+=this.m12*a+this.m22*b};ha.prototype.scale=ha.prototype.scale=function(a,b){void 0===b&&(b=a);e&&(t.q(a,ha,"translate:sx"),t.q(b,ha,"translate:sy"));this.m11*=a;this.m12*=a;this.m21*=b;this.m22*=b}; ha.prototype.transformPoint=ha.prototype.Ta=function(a){e&&t.l(a,w,ha,"transformPoint:p");var b=a.x,c=a.y;a.x=b*this.m11+c*this.m21+this.dx;a.y=b*this.m12+c*this.m22+this.dy;return a};ha.prototype.invertedTransformPoint=ha.prototype.ai=function(a){e&&t.l(a,w,ha,"invertedTransformPoint:p");var b=1/(this.m11*this.m22-this.m12*this.m21),c=-this.m12*b,d=this.m11*b,f=b*(this.m12*this.dx-this.m11*this.dy),g=a.x,h=a.y;a.x=g*this.m22*b+h*-this.m21*b+b*(this.m21*this.dy-this.m22*this.dx);a.y=g*c+h*d+f;return a}; ha.prototype.transformRect=ha.prototype.JG=function(a){e&&t.l(a,x,ha,"transformRect:rect");var b=a.x,c=a.y,d=b+a.width,f=c+a.height,g=this.m11,h=this.m12,k=this.m21,l=this.m22,m=this.dx,n=this.dy,p=b*g+c*k+m,q=b*h+c*l+n,r=d*g+c*k+m,c=d*h+c*l+n,s=b*g+f*k+m,b=b*h+f*l+n,g=d*g+f*k+m,d=d*h+f*l+n,f=p,h=q,p=Math.min(p,r),f=Math.max(f,r),h=Math.min(h,c),q=Math.max(q,c),p=Math.min(p,s),f=Math.max(f,s),h=Math.min(h,b),q=Math.max(q,b),p=Math.min(p,g),f=Math.max(f,g),h=Math.min(h,d),q=Math.max(q,d);a.x=p;a.y= h;a.width=f-p;a.height=q-h};ha.prototype.isIdentity=ha.prototype.qt=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy};function I(a,b,c,d){void 0===a?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.x=a,this.y=b,this.offsetX=c,this.offsetY=d)}t.ga("Spot",I);t.Xh(I);t.Vd(I,{x:!0,y:!0,offsetX:!0,offsetY:!0});I.prototype.assign=function(a){this.x=a.x;this.y=a.y;this.offsetX=a.offsetX;this.offsetY=a.offsetY}; I.prototype.setTo=I.prototype.Sp=function(a,b,c,d){e&&(pb(a,"setTo:x"),pb(b,"setTo:y"),qb(c,"setTo:offx"),qb(d,"setTo:offy"));t.L(this);this.x=a;this.y=b;this.offsetX=c;this.offsetY=d;return this};I.prototype.set=I.prototype.set=function(a){e&&t.l(a,I,I,"set:s");t.L(this);this.x=a.x;this.y=a.y;this.offsetX=a.offsetX;this.offsetY=a.offsetY;return this};I.prototype.copy=function(){var a=new I;a.x=this.x;a.y=this.y;a.offsetX=this.offsetX;a.offsetY=this.offsetY;return a}; I.prototype.Ja=function(){this.ob=!0;Object.freeze(this);return this};I.prototype.Z=function(){return Object.isFrozen(this)?this:this.copy().freeze()};I.prototype.freeze=function(){this.ob=!0;return this};I.prototype.La=function(){Object.isFrozen(this)&&t.m("cannot thaw constant: "+this);this.ob=!1;return this};function ub(a,b){a.x=NaN;a.y=NaN;a.offsetX=b;return a}function pb(a,b){(isNaN(a)||1a)&&t.ka(a,"0 <= "+b+" <= 1",I,b)} function qb(a,b){(isNaN(a)||Infinity===a||-Infinity===a)&&t.ka(a,"real number, not NaN or Infinity",I,b)}var vb; I.parse=vb=function(a){if("string"===typeof a){a=a.trim();if("None"===a)return t.NONE;if("TopLeft"===a)return t.Xx;if("Top"===a||"TopCenter"===a||"MiddleTop"===a)return t.eq;if("TopRight"===a)return t.Zx;if("Left"===a||"LeftCenter"===a||"MiddleLeft"===a)return t.bq;if("Center"===a)return t.Lx;if("Right"===a||"RightCenter"===a||"MiddleRight"===a)return t.cq;if("BottomLeft"===a)return t.Gx;if("Bottom"===a||"BottomCenter"===a||"MiddleBottom"===a)return t.aq;if("BottomRight"===a)return t.Ix;if("TopSide"=== a)return t.ay;if("LeftSide"===a)return t.Px;if("RightSide"===a)return t.Vx;if("BottomSide"===a)return t.Kx;if("TopBottomSides"===a)return t.Wx;if("LeftRightSides"===a)return t.Ox;if("TopLeftSides"===a)return t.Yx;if("TopRightSides"===a)return t.$x;if("BottomLeftSides"===a)return t.Hx;if("BottomRightSides"===a)return t.Jx;if("NotTopSide"===a)return t.Tx;if("NotLeftSide"===a)return t.Rx;if("NotRightSide"===a)return t.Sx;if("NotBottomSide"===a)return t.Qx;if("AllSides"===a)return t.Fx;if("Default"=== a)return t.Mx;a=a.split(" ");for(var b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var f=0;""===a[b];)b++;(d=a[b++])&&(f=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var h=0;""===a[b];)b++;(d=a[b++])&&(h=parseFloat(d));return new I(c,f,g,h)}return new I};I.stringify=function(a){return a instanceof I?a.xd()?a.x.toString()+" "+a.y.toString()+" "+a.offsetX.toString()+" "+a.offsetY.toString():a.toString():a.toString()}; I.prototype.toString=function(){return this.xd()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.M(t.NONE)?"None":this.M(t.Xx)?"TopLeft":this.M(t.eq)?"Top":this.M(t.Zx)?"TopRight":this.M(t.bq)?"Left":this.M(t.Lx)?"Center":this.M(t.cq)?"Right":this.M(t.Gx)?"BottomLeft":this.M(t.aq)?"Bottom":this.M(t.Ix)?"BottomRight":this.M(t.ay)?"TopSide":this.M(t.Px)?"LeftSide":this.M(t.Vx)?"RightSide":this.M(t.Kx)?"BottomSide": this.M(t.Wx)?"TopBottomSides":this.M(t.Ox)?"LeftRightSides":this.M(t.Yx)?"TopLeftSides":this.M(t.$x)?"TopRightSides":this.M(t.Hx)?"BottomLeftSides":this.M(t.Jx)?"BottomRightSides":this.M(t.Tx)?"NotTopSide":this.M(t.Rx)?"NotLeftSide":this.M(t.Sx)?"NotRightSide":this.M(t.Qx)?"NotBottomSide":this.M(t.Fx)?"AllSides":this.M(t.Mx)?"Default":"None"}; I.prototype.equals=I.prototype.M=function(a){return a instanceof I?(this.x===a.x||isNaN(this.x)&&isNaN(a.x))&&(this.y===a.y||isNaN(this.y)&&isNaN(a.y))&&this.offsetX===a.offsetX&&this.offsetY===a.offsetY:!1};I.prototype.opposite=function(){return new I(0.5-(this.x-0.5),0.5-(this.y-0.5),-this.offsetX,-this.offsetY)};I.prototype.includesSide=function(a){if(!this.rp()||!a.rp())return!1;a=a.offsetY;return(this.offsetY&a)===a};I.prototype.isSpot=I.prototype.xd=function(){return!isNaN(this.x)&&!isNaN(this.y)}; I.prototype.isNoSpot=I.prototype.Ge=function(){return isNaN(this.x)||isNaN(this.y)};I.prototype.isSide=I.prototype.rp=function(){return this.Ge()&&1===this.offsetX&&0!==this.offsetY};I.prototype.isDefault=I.prototype.Pc=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY};t.bd=1;t.Jc=2;t.Tc=4;t.Sc=8;t.NONE=ub(new I(0,0,0,0),0).Ja();t.Mx=ub(new I(0,0,-1,0),-1).Ja();t.Xx=(new I(0,0,0,0)).Ja();t.eq=(new I(0.5,0,0,0)).Ja();t.Zx=(new I(1,0,0,0)).Ja(); t.bq=(new I(0,0.5,0,0)).Ja();t.Lx=(new I(0.5,0.5,0,0)).Ja();t.cq=(new I(1,0.5,0,0)).Ja();t.Gx=(new I(0,1,0,0)).Ja();t.aq=(new I(0.5,1,0,0)).Ja();t.Ix=(new I(1,1,0,0)).Ja();t.ay=ub(new I(0,0,1,t.bd),1).Ja();t.Px=ub(new I(0,0,1,t.Jc),1).Ja();t.Vx=ub(new I(0,0,1,t.Tc),1).Ja();t.Kx=ub(new I(0,0,1,t.Sc),1).Ja();t.Wx=ub(new I(0,0,1,t.bd|t.Sc),1).Ja();t.Ox=ub(new I(0,0,1,t.Jc|t.Tc),1).Ja();t.Yx=ub(new I(0,0,1,t.bd|t.Jc),1).Ja();t.$x=ub(new I(0,0,1,t.bd|t.Tc),1).Ja();t.Hx=ub(new I(0,0,1,t.Sc|t.Jc),1).Ja(); t.Jx=ub(new I(0,0,1,t.Sc|t.Tc),1).Ja();t.Tx=ub(new I(0,0,1,t.Jc|t.Tc|t.Sc),1).Ja();t.Rx=ub(new I(0,0,1,t.bd|t.Tc|t.Sc),1).Ja();t.Sx=ub(new I(0,0,1,t.bd|t.Jc|t.Sc),1).Ja();t.Qx=ub(new I(0,0,1,t.bd|t.Jc|t.Tc),1).Ja();t.Fx=ub(new I(0,0,1,t.bd|t.Jc|t.Tc|t.Sc),1).Ja();var wb;I.None=wb=t.NONE;var xb;I.Default=xb=t.Mx;var Eb;I.TopLeft=Eb=t.Xx;var Fb;I.TopCenter=Fb=t.eq;var Gb;I.TopRight=Gb=t.Zx;I.LeftCenter=t.bq;var Kb;I.Center=Kb=t.Lx;I.RightCenter=t.cq;var Lb;I.BottomLeft=Lb=t.Gx;var Mb; I.BottomCenter=Mb=t.aq;var Pb;I.BottomRight=Pb=t.Ix;var Qb;I.MiddleTop=Qb=t.eq;var Vb;I.MiddleLeft=Vb=t.bq;var Wb;I.MiddleRight=Wb=t.cq;var Xb;I.MiddleBottom=Xb=t.aq;I.Top=t.eq;var Yb;I.Left=Yb=t.bq;var Zb;I.Right=Zb=t.cq;I.Bottom=t.aq;var ac;I.TopSide=ac=t.ay;var bc;I.LeftSide=bc=t.Px;var cc;I.RightSide=cc=t.Vx;var dc;I.BottomSide=dc=t.Kx;I.TopBottomSides=t.Wx;I.LeftRightSides=t.Ox;I.TopLeftSides=t.Yx;I.TopRightSides=t.$x;I.BottomLeftSides=t.Hx;I.BottomRightSides=t.Jx;I.NotTopSide=t.Tx; I.NotLeftSide=t.Rx;I.NotRightSide=t.Sx;I.NotBottomSide=t.Qx;var gc;I.AllSides=gc=t.Fx;function hc(){this.cf=[1,0,0,1,0,0]}hc.prototype.copy=function(){var a=new hc;a.cf[0]=this.cf[0];a.cf[1]=this.cf[1];a.cf[2]=this.cf[2];a.cf[3]=this.cf[3];a.cf[4]=this.cf[4];a.cf[5]=this.cf[5];return a};function mc(a){this.type=a;this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0;this.YD=[]}mc.prototype.addColorStop=function(a,b){this.YD.push({offset:a,color:b})}; function nc(a,b,c){this.fillStyle="#000000";this.font="10px sans-serif";this.globalAlpha=1;this.lineCap="butt";this.Zw=0;this.lineJoin="miter";this.lineWidth=1;this.miterLimit=10;this.shadowBlur=0;this.shadowColor="rgba(0, 0, 0, 0)";this.shadowOffsetY=this.shadowOffsetX=0;this.strokeStyle="#000000";this.textAlign="start";this.document=b||document;this.xE=c;this.Vw=null;this.path=[];this.Zi=new hc;this.stack=[];this.uf=[];this.qG=this.KE=this.mw=0;this.zw=a;this.tJ="http://www.w3.org/2000/svg";this.width= this.zw.width;this.height=this.zw.height;this.zl=oc(this,"svg",{width:this.width+"px",height:this.height+"px",UK:"0 0 "+this.zw.width+" "+this.zw.height});this.zl.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg");this.zl.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");rc(this,1,0,0,1,0,0);a=oc(this,"clipPath",{id:"mainClip"});a.appendChild(oc(this,"rect",{x:0,y:0,width:this.width,height:this.height}));this.zl.appendChild(a); this.uf[0].setAttributeNS(null,"clip-path","url(#mainClip)")}aa=nc.prototype;aa.arc=function(a,b,c,d,f,g){sc(this,a,b,c,d,f,g)};aa.beginPath=function(){this.path=[]};aa.bezierCurveTo=function(a,b,c,d,f,g){this.path.push(["C",a,b,c,d,f,g])};aa.clearRect=function(){};aa.clip=function(){tc(this,"clipPath",this.path,new hc)};aa.closePath=function(){this.path.push(["z"])};aa.createLinearGradient=function(a,b,c,d){var f=new mc("linear");f.x1=a;f.y1=b;f.x2=c;f.y2=d;return f};aa.createPattern=function(){}; aa.createRadialGradient=function(a,b,c,d,f,g){var h=new mc("radial");h.x1=a;h.y1=b;h.r1=c;h.x2=d;h.y2=f;h.r2=g;return h}; aa.drawImage=function(a,b,c,d,f,g,h,k,l){a=[b,c,d,f,g,h,k,l,a];b=this.Zi;f=a[8];c={x:0,y:0,width:f.naturalWidth,height:f.naturalHeight,href:f.src};d="";g=a[6]/a[2];h=a[7]/a[3];if(0!==a[4]||0!==a[5])d+=" translate("+a[4]+", "+a[5]+")";if(1!==g||1!==h)d+=" scale("+g+", "+h+")";if(0!==a[0]||0!==a[1])d+=" translate("+-a[0]+", "+-a[1]+")";if(0!==a[0]||0!==a[1]||a[2]!==f.naturalWidth||a[3]!==f.naturalHeight)f="CLIP"+this.mw,this.mw++,g=oc(this,"clipPath",{id:f}),g.appendChild(oc(this,"rect",{x:a[0],y:a[1], width:a[2],height:a[3]})),this.zl.appendChild(g),c["clip-path"]="url(#"+f+")";uc(this,"image",c,b,d);this.addElement("image",c)};aa.fill=function(){tc(this,"fill",this.path,this.Zi)};aa.fillRect=function(a,b,c,d){vc(this,"fill",[a,b,c,d],this.Zi)};aa.fillText=function(a,b,c){a=[a,b,c];b=this.textAlign;"left"===b?b="start":"right"===b?b="end":"center"===b&&(b="middle");b={x:a[1],y:a[2],style:"font: "+this.font,"text-anchor":b};uc(this,"fill",b,this.Zi);this.addElement("text",b,a[0])}; aa.lineTo=function(a,b){this.path.push(["L",a,b])};aa.moveTo=function(a,b){this.path.push(["M",a,b])};aa.quadraticCurveTo=function(a,b,c,d){this.path.push(["Q",a,b,c,d])};aa.rect=function(a,b,c,d){this.path.push(["M",a,b],["L",a+c,b],["L",a+c,b+d],["L",a,b+d],["z"])}; aa.restore=function(){this.Zi=this.stack.pop();this.path=this.stack.pop();var a=this.stack.pop();this.fillStyle=a.fillStyle;this.font=a.font;this.globalAlpha=a.globalAlpha;this.lineCap=a.lineCap;this.Zw=a.Zw;this.lineJoin=a.lineJoin;this.lineWidth=a.lineWidth;this.miterLimit=a.miterLimit;this.shadowBlur=a.shadowBlur;this.shadowColor=a.shadowColor;this.shadowOffsetX=a.shadowOffsetX;this.shadowOffsetY=a.shadowOffsetY;this.strokeStyle=a.strokeStyle;this.textAlign=a.textAlign}; aa.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,Zw:this.Zw,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var a=[],b=0;bb.offset?1:-1});for(k=0;k=2*Math.PI?(sc(a,b,c,d,f,f+Math.PI,h),sc(a,b,c,d,f+Math.PI,f+2*Math.PI,h),a.path.push(["M",l,g])):(b+=d*Math.cos(f),c+=d*Math.sin(f),k=180*k/Math.PI,f=h?0:1,h=180<=k==!!h?0:1,0!==a.path.length?a.path.push(["L",b,c]):a.path.push(["M",b,c]),a.path.push(["A",d,d,k,h,f,l,g]))}} function rc(a,b,c,d,f,g,h){var k=new hc;k.cf=[b,c,d,f,g,h];b={};uc(a,"g",b,k);k=a.addElement("g",b);a.uf.push(k)} aa.bb=function(){var a="SHADOW"+this.qG;this.qG++;var b=this.addElement("filter",{id:a,width:"250%",height:"250%"},null),c,d,f,g,h;if(0!==this.shadowOffsetX||0!==this.shadowOffsetY)c=oc(this,"feGaussianBlur",{"in":"SourceAlpha",result:"blur",QK:this.shadowBlur/2}),d=oc(this,"feFlood",{"in":"blur",result:"flood","flood-color":this.shadowColor}),f=oc(this,"feComposite",{"in":"flood",in2:"blur",operator:"in",result:"comp"}),g=oc(this,"feOffset",{"in":"comp",result:"offsetBlur",dx:this.shadowOffsetX, dy:this.shadowOffsetY}),h=oc(this,"feMerge",{}),h.appendChild(oc(this,"feMergeNode",{"in":"offsetBlur"})),h.appendChild(oc(this,"feMergeNode",{"in":"SourceGraphic"})),b.appendChild(c),b.appendChild(d),b.appendChild(f),b.appendChild(g),b.appendChild(h);0=a)return 0;var b=H.xB;if(null===b){for(var b=[],c=0;2E3>=c;c++)b[c]=Math.sqrt(c);H.xB=b}return 1>a?(c=1/a,2E3>=c?1/b[c| 0]:Math.sqrt(a)):2E3>=a?b[a|0]:Math.sqrt(a)},I:function(a,b){var c=a-b;return 0.5>c&&-0.5c&&-5E-8=f&&(f=1E-6);var k,l,m,n;am-n)if(a-c>f||c-a>f){if(g=(d-b)/(c-a)*(g-a)+b,g-f<=h&&h<=g+f)return!0}else return!0;else if(b-d>f||d-b>f){if(h=(c- a)/(d-b)*(h-b)+a,h-f<=g&&g<=h+f)return!0}else return!0;return!1},hw:function(a,b,c,d,f,g,h,k,l,m,n,p){if(H.Md(a,b,h,k,p,c,d)&&H.Md(a,b,h,k,p,f,g))return H.Md(a,b,h,k,p,m,n);var q=(a+c)/2,r=(b+d)/2,s=(c+f)/2,u=(d+g)/2;f=(f+h)/2;g=(g+k)/2;d=(q+s)/2;c=(r+u)/2;var s=(s+f)/2,u=(u+g)/2,v=(d+s)/2,D=(c+u)/2;return H.hw(a,b,q,r,d,c,v,D,l,m,n,p)||H.hw(v,D,s,u,f,g,h,k,l,m,n,p)},aI:function(a,b,c,d,f,g,h,k,l){var m=(c+f)/2,n=(d+g)/2;l.x=(((a+c)/2+m)/2+(m+(f+h)/2)/2)/2;l.y=(((b+d)/2+n)/2+(n+(g+k)/2)/2)/2;return l}, $H:function(a,b,c,d,f,g,h,k){var l=(c+f)/2,m=(d+g)/2;return Ta(((a+c)/2+l)/2,((b+d)/2+m)/2,(l+(f+h)/2)/2,(m+(g+k)/2)/2)},So:function(a,b,c,d,f,g,h,k,l,m){if(H.Md(a,b,h,k,l,c,d)&&H.Md(a,b,h,k,l,f,g))hb(m,a,b,0,0),hb(m,h,k,0,0);else{var n=(a+c)/2,p=(b+d)/2,q=(c+f)/2,r=(d+g)/2;f=(f+h)/2;g=(g+k)/2;d=(n+q)/2;c=(p+r)/2;var q=(q+f)/2,r=(r+g)/2,s=(d+q)/2,u=(c+r)/2;H.So(a,b,n,p,d,c,s,u,l,m);H.So(s,u,q,r,f,g,h,k,l,m)}return m},ze:function(a,b,c,d,f,g,h,k,l,m){if(H.Md(a,b,h,k,l,c,d)&&H.Md(a,b,h,k,l,f,g))0=== m.length&&m.push([a,b]),m.push([h,k]);else{var n=(a+c)/2,p=(b+d)/2,q=(c+f)/2,r=(d+g)/2;f=(f+h)/2;g=(g+k)/2;d=(n+q)/2;c=(p+r)/2;var q=(q+f)/2,r=(r+g)/2,s=(d+q)/2,u=(c+r)/2;H.ze(a,b,n,p,d,c,s,u,l,m);H.ze(s,u,q,r,f,g,h,k,l,m)}return m},PA:function(a,b,c,d,f,g,h,k,l,m){if(H.Md(a,b,f,g,m,c,d))return H.Md(a,b,f,g,m,k,l);var n=(a+c)/2,p=(b+d)/2;c=(c+f)/2;d=(d+g)/2;var q=(n+c)/2,r=(p+d)/2;return H.PA(a,b,n,p,q,r,h,k,l,m)||H.PA(q,r,c,d,f,g,h,k,l,m)},PK:function(a,b,c,d,f,g,h){h.x=((a+c)/2+(c+f)/2)/2;h.y=((b+ d)/2+(d+g)/2)/2;return h},OA:function(a,b,c,d,f,g,h,k){if(H.Md(a,b,f,g,h,c,d))hb(k,a,b,0,0),hb(k,f,g,0,0);else{var l=(a+c)/2,m=(b+d)/2;c=(c+f)/2;d=(d+g)/2;var n=(l+c)/2,p=(m+d)/2;H.OA(a,b,l,m,n,p,h,k);H.OA(n,p,c,d,f,g,h,k)}return k},Jp:function(a,b,c,d,f,g,h,k){if(H.Md(a,b,f,g,h,c,d))0===k.length&&k.push([a,b]),k.push([f,g]);else{var l=(a+c)/2,m=(b+d)/2;c=(c+f)/2;d=(d+g)/2;var n=(l+c)/2,p=(m+d)/2;H.Jp(a,b,l,m,n,p,h,k);H.Jp(n,p,c,d,f,g,h,k)}return k},Ps:function(a,b,c,d,f,g,h,k,l,m,n,p,q,r){0>=q&& (q=1E-6);if(H.Md(a,b,h,k,q,c,d)&&H.Md(a,b,h,k,q,f,g)){var s=(a-h)*(m-p)-(b-k)*(l-n);if(!s)return!1;q=((a*k-b*h)*(l-n)-(a-h)*(l*p-m*n))/s;s=((a*k-b*h)*(m-p)-(b-k)*(l*p-m*n))/s;if((l>n?l-n:n-l)<(m>p?m-p:p-m)){if(bh)return!1}else if(ah)return!1;r.x=q;r.y=s;return!0}var s=(a+c)/2,u=(b+d)/2;c=(c+f)/2;d=(d+g)/2;f=(f+h)/2;g=(g+k)/2;var v=(s+c)/2,D=(u+d)/2;c=(c+f)/2;d=(d+g)/2;var A=(v+c)/2,G=(D+d)/2,L=(n-l)*(n-l)+(p-m)*(p-m),N=!1;H.Ps(a,b,s,u,v,D,A,G, l,m,n,p,q,r)&&(a=(r.x-l)*(r.x-l)+(r.y-m)*(r.y-m),a=q&&(q=1E-6);if(H.Md(a,b,h,k,q,c,d)&&H.Md(a,b,h,k,q,f,g)){q=(a-h)*(m-p)-(b-k)*(l-n);if(!q)return r;var s=((a*k-b*h)*(l-n)-(a-h)*(l*p-m*n))/q,u=((a*k-b*h)*(m-p)-(b-k)*(l*p-m*n))/q;if(s>=n)return r;if((l>n?l-n:n-l)<(m>p?m-p:p-m)){if(ba)return r}else if(a< h?(l=a,a=h):l=h,sa)return r;0q&&r--}else{var s=(a+c)/2,u=(b+d)/2,v=(c+f)/2,D=(d+g)/2;f=(f+h)/2;g=(g+k)/2;d=(s+v)/2;c=(u+D)/2;var v=(v+f)/2,D=(D+g)/2,A=(d+v)/2,G=(c+D)/2,r=r+H.Qs(a,b,s,u,d,c,A,G,l,m,n,p,q),r=r+H.Qs(A,G,v,D,f,g,h,k,l,m,n,p,q)}return r},cn:function(a,b,c,d,f,g,h){if(H.nb(a,c)){var k;bc)return h.x=a,h.y=c,!1;h.x=a;h.y=d;return!0}if(H.nb(b,d)){ac)return h.x= c,h.y=b,!1;h.x=d;h.y=b;return!0}k=((a-f)*(a-c)+(b-g)*(b-d))/((c-a)*(c-a)+(d-b)*(d-b));if(-5E-6>k)return h.x=a,h.y=b,!1;if(1.000005c)return l.x=a,l.y=c,!1;l.x=a; l.y=g;return!0}h=(d-b)/(c-a);if(H.nb(k,h))return H.cn(a,b,c,d,f,g,l),!1;f=(h*a-k*f+g-b)/(h-k);if(H.nb(h,0)){ac)return l.x=c,l.y=b,!1;l.x=f;l.y=b;return!0}g=h*(f-a)+b;return H.cn(a,b,c,d,f,g,l)},CK:function(a,b,c,d,f){return H.ih(c.x,c.y,d.x,d.y,a.x,a.y,b.x,b.y,f)},yK:function(a,b,c,d,f,g,h,k,l,m){function n(c,d){var f=(c-a)*(c-a)+(d-b)*(d-b);f(c>a?c-a:a-c)){q=1-(c-f)*(c-f)/(q*q);if(0>q)return l;q=Math.sqrt(q);d=-m*q+g;n(c,m*q+g);n(c,d)}else{c=(d-b)/(c-a);d=1/(q*q)+c*c/(m*m);k=2*c*(b-c*a)/(m*m)-2*c*g/(m*m)-2*f/(q*q);q=k*k-4*d*(2*c*a*g/(m*m)-2*b*g/(m*m)+g*g/(m*m)+f*f/(q*q)-1+(b-c*a)*(b-c*a)/(m*m));if(0>q)return l;q=Math.sqrt(q);m=(-k+q)/(2*d);n(m,c*m-c*a+b);q=(-k-q)/(2*d);n(q,c*q-c*a+b)}return l},kl:function(a,b,c,d,f,g,h,k,l){var m=1E21,n=a,p=b;if(H.ih(a,b,a, d,f,g,h,k,l)){var q=(l.x-f)*(l.x-f)+(l.y-g)*(l.y-g);qm},Ow:function(a,b,c){var d=b.x,f=b.y,g=c.x,h=c.y,k=a.left,l=a.right,m=a.top,n=a.bottom;return d===g?(f=m): f===h?(d=k):a.Fa(b)||a.Fa(c)||H.Nw(k,m,l,m,d,f,g,h)||H.Nw(l,m,l,n,d,f,g,h)||H.Nw(l,n,k,n,d,f,g,h)||H.Nw(k,n,k,m,d,f,g,h)?!0:!1},Nw:function(a,b,c,d,f,g,h,k){return 0>=H.nw(a,b,c,d,f,g)*H.nw(a,b,c,d,h,k)&&0>=H.nw(f,g,h,k,a,b)*H.nw(f,g,h,k,c,d)},nw:function(a,b,c,d,f,g){c-=a;d-=b;a=f-a;b=g-b;g=a*d-b*c;0===g&&(g=a*c+b*d,0g&&(g=0)));return 0>g?-1:0a&&(a+=360);360<=a&&(a-=360);return a},hE:function(a,b,c,d,f,g){var h= Math.PI;g||(d*=h/180,f*=h/180);g=dc,g=0>d,h,k;am;++m){b=0.5*(k+l);if(b===k||b===l)break;var n=a/(b+g),p=h/(b+f),n=n*n+p*p-1;if(0n)l=b;else break}c=g*c/(b+g)-c;d=f*d/(b+f)-d;c=Math.sqrt(c*c+d*d)}else c=Math.abs(d-b);else d=a*a-b*b,f=a*c,f=v-1?!0:null!==m[n+1].match(/[A-Za-z]/)}function d(){n++;return m[n]}function f(){var a=new w(parseFloat(d()),parseFloat(d()));p===p.toLowerCase()&&(a.x=u.x+a.x,a.y=u.y+a.y);return a}function g(){return u=f()}function h(){return s=f()}function k(){var a=[parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d())];c()||(a.push(parseFloat(d())),c()||a.push(parseFloat(d())));p===p.toLowerCase()&&(a[2]+=u.x,a[3]+=u.y);return a}function l(){return"c"!== q.toLowerCase()&&"s"!==q.toLowerCase()?u:new w(2*u.x-s.x,2*u.y-s.y)}void 0===b&&(b=!1);"string"!==typeof a&&t.bc(a,"string",zc,"parse:str");a=a.replace(/,/gm," ");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2");a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2");a=a.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2");a=a.replace(/([0-9])([+\-])/gm,"$1 $2"); a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");a=a.replace(/[\s\r\t\n]+/gm," ");a=a.replace(/^\s+|\s+$/g,"");for(var m=a.split(" "),n=-1,p="",q="",r=new w(0,0),s=new w(0,0),u=new w(0,0),v=m.length,D=t.u(),A,G=!1,L=!1,N=!0;!(n>=v-1);)if(q=p,p=d(),""!==p)switch(p.toUpperCase()){case "X":N=!0;L=G=!1;break;case "M":A=g();null===D.Wb||!0===N?(J(D,A.x,A.y,G,!1,!L),N=!1):D.moveTo(A.x,A.y);for(r=u;!c();)A=g(),D.lineTo(A.x,A.y);break;case "L":for(;!c();)A= g(),D.lineTo(A.x,A.y);break;case "H":for(;!c();)u=A=new w((p===p.toLowerCase()?u.x:0)+parseFloat(d()),u.y),D.lineTo(u.x,u.y);break;case "V":for(;!c();)u=A=new w(u.x,(p===p.toLowerCase()?u.y:0)+parseFloat(d())),D.lineTo(u.x,u.y);break;case "C":for(;!c();){var O=f(),U=h();A=g();K(D,O.x,O.y,U.x,U.y,A.x,A.y)}break;case "S":for(;!c();)O=l(),U=h(),A=g(),K(D,O.x,O.y,U.x,U.y,A.x,A.y);break;case "Q":for(;!c();)U=h(),A=g(),Sc(D,U.x,U.y,A.x,A.y);break;case "T":for(;!c();)s=U=l(),A=g(),Sc(D,U.x,U.y,A.x,A.y); break;case "B":for(;!c();)A=k(),D.arcTo(A[0],A[1],A[2],A[3],A[4],A[5],A[6]);break;case "A":for(;!c();){var O=Math.abs(parseFloat(d())),U=Math.abs(parseFloat(d())),Y=parseFloat(d()),ba=!!parseFloat(d()),R=!!parseFloat(d());A=g();Tc(D,O,U,Y,ba,R,A.x,A.y)}break;case "Z":M(D);u=r;break;case "F":A=null;for(O=1;m[n+O];)if(null!==m[n+O].match(/[Uu]/))O++;else if(null===m[n+O].match(/[A-Za-z]/))O++;else{A=m[n+O];break}A.match(/[Mm]/)?G=!0:Zc(D);break;case "U":A=null;for(O=1;m[n+O];)if(null!==m[n+O].match(/[Ff]/))O++; else if(null===m[n+O].match(/[A-Za-z]/))O++;else{A=m[n+O];break}A.match(/[Mm]/)?L=!0:D.bb(!1)}r=D.s;t.v(D);if(b)for(D=r.Ab.k;D.next();)D.value.pp=!0;return r};function $c(a,b){for(var c=a.length,d=t.K(),f=0;f=a&&t.ka(a,"scale must be greater than zero",zc,"scale:x"),0>=b&&t.ka(b,"scale must be greater than zero",zc,"scale:y"));this.transform(a,0,0,b,0,0)}; zc.prototype.rotate=zc.prototype.rotate=function(a,b,c){t.L(this);void 0===b&&(b=0);void 0===c&&(c=0);e&&(t.q(a,zc,"rotate:angle"),t.q(b,zc,"rotate:x"),t.q(c,zc,"rotate:y"));var d=t.oh();d.reset();d.rotate(a,b,c);this.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);t.We(d)}; zc.prototype.transform=zc.prototype.transform=function(a,b,c,d,f,g){var h,k;switch(this.type){case Dc:case Ec:case Mc:h=this.oc;k=this.xc;this.oc=h*a+k*c+f;this.xc=h*b+k*d+g;h=this.kb;k=this.tb;this.kb=h*a+k*c+f;this.tb=h*b+k*d+g;break;case Ac:for(var l=this.Ab,m=l.length,n=0;n=a)return 0;if((f>h?f-h:h-f)<(g>k?g-k:k-g)){if(gf)return 0}else if(ff)return 0;return 0a||1a)return n=(a-m)/l,t.ya(c),new w(b[0]+(d[0]-b[0])*n,b[1]+(d[1]-b[1])*n);m+=l}b=d}t.ya(c);return null};t.g(zc,"type",zc.prototype.type);t.defineProperty(zc,{type:"type"},function(){return this.da},function(a){this.da!==a&&(e&&t.Aa(a,zc,zc,"type"),t.L(this,a),this.da=a,this.Va=!0)});t.g(zc,"startX",zc.prototype.qa); t.defineProperty(zc,{qa:"startX"},function(){return this.oc},function(a){this.oc!==a&&(e&&t.q(a,zc,"startX"),t.L(this,a),this.oc=a,this.Va=!0)});t.g(zc,"startY",zc.prototype.ra);t.defineProperty(zc,{ra:"startY"},function(){return this.xc},function(a){this.xc!==a&&(e&&t.q(a,zc,"startY"),t.L(this,a),this.xc=a,this.Va=!0)});t.g(zc,"endX",zc.prototype.D);t.defineProperty(zc,{D:"endX"},function(){return this.kb},function(a){this.kb!==a&&(e&&t.q(a,zc,"endX"),t.L(this,a),this.kb=a,this.Va=!0)}); t.g(zc,"endY",zc.prototype.F);t.defineProperty(zc,{F:"endY"},function(){return this.tb},function(a){this.tb!==a&&(e&&t.q(a,zc,"endY"),t.L(this,a),this.tb=a,this.Va=!0)});t.g(zc,"figures",zc.prototype.Ab);t.defineProperty(zc,{Ab:"figures"},function(){return this.Bk},function(a){this.Bk!==a&&(e&&t.l(a,B,zc,"figures"),t.L(this,a),this.Bk=a,this.Va=!0)});t.defineProperty(zc,{G:"spot1"},function(){return this.Li},function(a){e&&t.l(a,I,zc,"spot1");t.L(this,a);this.Li=a.Z()}); t.defineProperty(zc,{H:"spot2"},function(){return this.Mi},function(a){e&&t.l(a,I,zc,"spot2");t.L(this,a);this.Mi=a.Z()});t.A(zc,{Pb:"bounds"},function(){this.vA()&&(this.pB(),this.pf());return this.tu});function Bc(a,b,c){t.Ac(this);void 0===c&&(c=!0);this.Ul=c;this.bo=!0;void 0!==a?(e&&t.q(a,Bc,"sx"),this.oc=a):this.oc=0;void 0!==b?(e&&t.q(b,Bc,"sy"),this.xc=b):this.xc=0;this.hs=new B(id);this.Hv=this.hs.V;this.Va=!0}t.ga("PathFigure",Bc);t.Xh(Bc); Bc.prototype.copy=function(){var a=new Bc;a.Ul=this.Ul;a.bo=this.bo;a.oc=this.oc;a.xc=this.xc;for(var b=this.hs,c=b.length,d=a.hs,f=0;fa&&(a+=360),this.jd=a),void 0!==d&&(e&&t.q(d,id,"x1"),this.ng=Math.max(d,0)),void 0!==f&&(e&&t.q(f,id,"y1"),this.og=Math.max(f,0)),this.jo=!!h,this.yn=!!k):(void 0!==d&&(e&&t.q(d,id,"x1"),this.jd=d),void 0!==f&&(e&&t.q(f,id,"y1"),this.ye=f),void 0!==g&&(e&&t.q(g,id, "x2"),a===ed&&(g=Math.max(g,0)),this.ng=g),void 0!==h&&"number"===typeof h&&(e&&t.q(h,id,"y2"),a===ed&&(h=Math.max(h,0)),this.og=h));this.Gh=!1;this.Va=!0;this.nj=null}t.ga("PathSegment",id);t.Xh(id); id.prototype.copy=function(){var a=new id;a.da=this.da;a.kb=this.kb;a.tb=this.tb;void 0!==this.jd&&(a.jd=this.jd);void 0!==this.ye&&(a.ye=this.ye);void 0!==this.ng&&(a.ng=this.ng);void 0!==this.og&&(a.og=this.og);void 0!==this.jo&&(a.jo=this.jo);void 0!==this.yn&&(a.yn=this.yn);a.Gh=this.Gh;a.Va=this.Va;return a}; id.prototype.equalsApprox=id.prototype.sf=function(a){if(!(a instanceof id)||this.type!==a.type||this.ot!==a.ot)return!1;switch(this.type){case bd:case Oc:return H.I(this.D,a.D)&&H.I(this.F,a.F);case cd:return H.I(this.D,a.D)&&H.I(this.F,a.F)&&H.I(this.Bb,a.Bb)&&H.I(this.Rb,a.Rb)&&H.I(this.re,a.re)&&H.I(this.se,a.se);case dd:return H.I(this.D,a.D)&&H.I(this.F,a.F)&&H.I(this.Bb,a.Bb)&&H.I(this.Rb,a.Rb);case ed:return H.I(this.mh,a.mh)&&H.I(this.gi,a.gi)&&H.I(this.Da,a.Da)&&H.I(this.Oa,a.Oa)&&H.I(this.radiusX, a.radiusX)&&H.I(this.radiusY,a.radiusY);case fd:return this.Qw===a.Qw&&this.Sw===a.Sw&&H.I(this.Ex,a.Ex)&&H.I(this.D,a.D)&&H.I(this.F,a.F)&&H.I(this.radiusX,a.radiusX)&&H.I(this.radiusY,a.radiusY);default:return!1}}; id.prototype.toString=function(a){switch(this.type){case bd:a=void 0===a?"M"+this.D.toString()+" "+this.F.toString():"M"+this.D.toFixed(a)+" "+this.F.toFixed(a);break;case Oc:a=void 0===a?"L"+this.D.toString()+" "+this.F.toString():"L"+this.D.toFixed(a)+" "+this.F.toFixed(a);break;case cd:a=void 0===a?"C"+this.Bb.toString()+" "+this.Rb.toString()+" "+this.re.toString()+" "+this.se.toString()+" "+this.D.toString()+" "+this.F.toString():"C"+this.Bb.toFixed(a)+" "+this.Rb.toFixed(a)+" "+this.re.toFixed(a)+ " "+this.se.toFixed(a)+" "+this.D.toFixed(a)+" "+this.F.toFixed(a);break;case dd:a=void 0===a?"Q"+this.Bb.toString()+" "+this.Rb.toString()+" "+this.D.toString()+" "+this.F.toString():"Q"+this.Bb.toFixed(a)+" "+this.Rb.toFixed(a)+" "+this.D.toFixed(a)+" "+this.F.toFixed(a);break;case ed:a=void 0===a?"B"+this.mh.toString()+" "+this.gi.toString()+" "+this.Da.toString()+" "+this.Oa.toString()+" "+this.radiusX:"B"+this.mh.toFixed(a)+" "+this.gi.toFixed(a)+" "+this.Da.toFixed(a)+" "+this.Oa.toFixed(a)+ " "+this.radiusX;break;case fd:a=void 0===a?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.Ex.toString()+" "+(this.Sw?1:0)+" "+(this.Qw?1:0)+" "+this.D.toString()+" "+this.F.toString():"A"+this.radiusX.toFixed(a)+" "+this.radiusY.toFixed(a)+" "+this.Ex.toFixed(a)+" "+(this.Sw?1:0)+" "+(this.Qw?1:0)+" "+this.D.toFixed(a)+" "+this.F.toFixed(a);break;default:a=this.type.toString()}return a+(this.Gh?"z":"")};var bd;id.Move=bd=t.w(id,"Move",0);var Oc;id.Line=Oc=t.w(id,"Line",1);var cd; id.Bezier=cd=t.w(id,"Bezier",2);var dd;id.QuadraticBezier=dd=t.w(id,"QuadraticBezier",3);var ed;id.Arc=ed=t.w(id,"Arc",4);var fd;id.SvgArc=fd=t.w(id,"SvgArc",4);id.prototype.freeze=function(){this.ob=!0;return this};id.prototype.La=function(){this.ob=!1;return this};id.prototype.close=id.prototype.close=function(){this.Gh=!0;return this}; function gd(a,b){if(null!==a.nj&&!1===b.Va)return a.nj;var c=a.radiusX,d=a.radiusY;void 0===d&&(d=c);var f=a.jd,g=a.ye,h=H.hE(0,0,c=g(p,r)&&(q=Math.PI);1<=g(p,r)&&(q=0);!m&&0q&&(q+=2*Math.PI);m=b>h?1:b/h;r=b>h? h/b:1;b=H.hE(0,0,b>h?b:h,k,k+q,!0);h=t.oh();h.reset();h.translate(c,d);h.rotate(a.jd,0,0);h.scale(m,r);$c(b,h);t.We(h);a.nj=b;return a.nj}t.g(id,"isClosed",id.prototype.ot);t.defineProperty(id,{ot:"isClosed"},function(){return this.Gh},function(a){this.Gh!==a&&(this.Gh=a,this.Va=!0)});t.g(id,"type",id.prototype.type);t.defineProperty(id,{type:"type"},function(){return this.da},function(a){e&&t.Aa(a,id,id,"type");t.L(this,a);this.da=a;this.Va=!0});t.g(id,"endX",id.prototype.D); t.defineProperty(id,{D:"endX"},function(){return this.kb},function(a){e&&t.q(a,id,"endX");t.L(this,a);this.kb=a;this.Va=!0});t.g(id,"endY",id.prototype.F);t.defineProperty(id,{F:"endY"},function(){return this.tb},function(a){e&&t.q(a,id,"endY");t.L(this,a);this.tb=a;this.Va=!0});t.defineProperty(id,{Bb:"point1X"},function(){return this.jd},function(a){e&&t.q(a,id,"point1X");t.L(this,a);this.jd=a;this.Va=!0}); t.defineProperty(id,{Rb:"point1Y"},function(){return this.ye},function(a){e&&t.q(a,id,"point1Y");t.L(this,a);this.ye=a;this.Va=!0});t.defineProperty(id,{re:"point2X"},function(){return this.ng},function(a){e&&t.q(a,id,"point2X");t.L(this,a);this.ng=a;this.Va=!0});t.defineProperty(id,{se:"point2Y"},function(){return this.og},function(a){e&&t.q(a,id,"point2Y");t.L(this,a);this.og=a;this.Va=!0}); t.defineProperty(id,{Da:"centerX"},function(){return this.jd},function(a){e&&t.q(a,id,"centerX");t.L(this,a);this.jd=a;this.Va=!0});t.defineProperty(id,{Oa:"centerY"},function(){return this.ye},function(a){e&&t.q(a,id,"centerY");t.L(this,a);this.ye=a;this.Va=!0});t.defineProperty(id,{radiusX:"radiusX"},function(){return this.ng},function(a){e&&t.q(a,id,"radiusX");0>a&&t.ka(a,">= zero",id,"radiusX");t.L(this,a);this.ng=a;this.Va=!0}); t.defineProperty(id,{radiusY:"radiusY"},function(){return this.og},function(a){e&&t.q(a,id,"radiusY");0>a&&t.ka(a,">= zero",id,"radiusY");t.L(this,a);this.og=a;this.Va=!0});t.defineProperty(id,{mh:"startAngle"},function(){return this.kb},function(a){this.kb!==a&&(t.L(this,a),e&&t.q(a,id,"startAngle"),a%=360,0>a&&(a+=360),this.kb=a,this.Va=!0)}); t.defineProperty(id,{gi:"sweepAngle"},function(){return this.tb},function(a){e&&t.q(a,id,"sweepAngle");t.L(this,a);360a&&(a=-360);this.tb=a;this.Va=!0});t.defineProperty(id,{Qw:"isClockwiseArc"},function(){return this.yn},function(a){t.L(this,a);this.yn=a;this.Va=!0});t.defineProperty(id,{Sw:"isLargeArc"},function(){return this.jo},function(a){t.L(this,a);this.jo=a;this.Va=!0}); t.defineProperty(id,{Ex:"xAxisRotation"},function(){return this.jd},function(a){e&&t.q(a,id,"xAxisRotation");a%=360;0>a&&(a+=360);t.L(this,a);this.jd=a;this.Va=!0});function ld(){this.U=null;this.Cz=(new w(0,0)).freeze();this.Jy=(new w(0,0)).freeze();this.qu=this.jv=0;this.Yu="";this.Vv=this.Fu=!1;this.Cu=this.su=0;this.oj=this.Nu=!1;this.Mq=null;this.Tv=0;this.pg=this.Rv=null}t.ga("InputEvent",ld); ld.prototype.copy=function(){var a=new ld;a.U=this.U;a.Cz.assign(this.Ke);a.Jy.assign(this.ea);a.jv=this.jv;a.qu=this.qu;a.Yu=this.Yu;a.Fu=this.Fu;a.Vv=this.Vv;a.su=this.su;a.Cu=this.Cu;a.Nu=this.Nu;a.oj=this.oj;a.Mq=this.Mq;a.Tv=this.Tv;a.Rv=this.Rv;a.pg=this.pg;return a}; ld.prototype.toString=function(){var a="^";this.$c&&(a+="M:"+this.$c);this.button&&(a+="B:"+this.button);this.key&&(a+="K:"+this.key);this.Ae&&(a+="C:"+this.Ae);this.Xj&&(a+="D:"+this.Xj);this.Ee&&(a+="h");this.bubbles&&(a+="b");null!==this.ea&&(a+="@"+this.ea.toString());return a};t.g(ld,"diagram",ld.prototype.h);t.defineProperty(ld,{h:"diagram"},function(){return this.U},function(a){this.U=a});t.g(ld,"viewPoint",ld.prototype.Ke); t.defineProperty(ld,{Ke:"viewPoint"},function(){return this.Cz},function(a){t.l(a,w,ld,"viewPoint");this.Cz.assign(a)});t.g(ld,"documentPoint",ld.prototype.ea);t.defineProperty(ld,{ea:"documentPoint"},function(){return this.Jy},function(a){t.l(a,w,ld,"documentPoint");this.Jy.assign(a)});t.g(ld,"modifiers",ld.prototype.$c);t.defineProperty(ld,{$c:"modifiers"},function(){return this.jv},function(a){this.jv=a});t.g(ld,"button",ld.prototype.button); t.defineProperty(ld,{button:"button"},function(){return this.qu},function(a){this.qu=a});t.g(ld,"key",ld.prototype.key);t.defineProperty(ld,{key:"key"},function(){return this.Yu},function(a){this.Yu=a});t.g(ld,"down",ld.prototype.$j);t.defineProperty(ld,{$j:"down"},function(){return this.Fu},function(a){this.Fu=a});t.g(ld,"up",ld.prototype.lj);t.defineProperty(ld,{lj:"up"},function(){return this.Vv},function(a){this.Vv=a});t.g(ld,"clickCount",ld.prototype.Ae); t.defineProperty(ld,{Ae:"clickCount"},function(){return this.su},function(a){this.su=a});t.g(ld,"delta",ld.prototype.Xj);t.defineProperty(ld,{Xj:"delta"},function(){return this.Cu},function(a){this.Cu=a});t.g(ld,"handled",ld.prototype.Ee);t.defineProperty(ld,{Ee:"handled"},function(){return this.Nu},function(a){this.Nu=a});t.g(ld,"bubbles",ld.prototype.bubbles);t.defineProperty(ld,{bubbles:"bubbles"},function(){return this.oj},function(a){this.oj=a});t.g(ld,"event",ld.prototype.event); t.defineProperty(ld,{event:"event"},function(){return this.Mq},function(a){this.Mq=a});t.A(ld,{Uw:"isTouchEvent"},function(){var a=window.TouchEvent;return a&&this.event instanceof a});t.g(ld,"timestamp",ld.prototype.timestamp);t.defineProperty(ld,{timestamp:"timestamp"},function(){return this.Tv},function(a){this.Tv=a});t.g(ld,"targetDiagram",ld.prototype.nh);t.defineProperty(ld,{nh:"targetDiagram"},function(){return this.Rv},function(a){this.Rv=a});t.g(ld,"targetObject",ld.prototype.be); t.defineProperty(ld,{be:"targetObject"},function(){return this.pg},function(a){this.pg=a});t.g(ld,"control",ld.prototype.control);t.defineProperty(ld,{control:"control"},function(){return 0!==(this.$c&1)},function(a){this.$c=a?this.$c|1:this.$c&-2});t.g(ld,"shift",ld.prototype.shift);t.defineProperty(ld,{shift:"shift"},function(){return 0!==(this.$c&4)},function(a){this.$c=a?this.$c|4:this.$c&-5});t.g(ld,"alt",ld.prototype.alt); t.defineProperty(ld,{alt:"alt"},function(){return 0!==(this.$c&2)},function(a){this.$c=a?this.$c|2:this.$c&-3});t.g(ld,"meta",ld.prototype.Bp);t.defineProperty(ld,{Bp:"meta"},function(){return 0!==(this.$c&8)},function(a){this.$c=a?this.$c|8:this.$c&-9});t.g(ld,"left",ld.prototype.left);t.defineProperty(ld,{left:"left"},function(){return 0===this.button},function(a){this.button=a?0:2});t.g(ld,"middle",ld.prototype.pJ); t.defineProperty(ld,{pJ:"middle"},function(){return 1===this.button},function(a){this.button=a?1:0});t.g(ld,"right",ld.prototype.right);t.defineProperty(ld,{right:"right"},function(){return 2===this.button},function(a){this.button=a?2:0});function rd(){this.U=null;this.Yb="";this.xv=this.Nv=null;this.ru=!1}t.ga("DiagramEvent",rd);rd.prototype.copy=function(){var a=new rd;a.U=this.U;a.Yb=this.Yb;a.Nv=this.Nv;a.xv=this.xv;a.ru=this.ru;return a}; rd.prototype.toString=function(){var a="*"+this.name;this.cancel&&(a+="x");null!==this.Ax&&(a+=":"+this.Ax.toString());null!==this.kx&&(a+="("+this.kx.toString()+")");return a};t.g(rd,"diagram",rd.prototype.h);t.defineProperty(rd,{h:"diagram"},function(){return this.U},function(a){this.U=a});t.g(rd,"name",rd.prototype.name);t.defineProperty(rd,{name:"name"},function(){return this.Yb},function(a){this.Yb=a});t.g(rd,"subject",rd.prototype.Ax); t.defineProperty(rd,{Ax:"subject"},function(){return this.Nv},function(a){this.Nv=a});t.g(rd,"parameter",rd.prototype.kx);t.defineProperty(rd,{kx:"parameter"},function(){return this.xv},function(a){this.xv=a});t.g(rd,"cancel",rd.prototype.cancel);t.defineProperty(rd,{cancel:"cancel"},function(){return this.ru},function(a){this.ru=a});function td(){this.clear()}t.ga("ChangedEvent",td);var ud;td.Transaction=ud=t.w(td,"Transaction",-1);var vd;td.Property=vd=t.w(td,"Property",0);var wd; td.Insert=wd=t.w(td,"Insert",1);var xd;td.Remove=xd=t.w(td,"Remove",2);td.prototype.clear=td.prototype.clear=function(){this.sq=vd;this.mm=this.iv="";this.mv=this.nv=this.tv=this.to=this.sv=this.U=this.je=null}; td.prototype.copy=function(){var a=new td;a.je=this.je;a.U=this.U;a.sq=this.sq;a.iv=this.iv;a.mm=this.mm;a.sv=this.sv;var b=this.to;a.to=t.rb(b)&&"function"===typeof b.Z?b.Z():b;b=this.tv;a.tv=t.rb(b)&&"function"===typeof b.Z?b.Z():b;b=this.nv;a.nv=t.rb(b)&&"function"===typeof b.Z?b.Z():b;b=this.mv;a.mv=t.rb(b)&&"function"===typeof b.Z?b.Z():b;return a}; td.prototype.toString=function(){var a="",a=this.td===ud?a+"* ":this.td===vd?a+(null!==this.ba?"!m":"!d"):a+((null!==this.ba?"!m":"!d")+this.td);this.propertyName&&"string"===typeof this.propertyName&&(a+=" "+this.propertyName);this.Af&&this.Af!==this.propertyName&&(a+=" "+this.Af);a+=": ";this.td===ud?null!==this.oldValue&&(a+=" "+this.oldValue):(null!==this.object&&(a+=yd(this.object)),null!==this.oldValue&&(a+=" old: "+yd(this.oldValue)),null!==this.Yf&&(a+=" "+this.Yf),null!==this.newValue&& (a+=" new: "+yd(this.newValue)),null!==this.Wf&&(a+=" "+this.Wf));return a};td.prototype.getValue=td.prototype.za=function(a){return a?this.oldValue:this.newValue};td.prototype.getParam=function(a){return a?this.Yf:this.Wf};td.prototype.canUndo=td.prototype.canUndo=function(){return null!==this.ba||null!==this.h?!0:!1};td.prototype.undo=td.prototype.undo=function(){this.canUndo()&&(null!==this.ba?this.ba.changeState(this,!0):null!==this.h&&this.h.changeState(this,!0))}; td.prototype.canRedo=td.prototype.canRedo=function(){return null!==this.ba||null!==this.h?!0:!1};td.prototype.redo=td.prototype.redo=function(){this.canRedo()&&(null!==this.ba?this.ba.changeState(this,!1):null!==this.h&&this.h.changeState(this,!1))};t.g(td,"model",td.prototype.ba);t.defineProperty(td,{ba:"model"},function(){return this.je},function(a){this.je=a});t.g(td,"diagram",td.prototype.h);t.defineProperty(td,{h:"diagram"},function(){return this.U},function(a){this.U=a});t.g(td,"change",td.prototype.td); t.defineProperty(td,{td:"change"},function(){return this.sq},function(a){e&&t.Aa(a,td,td,"change");this.sq=a});t.g(td,"modelChange",td.prototype.Af);t.defineProperty(td,{Af:"modelChange"},function(){return this.iv},function(a){e&&t.i(a,"string",td,"modelChange");this.iv=a});t.g(td,"propertyName",td.prototype.propertyName);t.defineProperty(td,{propertyName:"propertyName"},function(){return this.mm},function(a){e&&"string"!==typeof a&&t.l(a,Function,td,"propertyName");this.mm=a}); t.g(td,"isTransactionFinished",td.prototype.aJ);t.A(td,{aJ:"isTransactionFinished"},function(){return this.sq===ud&&("CommittedTransaction"===this.mm||"FinishedUndo"===this.mm||"FinishedRedo"===this.mm)});t.g(td,"object",td.prototype.object);t.defineProperty(td,{object:"object"},function(){return this.sv},function(a){this.sv=a});t.g(td,"oldValue",td.prototype.oldValue);t.defineProperty(td,{oldValue:"oldValue"},function(){return this.to},function(a){this.to=a});t.g(td,"oldParam",td.prototype.Yf); t.defineProperty(td,{Yf:"oldParam"},function(){return this.tv},function(a){this.tv=a});t.g(td,"newValue",td.prototype.newValue);t.defineProperty(td,{newValue:"newValue"},function(){return this.nv},function(a){this.nv=a});t.g(td,"newParam",td.prototype.Wf);t.defineProperty(td,{Wf:"newParam"},function(){return this.mv},function(a){this.mv=a}); function F(a){1b||(t.Ti(this.Me,b),de(this,"nodeDataArray",xd,"nodeDataArray",this,a,null,b,null),this.Zt(a)))}};F.prototype.removeNodeDataCollection=function(a){if(t.isArray(a))for(var b=t.ub(a),c=0;cb&&(b=t.ub(a));t.Si(a,b,c);de(this,"",wd,"",a,null,c,null,b)}; F.prototype.removeArrayItem=function(a,b){void 0===b&&(b=-1);e&&(t.Rs(a,F,"removeArrayItem:arr"),t.q(b,F,"removeArrayItem:idx"));a===this.Me&&t.m("Model.removeArrayItem should not be called on the Model.nodeDataArray");-1===b&&(b=t.ub(a)-1);var c=t.mb(a,b);t.Ti(a,b);de(this,"",xd,"",a,c,null,b,null)};t.g(F,"nodeCategoryProperty",F.prototype.ql); t.defineProperty(F,{ql:"nodeCategoryProperty"},function(){return this.Hr},function(a){var b=this.Hr;b!==a&&(ne(a,F,"nodeCategoryProperty"),this.Hr=a,this.j("nodeCategoryProperty",b,a))});F.prototype.getCategoryForNodeData=F.prototype.getCategoryForNodeData=function(a){if(null===a)return"";var b=this.Hr;if(""===b)return"";b=t.ib(a,b);if(void 0===b)return"";if("string"===typeof b)return b;t.m("getCategoryForNodeData found a non-string category for "+a+": "+b);return""}; F.prototype.setCategoryForNodeData=F.prototype.sx=function(a,b){t.i(b,"string",F,"setCategoryForNodeData:cat");if(null!==a){var c=this.Hr;if(""!==c)if(this.me(a)){var d=t.ib(a,c);void 0===d&&(d="");d!==b&&(t.Ra(a,c,b),de(this,"nodeCategory",vd,c,a,d,b))}else t.Ra(a,c,b)}}; function P(a,b){2f||(t.Ti(d,f),this.Xi(a)&&(re(this,b,a),de(this,"linkLabelKeys",xd,c,a,b,null)))}else void 0!==d&&t.m(c+" property is not an Array; cannot removeLabelKeyforLinkData: "+a)}}};t.g(P,"linkDataArray",P.prototype.gj); t.defineProperty(P,{gj:"linkDataArray"},function(){return this.Xg},function(a){var b=this.Xg;if(b!==a){t.Rs(a,P,"linkDataArray");this.Yd&&t.zc&&(null!==b&&t.Xm(b,"linkDataArray",this,!0),a=t.Xm(a,"linkDataArray",this,!1));for(var c=t.ub(a),d=0;db)){t.Ti(this.Xg,b);de(this,"linkDataArray",xd,"linkDataArray",this,a,null,b,null);b=this.hl(a);re(this,b,a);b=this.ll(a);re(this,b,a);var c=this.jl(a);if(t.isArray(c))for(var d=t.ub(c),f=0;fa.Je&&t.trace("Ending transaction without having started a transaction: "+c);var d=1===a.Je;d&&b&&a.isEnabled&&a.Xc("CommittingTransaction",c,a.Yi);var f=0;if(0a.bj;f--)g=d.wa(f),null!== g&&g.clear(),d.qd(f),a.cz=!0;f=a.BA;0===f&&(f=1);0=f&&(g=d.wa(0),null!==g&&g.clear(),d.qd(0),a.Ug--);d.add(b);a.Ug++;d.freeze();g=b}a.Xc("CommittedTransaction",c,g)}else{a.wi=!0;try{a.isEnabled&&null!==g&&(g.op=!0,g.undo())}finally{a.Xc("RolledBackTransaction",c,g),a.wi=!1}null!==g&&g.clear()}a.Bu=null;return!0}if(a.isEnabled&&!b&&null!==g){a=f;c=g.dh;for(b=c.count-1;b>=a;b--)d=c.wa(b),null!==d&&d.undo(),c.La(),c.qd(b);c.freeze()}return!1} zd.prototype.canUndo=zd.prototype.canUndo=function(){if(!this.isEnabled||0=this.Je&&!this.Ry&&(a=a.h,null!==a&&!1===a.kf||t.trace("Change not within a transaction: "+c.toString()))}}; zd.prototype.skipsEvent=function(a){if(null===a||0>a.td.value)return!0;a=a.object;if(a instanceof Q){if(a=a.layer,null!==a&&a.yc)return!0}else if(a instanceof $d&&a.yc)return!0;return!1};t.A(zd,{qJ:"models"},function(){return this.iz.k});t.g(zd,"isEnabled",zd.prototype.isEnabled);t.defineProperty(zd,{isEnabled:"isEnabled"},function(){return this.Le},function(a){this.Le=a});t.A(zd,{HG:"transactionToUndo"},function(){return 0<=this.bj&&this.bj<=this.history.count-1?this.history.wa(this.bj):null}); t.A(zd,{GG:"transactionToRedo"},function(){return this.bjb.Bg||(b.scale=a))};oa.prototype.canDecreaseZoom=function(a){void 0===a&&(a=1/this.bu);t.q(a,oa,"canDecreaseZoom:factor");var b=this.h;if(null===b||b.Dm!==Xe)return!1;a*=b.scale;return ab.Bg?!1:b.Ns}; oa.prototype.increaseZoom=function(a){void 0===a&&(a=this.bu);t.q(a,oa,"increaseZoom:factor");var b=this.h;null!==b&&b.Dm===Xe&&(a*=b.scale,ab.Bg||(b.scale=a))};oa.prototype.canIncreaseZoom=function(a){void 0===a&&(a=this.bu);t.q(a,oa,"canIncreaseZoom:factor");var b=this.h;if(null===b||b.Dm!==Xe)return!1;a*=b.scale;return ab.Bg?!1:b.Ns};oa.prototype.resetZoom=function(a){void 0===a&&(a=this.Ys);t.q(a,oa,"resetZoom:newscale");var b=this.h;null===b||ab.Bg||(b.scale=a)}; oa.prototype.canResetZoom=function(a){void 0===a&&(a=this.Ys);t.q(a,oa,"canResetZoom:newscale");var b=this.h;return null===b||ab.Bg?!1:b.Ns};oa.prototype.zoomToFit=function(){var a=this.h;if(null!==a){var b=a.scale,c=a.position;b!==this.ED||isNaN(this.dz)?(this.dz=b,this.AC=c.copy(),a.zoomToFit(),a.Uf(),this.ED=a.scale):(a.scale=this.dz,a.position=this.AC)}};oa.prototype.canZoomToFit=function(){var a=this.h;return null===a?!1:a.Ns}; oa.prototype.collapseTree=function(a){void 0===a&&(a=null);var b=this.h;if(null===b)return!1;b.sc("Collapse Tree");var c=new B(S);if(a instanceof S&&a.Qc)a.collapseTree(),c.add(a);else for(a=b.selection.k;a.next();){var d=a.value;d instanceof S&&d.Qc&&(d.collapseTree(),c.add(d))}b.Ba("TreeCollapsed",c);b.Ce("Collapse Tree")}; oa.prototype.canCollapseTree=function(a){void 0===a&&(a=null);var b=this.h;if(null===b||b.ab)return!1;if(a instanceof S){if(!a.Qc)return!1;if(0c||Math.abs(b.y-a.y)>d};t.A(ae,{h:"diagram"},function(){return this.U}); t.g(ae,"name",ae.prototype.name);t.defineProperty(ae,{name:"name"},function(){return this.Yb},function(a){t.i(a,"string",ae,"name");this.Yb=a});t.g(ae,"isEnabled",ae.prototype.isEnabled);t.defineProperty(ae,{isEnabled:"isEnabled"},function(){return this.Le},function(a){t.i(a,"boolean",ae,"isEnabled");this.Le=a});t.g(ae,"isActive",ae.prototype.ia);t.defineProperty(ae,{ia:"isActive"},function(){return this.mC},function(a){t.i(a,"boolean",ae,"isActive");this.mC=a});t.g(ae,"transactionResult",ae.prototype.ff); t.defineProperty(ae,{ff:"transactionResult"},function(){return this.zD},function(a){null!==a&&t.i(a,"string",ae,"transactionResult");this.zD=a}); function cf(){0f&&(f=k),l>g&&(g=l))}}Infinity===c?b.p(0,0,0,0):b.p(c,d,f-c,g-d)} function Df(a,b){if(null===a.Dc){var c=a.h;if(!(null===c||b&&(c.ab||c.Ze))&&null!==a.Ec){var d=c.la;d.isEnabled&&d.dF?null!==d.Yi&&0c.oa)){var d=a.h;if(null!==d&&!d.ab&&(d=a.Ji,null!==d)){var f=null,g=null;null===c.aa&&(f=Vf(a,c.o(0),!1),null!==f&&(g=f.S));var h=null,k=null;null===c.ca&&(h=Vf(a,c.o(c.oa-1),!0),null!==h&&(k=h.S));if((null===g||g instanceof S)&&(null===k||k instanceof S)){var l=d.isValidLink(g,f,k,h);b?(c.Fn=c.o(0).copy(),c.Jn=c.o(c.oa-1).copy(),c.Wp=!1,c.aa=g,null!==f&&(c.Rf=f.Nd),c.ca=k,null!==h&&(c.Og=h.Nd)):l?Wf(d,g,f,k,h):Wf(d,null,null,null,null)}}}} cf.prototype.doDragOver=function(){};function Xf(a,b){var c=a.h;if(null!==c&&null!==c.ba){a.Zh&&If(a,!0);uf(a);var d=Jf(c,b,null,function(b){return!Gf(a,b)}),f=c.R;f.be=d;if(null!==d)for(var g=d;null!==g;){var h=g.wt;if(null!==h&&(h(f,g),f.Ee))break;g=g.ja}else h=c.wt,null!==h&&h(f);if(a.ia||null!==ff)if(a.doDropOnto(b,d),a.ia||null!==ff)for(d=c.selection.k;d.next();)f=d.value,f instanceof S&&Yf(c,f.pa)}}cf.prototype.doDropOnto=function(){}; cf.prototype.doMouseMove=function(){if(this.ia){var a=this.h;if(null!==a&&null!==this.Yo&&null!==this.Ec){var b=!1,c=!1;this.mayCopy()?(b=!0,a.$b="copy",Df(this,!1),ef(this,this.Dc),Ef(this,this.Dc,!1),vf(this,this.Dc)):this.mayMove()?(c=!0,a.$b="default",yf(this),Ef(this,this.Ec,!0)):this.mayDragOut()?(a.$b="no-drop",Df(this,!1),Ef(this,this.Dc,!1)):yf(this);Hf(this,a.R.ea,c,b)}}}; cf.prototype.doMouseUp=function(){if(this.ia){var a=this.h;if(null!==a){var b=!1,c=this.mayCopy();c&&null!==this.Dc?(yf(this),Df(this,!0),ef(this,this.Dc),Ef(this,this.Dc,!1),vf(this,this.Dc),null!==this.Dc&&a.gG(this.Dc.Dl())):(b=!0,yf(this),this.mayMove()&&(Ef(this,this.Ec,!0),this.Jv=!1,Hf(this,a.R.ea,!0,!1),this.Jv=!0));this.Iq=!0;Xf(this,a.R.ea);if(this.ia){this.Dc=null;if(b&&null!==this.Ec)for(b=this.Ec.k;b.next();){var d=b.key;d instanceof S&&(d=d.hb,null===d||null===d.placeholder||this.Ec.contains(d)|| d.Vz&&d.ha())}a.Oc();vf(this,this.Ec);this.ff=c?"Copy":"Move";a.Ba(c?"SelectionCopied":"SelectionMoved",a.selection)}this.stopTool()}}};cf.prototype.mayCopy=function(){if(!this.qA)return!1;var a=this.h;if(null===a||a.ab||a.Ze||!a.zm||!a.Ri||(t.Um?!a.R.alt:!a.R.control))return!1;for(a=a.selection.k;a.next();){var b=a.value;if(b.Ld()&&b.canCopy())return!0}return null!==this.Mc&&this.Zh&&this.Mc.canCopy()?!0:!1}; cf.prototype.mayDragOut=function(){if(!this.qA)return!1;var a=this.h;if(null===a||!a.Ms||!a.Ri||a.Rj)return!1;for(a=a.selection.k;a.next();){var b=a.value;if(b.Ld()&&b.canCopy())return!0}return null!==this.Mc&&this.Zh&&this.Mc.canCopy()?!0:!1};cf.prototype.mayMove=function(){var a=this.h;if(null===a||a.ab||!a.Rj)return!1;for(a=a.selection.k;a.next();){var b=a.value;if(b.Ld()&&b.canMove())return!0}return null!==this.Mc&&this.Zh&&this.Mc.canMove()?!0:!1};var wf=new B(cf),ff=null,gf=null; cf.prototype.mayDragIn=function(){var a=this.h;return null===a||!a.Kz||a.ab||a.Ze||!a.zm||null===a.ba?!1:!0};cf.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var a=ff;null!==a&&(a.h.$b="copy")}};cf.prototype.doSimulatedDragLeave=function(){var a=ff;null!==a&&a.doSimulatedDragOut();this.doCancel()}; cf.prototype.doSimulatedDragOver=function(){var a=this.h;if(null!==a){var b=ff;null!==b&&null!==b.Ec&&this.mayDragIn()&&(a.$b="copy",Zf(this,b.Ec.Dl(),!1),Ef(this,this.Dc,!1),Hf(this,a.R.ea,!1,!0))}}; cf.prototype.doSimulatedDrop=function(){var a=this.h;if(null!==a){var b=ff;null!==b&&(b.Iq=!0,yf(this),this.mayDragIn()&&(this.sc("Drop"),Zf(this,b.Ec.Dl(),!0),Ef(this,this.Dc,!1),null!==this.Dc&&a.gG(this.Dc.Dl()),this.ff="ExternalCopy",Xf(this,a.R.ea),a.Oc(),this.Dc=null,a.Ba("ExternalObjectsDropped",a.selection),this.gk()))}}; function Zf(a,b,c){if(null===a.Dc){var d=a.h;if(null!==d&&!d.ab&&!d.Ze&&null!==d.ba){d.Wa=!c;d.un=!c;a.ij=d.R.ea;d=d.Wo(b,d,!0);c=t.Gf();Cf(b,c);var f=c.x+c.width/2,g=c.y+c.height/2;t.hc(c);var h=a.Lv;c=new ja(E,Object);var k=t.K();for(b=b.k;b.next();){var l=b.value;if(l.Ld()&&l.canCopy()){var m=l.location,l=d.za(l);k.p(h.x-(f-m.x),h.y-(g-m.y));l.location=k;l.rf();c.add(l,kf(k))}}t.B(k);for(d=d.k;d.next();)f=d.value,f instanceof V&&f.canCopy()&&c.add(f,kf());a.Dc=c;df(a,c.Dl());null!==a.Mc&&(c=a.Mc, d=c.uj(),c.pl(a.ij.x-(d.x+d.width/2),a.ij.y-(d.y+d.height/2)))}}}cf.prototype.doSimulatedDragOut=function(){var a=this.h;null!==a&&(this.mayCopy()||this.mayMove()?a.$b="":a.$b="no-drop")}; function $f(){0=d&&(d=0.1);for(var f=this,g=b.Pm(c,d,function(b){return f.findValidLinkablePort(b,a)},null,!0),d=Infinity,b=null,g=g.k;g.next();){var h=g.value,k=h.S;if(k instanceof S){var l=h.qb(Kb,t.K()),m=c.x-l.x,n=c.y-l.y;t.B(l);l=m*m+n*n;lc){if(null!==this.qc&&a===this.Hg&&b===this.Ig)return!0;var d=b.Nd;null===d&&(d="");if(a.Cw(d).count>=c)return!1}return!0}; $f.prototype.isValidTo=function(a,b){if(null===a||null===b)return this.Vm;if(this.h.Ua===this&&(null!==a.layer&&!a.layer.Am||!0!==b.kB))return!1;var c=b.CG;if(Infinity>c){if(null!==this.qc&&a===this.Jg&&b===this.Kg)return!0;var d=b.Nd;null===d&&(d="");if(a.wg(d).count>=c)return!1}return!0};$f.prototype.isInSameNode=function(a,b){if(null===a||null===b)return!1;if(a===b)return!0;var c=a.S,d=b.S;return null!==c&&c===d}; $f.prototype.isLinked=function(a,b){if(null===a||null===b)return!1;var c=a.S;if(!(c instanceof S))return!1;var d=a.Nd;null===d&&(d="");var f=b.S;if(!(f instanceof S))return!1;var g=b.Nd;null===g&&(g="");for(f=f.wg(g);f.next();)if(g=f.value,g.aa===c&&g.Rf===d)return!0;return!1}; $f.prototype.isValidLink=function(a,b,c,d){if(!this.isValidFrom(a,b)||!this.isValidTo(c,d)||!(null===b||null===d||(b.FE&&d.BG||!this.isInSameNode(b,d))&&(b.EE&&d.AG||!this.isLinked(b,d)))||null!==this.qc&&(null!==a&&ag(this,a,this.qc)||null!==c&&ag(this,c,this.qc))||null!==a&&null!==c&&(null===a.data&&null!==c.data||null!==a.data&&null===c.data)||!bg(this,a,c,this.qc))return!1;if(null!==a){var f=a.Ap;if(null!==f&&!f(a,b,c,d,this.qc))return!1}if(null!==c&&(f=c.Ap,null!==f&&!f(a,b,c,d,this.qc)))return!1; f=this.Ap;return null!==f?f(a,b,c,d,this.qc):!0};function ag(a,b,c){if(null===b)return!1;var d=b.Zd;if(null===d)return!1;if(d===c)return!0;var f=new C(S);f.add(b);return cg(a,d,c,f)}function cg(a,b,c,d){if(b===c)return!0;var f=b.aa;if(null!==f&&f.bi&&(d.add(f),cg(a,f.Zd,c,d)))return!0;b=b.ca;return null!==b&&b.bi&&(d.add(b),cg(a,b.Zd,c,d))?!0:!1} function bg(a,b,c,d){if(null===b||null===c)return a.Vm;var f=a.h.QG;if(f!==dg){if(f===eg){if(null!==d&&!d.Fc)return!0;for(f=c.qe;f.next();){var g=f.value;if(g!==d&&g.Fc&&g.ca===c)return!1}return!fg(a,b,c,d,!0)}if(f===mg){if(null!==d&&!d.Fc)return!0;for(f=b.qe;f.next();)if(g=f.value,g!==d&&g.Fc&&g.aa===b)return!1;return!fg(a,b,c,d,!0)}if(f===ng)return b===c?a=!0:(f=new C(S),f.add(c),a=og(a,f,b,c,d)),!a;if(f===pg)return!fg(a,b,c,d,!1);if(f===qg)return b===c?a=!0:(f=new C(S),f.add(c),a=rg(a,f,b,c,d)), !a}return!0}function fg(a,b,c,d,f){if(b===c)return!0;if(null===b||null===c)return!1;for(var g=b.qe;g.next();){var h=g.value;if(h!==d&&(!f||h.Fc)&&h.ca===b&&(h=h.aa,h!==b&&fg(a,h,c,d,f)))return!0}return!1}function og(a,b,c,d,f){if(c===d)return!0;if(null===c||null===d||b.contains(c))return!1;b.add(c);for(var g=c.qe;g.next();){var h=g.value;if(h!==f&&h.ca===c&&(h=h.aa,h!==c&&og(a,b,h,d,f)))return!0}return!1} function rg(a,b,c,d,f){if(c===d)return!0;if(null===c||null===d||b.contains(c))return!1;b.add(c);for(var g=c.qe;g.next();){var h=g.value;if(h!==f){var k=h.aa,h=h.ca,k=k===c?h:k;if(k!==c&&rg(a,b,k,d,f))return!0}}return!1}t.g($f,"linkValidation",$f.prototype.Ap);t.defineProperty($f,{Ap:"linkValidation"},function(){return this.Kk},function(a){null!==a&&t.i(a,"function",$f,"linkValidation");this.Kk=a});t.g($f,"portTargeted",$f.prototype.Gt); t.defineProperty($f,{Gt:"portTargeted"},function(){return this.ZC},function(a){null!==a&&t.i(a,"function",$f,"portTargeted");this.ZC=a});function pa(){0b.gt+1&&c=a.x)c=0>=a.y?c+225:1<=a.y?c+135:c+180;else if(1<=a.x)0>=a.y?c+=315:1<=a.y&&(c+=45);else if(0>=a.y)c+=270;else if(1<=a.y)c+=90;else break a;0>c?c+=360:360<=c&&(c-=360);b.cursor=22.5>c?"e-resize":67.5>c?"se-resize":112.5>c?"s-resize":157.5>c?"sw-resize":202.5>c?"w-resize":247.5>c?"nw-resize":292.5>c?"n-resize":337.5>c?"ne-resize":"e-resize"}else if(b instanceof y)for(b=b.elements;b.next();)Rg(a, b.value,c)}t.defineProperty(Qg,{it:"handleArchetype"},function(){return this.Ek},function(a){null!==a&&t.l(a,Q,Qg,"handleArchetype");this.Ek=a});t.A(Qg,{handle:"handle"},function(){return this.dc});t.defineProperty(Qg,{pc:"adornedObject"},function(){return this.jb},function(a){null!==a&&t.l(a,Q,Qg,"adornedObject");this.jb=a});Qg.prototype.canStart=function(){if(!this.isEnabled)return!1;var a=this.h;return null!==a&&!a.ab&&a.Oo&&a.R.left?null!==this.findToolHandleAt(a.Nc.ea,this.name)?!0:!1:!1}; Qg.prototype.doActivate=function(){var a=this.h;null!==a&&(this.dc=this.findToolHandleAt(a.Nc.ea,this.name),null!==this.dc&&(this.jb=this.dc.S.pc,this.lz.set(this.jb.S.location),this.vv.set(this.jb.Ca),this.Oy=this.computeCellSize(),this.Qy=this.computeMinSize(),this.Py=this.computeMaxSize(),a.Kd=!0,this.NC=a.Zb.isEnabled,a.Zb.isEnabled=!1,this.sc(this.name),this.ia=!0))};Qg.prototype.doDeactivate=function(){var a=this.h;null!==a&&(this.gk(),this.jb=this.dc=null,this.ia=a.Kd=!1,a.Zb.isEnabled=this.NC)}; Qg.prototype.doCancel=function(){this.jb.Ca=this.vv;this.jb.S.location=this.lz;this.stopTool()};Qg.prototype.doMouseMove=function(){var a=this.h;if(this.ia&&null!==a){var b=this.Qy,c=this.Py,d=this.Oy,f=this.jb.JE(a.R.ea,t.K()),g=Ug;this.jb instanceof W&&(g=this.jb.Iw,g===Vg&&(g=this.jb.Na.vc));b=this.computeResize(f,this.dc.alignment,b,c,d,!(g===Wg||g===Xg||a.R.shift));this.resize(b);a.Uf();t.B(f)}}; Qg.prototype.doMouseUp=function(){var a=this.h;if(this.ia&&null!==a){var b=this.Qy,c=this.Py,d=this.Oy,f=this.jb.JE(a.R.ea,t.K()),g=Ug;this.jb instanceof W&&(g=this.jb.Iw,g===Vg&&(g=this.jb.Na.vc));b=this.computeResize(f,this.dc.alignment,b,c,d,!(g===Wg||g===Xg||a.R.shift));this.resize(b);t.B(f);a.Oc();this.ff=this.name;a.Ba("PartResized",this.jb,this.vv)}this.stopTool()}; Qg.prototype.resize=function(a){if(null!==this.h){var b=this.pc,c=b.S,d=b.gl(),f=b.dk(),g=Math.PI*d/180,h=Math.cos(g),g=Math.sin(g),k=0d?1:0,l=90d?1:0,d=180d?1:0,m=a.width-b.Qa.width,n=a.height-b.Qa.height,p=c.position.copy();p.x+=f*((a.x+m*l)*h-(a.y+n*k)*g);p.y+=f*((a.x+m*d)*g+(a.y+n*l)*h);b.Ca=a.size;c.rf();c.move(p)}}; Qg.prototype.computeResize=function(a,b,c,d,f,g){b.Ge()&&(b=Kb);var h=this.pc.Qa,k=h.x,l=h.y,m=h.x+h.width,n=h.y+h.height,p=1;if(!g){var p=h.width,q=h.height;0>=p&&(p=1);0>=q&&(q=1);p=q/p}q=t.K();H.dt(a.x,a.y,k,l,f.width,f.height,q);a=h.copy();0>=b.x?0>=b.y?(a.x=Math.max(q.x,m-d.width),a.x=Math.min(a.x,m-c.width),a.width=Math.max(m-a.x,c.width),a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y,n-c.height),a.height=Math.max(n-a.y,c.height),g||(b=a.height/a.width,p=b.y?(a.width=Math.max(Math.min(q.x-k,d.width),c.width),a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y, n-c.height),a.height=Math.max(n-a.y,c.height),g||(b=a.height/a.width,p=b.y?(a.y=Math.max(q.y,n-d.height),a.y=Math.min(a.y,n-c.height),a.height=n-a.y,g||(a.width= a.height/p,a.x=k+0.5*(m-k-a.width))):1<=b.y&&(a.height=Math.max(Math.min(q.y-l,d.height),c.height),g||(a.width=a.height/p,a.x=k+0.5*(m-k-a.width)));t.B(q);return a};Qg.prototype.computeMinSize=function(){var a=this.pc.Vf.copy(),b=this.Vf;!isNaN(b.width)&&b.width>a.width&&(a.width=b.width);!isNaN(b.height)&&b.height>a.height&&(a.height=b.height);return a}; Qg.prototype.computeMaxSize=function(){var a=this.pc.He.copy(),b=this.He;!isNaN(b.width)&&b.widtha&&(a+=360));var b=Math.min(Math.abs(this.uG),180),c=Math.min(Math.abs(this.tG),b/2);!this.h.R.shift&&0b-c&&(a=(Math.floor(a/b)+1)*b));360<=a?a-=360:0>a&&(a+=360);return a};t.g(Yg,"snapAngleMultiple",Yg.prototype.uG);t.defineProperty(Yg,{uG:"snapAngleMultiple"},function(){return this.fD},function(a){t.i(a,"number",Yg,"snapAngleMultiple");this.fD=a}); t.g(Yg,"snapAngleEpsilon",Yg.prototype.tG);t.defineProperty(Yg,{tG:"snapAngleEpsilon"},function(){return this.eD},function(a){t.i(a,"number",Yg,"snapAngleEpsilon");this.eD=a});t.g(Yg,"originalAngle",Yg.prototype.vJ);t.A(Yg,{vJ:"originalAngle"},function(){return this.uv});function $g(){0f.right&&(c.x-=d.width+5);c.xf.bottom&&(c.y-=d.height+5);c.yf.right&&(c.x-=d.width+5);c.xf.bottom?c.y-(d.height+5):c.y+20;c.ya?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b} Be.prototype.prepareAnimation=Be.prototype.tl=function(){this.Le&&(this.wj&&this.mn(),this.sd=!0,this.GB=!1)};function Dh(a){a.Le&&requestAnimationFrame(function(){!1===a.sd||a.wj||(a.sd=!1,a.U.Ba("AnimationStarting"),Eh(a))})} function Fh(a,b,c,d){if(a.sd&&(e&&(b instanceof Q||t.m("addToAnimation:object must be a GraphObject.")),!(b instanceof E)||b.oA)){var f=a.so,g;f.contains(b)?(b=f.za(b),a=b[0],g=b[1],void 0===a.position&&(a.position=Gh(c)),g.position=Gh(d)):(a={},g={},a.position=Gh(c),g.position=Gh(d),f.add(b,[a,g]))}}function Gh(a){return a instanceof w?a.copy():a instanceof ga?a.copy():a} function Eh(a){var b,c=a.U;if(null!==c)if(0===a.so.count)a.wj=!1,c.Uf();else{a.wj=!0;b||(b={});var d=b.xK||a.lH,f=b.JK||null,g=b.KK||null,h=b.duration||a.Ly;b=a.so.k;for(var k=a.rH;b.next();){var l=b.value[0].position;l&&!l.N()&&l.assign(k)}a.RB=d;a.yu=f;a.zu=g;a.Ay=h;var m=a.kH=a.so;Hh(a);Ih(a,c,m,d,0,h,null!==a.Rl&&null!==a.Ql);Jh(a.U);Kh(a);requestAnimationFrame(function(b){var f=b||+new Date,g=f+h,k;(function u(b){!1!==a.wj&&(k=b||+new Date,b=k>g?h:k-f,Hh(a),Ih(a,c,m,d,b,h,null!==a.Rl&&null!== a.Ql),a.yu&&a.yu(),Jh(c),Kh(a),k>g?Lh(a):requestAnimationFrame(u))})(f)})}}var Mh={opacity:function(a,b,c,d,f,g){a.opacity=d(f,b,c-b,g)},position:function(a,b,c,d,f,g){f!==g?a.oG(d(f,b.x,c.x-b.x,g),d(f,b.y,c.y-b.y,g)):a.position=new w(d(f,b.x,c.x-b.x,g),d(f,b.y,c.y-b.y,g))},scale:function(a,b,c,d,f,g){a.scale=d(f,b,c-b,g)},visible:function(a,b,c,d,f,g){a.visible=f!==g?b:c}};function Hh(a){if(!a.cr){var b=a.U;a.AD=b.Wa;a.HB=b.Tt;a.IB=b.yo;b.Wa=!0;b.Tt=!0;b.yo=!0;a.cr=!0}} function Kh(a){var b=a.U;b.Wa=a.AD;b.Tt=a.HB;b.yo=a.IB;a.cr=!1}function Ih(a,b,c,d,f,g,h){for(c=c.k;c.next();){var k=c.key,l=c.value,m=l[0],l=l[1],n;for(n in l)if(void 0!==Mh[n])Mh[n](k,m[n],l[n],d,f,g)}h&&(h=a.Rl,a=a.Ql,n=a.y-h.y,a=d(f,h.x,a.x-h.x,g),d=d(f,h.y,n,g),f=b.Xb,b.Xb=!0,b.position=new w(a,d),b.Xb=f)} Be.prototype.stopAnimation=Be.prototype.mn=function(){!0===this.sd&&(this.sd=!1,this.GB&&this.U.te());this.wj&&this.Le&&(Hh(this),Ih(this,this.U,this.kH,this.RB,this.Ay,this.Ay,null!==this.Rl&&null!==this.Ql),Kh(this),Lh(this))};function Lh(a){a.wj=!1;a.Rl=null;a.Ql=null;a.so=new ja;Hh(a);for(var b=a.U.links;b.next();){var c=b.value;null!==c.xo&&(c.points=c.xo,c.xo=null)}b=a.U;b.Oc();b.Uf();Kh(a);a.zu&&a.zu();a.zu=null;a.yu=null;b.Ba("AnimationFinished")} function Nh(a,b,c){var d=b.pa,f=c.pa;c instanceof T&&c.placeholder?(c=c.placeholder,d=c.qb(Eb),d.x+=c.padding.left,d.y+=c.padding.top,Fh(a,b,d,b.position)):Fh(a,b,new w(f.x+f.width/2-d.width/2,f.y+f.height/2-d.height/2),b.position)}function Oh(a,b,c){a.sd&&(null===a.Rl&&b.N()&&null===a.Ql&&(a.Rl=b.copy()),a.Ql=c.copy())}t.g(Be,"isEnabled",Be.prototype.isEnabled);t.defineProperty(Be,{isEnabled:"isEnabled"},function(){return this.Le},function(a){t.i(a,"boolean",Be,"isEnabled");this.Le=a}); t.g(Be,"duration",Be.prototype.duration);t.defineProperty(Be,{duration:"duration"},function(){return this.Ly},function(a){t.i(a,"number",Be,"duration");1>a&&t.ka(a,">= 1",Be,"duration");this.Ly=a});t.A(Be,{yg:"isAnimating"},function(){return this.wj});t.A(Be,{AK:"isTicking"},function(){return this.cr}); function $d(){0=a)return b;for(var c=0,d=0,f=0,g=0,h=0,k=this.Fb.k;k.next();){var l=k.value;l instanceof T?f++:l instanceof S?d++:l instanceof V?g++:l instanceof Je?h++:c++}k="";0=d.count)a=d.count;else if(d.wa(a)===b)return-1;d.Jd(a,b);b.lt(c);d=this.h;null!==d&&(c?d.fa():d.np(b));b instanceof T&&this.xx(b);return a};aa.Xe=function(a,b,c){var d=this.Fb;if(0>a||a>=d.length){if(a=d.indexOf(b),0>a)return-1}else if(d.wa(a)!==b&&(a=d.indexOf(b),0>a))return-1;b.mt(c);d.qd(a);d=this.h;null!==d&&(c?d.fa():d.Xe(b));b.lo=null;return a}; aa.xx=function(a){for(;null!==a;){if(a.layer===this){var b=a;if(b.Rc.next()){for(var c=-1,d=-1,f=this.Fb.n,g=f.length,h=0;hd&&k.hb===b&&(d=h,0<=c))break}!(0>d)&&da||1=a)return b;for(var c=this.Sb.k;c.next();)b+="\n "+c.value.toString(a-1);return b};z.prototype.checkProperties=function(){return t.bI(this)};z.fromDiv=function(a){var b=a;"string"===typeof a&&(b=document.getElementById(a));return b instanceof HTMLDivElement&&b.U instanceof z?b.U:null};t.g(z,"div",z.prototype.Zj); t.defineProperty(z,{Zj:"div"},function(){return this.Nb},function(a){null!==a&&t.l(a,HTMLDivElement,z,"div");if(this.Nb!==a){t.$z=[];var b=this.Nb;if(null!==b){b.U=void 0;b.innerHTML="";null!==this.gb&&(this.gb.U=null,this.gb.removeEventListener("touchstart",this.FG,!1),this.gb.removeEventListener("touchmove",this.EG,!1),this.gb.removeEventListener("touchend",this.DG,!1));b=this.Uv;if(null!==b){for(var c=b.IC.n,d=c.length,f=0;fd)b.preventDefault();else{a.im=null;return}}else b.preventDefault();if(null!==a.im){var f=a.Eb,g=a.Db,h=a.gb.getBoundingClientRect(); b=new w(b.pageX-window.scrollX-f/h.width*h.left,b.pageY-window.scrollY-g/h.height*h.top);d*=a.im;f=a.Se;d!==a.scale&&f.canResetZoom(d)&&(g=a.$f,a.$f=b,f.resetZoom(d),a.$f=g)}}},!1);window.MSGesture&&(a.po=new window.MSGesture,a.po.target=b,b.addEventListener("pointerdown",function(b){a.po.addPointer(b.pointerId)},!1),b.addEventListener("MSGestureStart",function(b){!1!==a.ui&&(a.im=a.scale,a.Tn=!0,b.preventDefault())},!1),b.addEventListener("MSGestureChange",function(b){if(!1!==a.ui){var d=b.scale; if(1===d)b.gestureObject.stop(),b.preventDefault();else{a.Tn&&(a.Ua.doCancel(),a.Tn=!1);b=a.IG(a.Un(b));var d=a.scale*d,f=a.Se;if(d!==a.scale&&f.canResetZoom(d)){var g=a.$f;a.$f=b;f.resetZoom(d);a.$f=g}}}},!1));b.addEventListener("mousemove",a.Dp,!1);b.addEventListener("mousedown",a.Cp,!1);b.addEventListener("mouseup",a.Fp,!1);b.addEventListener("mousewheel",a.hh,!1);b.addEventListener("DOMMouseScroll",a.hh,!1);b.addEventListener("mouseout",a.Ep,!1);b.addEventListener("keydown",a.fJ,!1);b.addEventListener("keyup", a.gJ,!1);b.addEventListener("selectstart",function(a){a.preventDefault();return!1},!1);b.addEventListener("contextmenu",function(a){a.preventDefault();return!1},!1);window.addEventListener("resize",a.YG,!1)}function $h(){this.wH="63ad05bbe23a1786468a4c741b6d2";this.wH===this._tk?this.yh=!0:ei(this,!1)} function ei(a,b){var c="p",d=window[t.Ha("76a715b2f73f148a")][t.Ha("72ba13b5")];if(t.Ha("77bb5bb2f32603de")===window[t.Ha("76a715b2f73f148a")][t.Ha("6aba19a7ec351488")])try{a.yh=!window[t.Ha("4da118b7ec2108")]([t.Ha("5bb806bfea351a904a84515e1b6d38b6")])([t.Ha("49bc19a1e6")])([t.Ha("59bd04a1e6380fa5539b")])([t.Ha("7bb8069ae7")]===t.Ha(t.dw));if(!1===a.yh)return;a.yh=!window[t.Ha("4da118b7ec2108")]([t.Ha("5bb806bfea351a904a84515e1b6d38b6")])([t.Ha("49bc19a1e6")])([t.Ha("59bd04a1e6380fa5539b6c7a197c31bb4cfd3e")])([t.Ha("7bb8069ae7")]=== t.Ha(t.dw));if(!1===a.yh)return}catch(f){}for(var g=d[t.Ha("76ad18b4f73e")],h=d[t.Ha("73a612b6fb191d")](t.Ha("35e7"))+2;h=d&&t.Ha(t.dw)!==t.Ha("7da71ca0ad381e90")&&(d=c[t.Ha("73a612b6fb191d")](t.Ha("76a715b2ef3e149757")));a.yh=!(0b.timeStamp-a.am)b.preventDefault(); else if(a.Ed=a.ec,a.ec=c,hi(a,a,b,c,!0),c.$j=!0,c.Ae=b.detail,a.Ck=c.copy(),!0===c.Mq.simulated)b.preventDefault(),b.simulated=!0;else if(e&&e.FF&&(window.FF=a.cp(c.ea)),ff=null,a.doMouseDown(),1===b.button)return b.preventDefault(),!1}};a.Fp=function(b){if(a.isEnabled){a.ao=!0;var c=a.Ed;if(t.Tm){if(400>b.timeStamp-a.am){b.preventDefault();return}a.am=b.timeStamp}if(t.Tm&&null!==a.ns)a.ns=null,b.preventDefault();else{a.Ed=a.ec;a.ec=c;hi(a,a,b,c,!0);c.lj=!0;c.Ae=b.detail;if(t.Rw||t.tA)b.timeStamp- a.aml&&(a.position= new w(-(a.Kj.scrollWidth-a.Eb)+this.scrollLeft-a.Eb/r+a.Gd.right,a.position.y))),this.cD&&a.of&&(bn&&(a.position=new w(a.position.x,-(a.Lj.scrollHeight-a.Db)+this.scrollTop-a.Db/r+a.Gd.bottom))),t.B(s),yi(a),a.Dv=!1,a.vj=!1,b=a.Gd,c=a.xb,k=b.right,l=c.right,m=b.bottom,n=c.bottom,p=b.x,q=c.x,b=b.y,c=c.y,f>=d&&p>=q&&k<=l&&(a.rz.style.width="1px"),h>=g&&b>=c&&m<=n&&(a.sz.style.height="1px")}}else zi(this.U)}; z.prototype.PC=function(){this.U.isEnabled?this.U.qz=!0:zi(this.U)};z.prototype.computeBounds=z.prototype.pf=function(){0c&&(f=c),fa.Bg&&(f=a.Bg),f):b===Hi?(f=l>k?(h-a.mf)/d:(g-a.mf)/f,f>c&&(f=c),fa.Bg&&(f=a.Bg),f):a.scale}}z.prototype.zoomToFit=z.prototype.zoomToFit=function(){this.scale=Di(this,Gi)}; z.prototype.zoomToRect=function(a,b){void 0===b&&(b=Gi);var c=a.width,d=a.height;if(!(0===c||0===d||isNaN(c)&&isNaN(d))){var f=1;if(b===Gi||b===Hi)if(isNaN(c))f=this.xb.height*this.scale/d;else if(isNaN(d))f=this.xb.width*this.scale/c;else var f=this.Eb,g=this.Db,f=b===Hi?g/d>f/c?(g-(this.Sl?this.mf:0))/d:(f-(this.Tl?this.mf:0))/c:Math.min(g/d,f/c);this.scale=f;this.position=new w(a.x,a.y)}}; z.prototype.alignDocument=function(a,b){this.vi&&Fi(this,this.pf());var c=this.Gd,d=this.xb,f=this.Xb;this.Xb=!0;this.position=new w(c.x+(a.x*c.width+a.offsetX)-(b.x*d.width-b.offsetX),c.y+(a.y*c.height+a.offsetY)-(b.y*d.height-b.offsetY));this.Xb=f;this.fa()}; function Ei(a,b,c,d,f,g){var h;h=b.x;var k=b.y;g.xd()&&(d>c.width&&(h=c.x+(g.x*c.width+g.offsetX)-(g.x*d-g.offsetX)),f>c.height&&(k=c.y+(g.y*c.height+g.offsetY)-(g.y*f-g.offsetY)));dc.left?h=c.left:hc.top?k=c.top:kc.touches.length)&&c.preventDefault();c.cancelBubble=!0;return!1} z.prototype.fJ=function(a){if(this.U.isEnabled){var b=this.U.ec;hi(this.U,this.U,a,b,!1);b.key=String.fromCharCode(a.which);b.$j=!0;switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 48:b.key="0";break;case 187:case 61:case 107:b.key="Add";break;case 189:case 173:case 109:b.key= "Subtract";break;case 27:b.key="Esc"}this.U.doKeyDown();return 187!==a.which&&189!==a.which&&48!==a.which&&107!==a.which&&109!==a.which&&61!==a.which&&173!==a.which||!0!==a.ctrlKey?si(this.U,b,a):(a.cancelBubble=!0,a.preventDefault(),a.stopPropagation(),!1)}}; z.prototype.gJ=function(a){if(this.U.isEnabled){var b=this.U.ec;hi(this.U,this.U,a,b,!1);b.key=String.fromCharCode(a.which);b.lj=!0;switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 93:a.preventDefault()}this.U.doKeyUp();return si(this.U,b,a)}}; z.prototype.Un=function(a){var b=this.gb;if(null===b)return new w(0,0);var c=this.Eb,d=this.Db,b=b.getBoundingClientRect(),c=a.clientX-c/b.width*b.left;a=a.clientY-d/b.height*b.top;return null!==this.md?(a=new w(c,a),Qa(a,this.md),a):new w(c,a)};function ti(a,b,c){var d=a.gb,f=a.Eb,g=a.Db,h=0,k=0;null!==d&&(d=d.getBoundingClientRect(),h=b.clientX-f/d.width*d.left,k=b.clientY-g/d.height*d.top);c.Ke.p(h,k);null!==a.md?(b=t.mc(h,k),a.md.ai(b),c.ea.assign(b),t.B(b)):c.ea.p(h,k)} z.prototype.invalidateDocumentBounds=z.prototype.Oc=function(){this.vi||(this.vi=!0,this.te())};function Ii(a){a.Bd||Ai(a);a.vi&&Fi(a,a.pf());Ci(a);for(a=a.jm.k;a.next();)Ii(a.value)}z.prototype.redraw=z.prototype.SA=function(){this.Xb||this.Bd||(this.fa(),Ji(this),yi(this),this.Oc(),this.Uf())};z.prototype.isUpdateRequested=function(){return this.Nf};z.prototype.delayInitialization=function(a){var b=this.Zb,c=b.isEnabled;b.isEnabled=!1;Jh(this);this.kf=!1;b.isEnabled=c;a&&setTimeout(a,1)}; z.prototype.requestUpdate=z.prototype.te=function(a){void 0===a&&(a=!1);if(!0!==this.Nf&&!(this.Xb||!1===a&&this.Bd)){this.Nf=!0;var b=this;requestAnimationFrame(function(){b.Nf&&b.Uf()})}};z.prototype.maybeUpdate=z.prototype.Uf=function(){if(!this.Qn||this.Nf)this.Qn&&(this.Qn=!1),Jh(this)}; function Jh(a){if(!a.Bd&&(a.Nf=!1,null!==a.Nb)){a.Bd=!0;var b=a.ki,c=!1,d=!1;b.yg?(d=!0,c=a.Wa,a.Wa=!0):b.sd||gi(a);a.Xb||b.yg||!a.vj||zi(a)||zi(a);null!==a.gd&&(a.gd.visible&&!a.Ku&&(Ki(a),a.Ku=!0),!a.gd.visible&&a.Ku&&(a.Ku=!1));Ai(a);0!==a.Pl.count&&(Li(a),Ai(a));var f=!1;if(!a.kf||a.mu)a.kf?Mi(a,!a.Du):(a.sc("Initial Layout"),!1===b.isEnabled&&b.mn(),Mi(a,!1)),f=!0;a.Du=!1;Ai(a);a.yo||b.yg||Ii(a);if(f){if(!a.kf){var g=a.Sb.n;a.Df(g,g.length,a);Ni(a);Ki(a)}a.Ba("LayoutCompleted")}Ai(a);a.Xb||b.yg|| !a.vj||zi(a)||(zi(a),Ai(a));f&&!a.kf&&(a.kf=!0,a.Ce("Initial Layout"),a.Wa||a.la.clear(),setTimeout(function(){a.gh=!1},1));a.Ue();d&&(a.Wa=c);a.Bd=!1}} function Ni(a){if(a.Gk!==Xe)a.scale=Di(a,a.Gk);else if(a.Fl!==Xe)a.scale=Di(a,a.Fl);else{var b=a.XE;isFinite(b)&&0b;b++){var c=a.fg.k;if(null===c||0===a.fg.count)break;a.fg=new C(Q);var d=a,f=a.fg;for(c.reset();c.next();){var g=c.value;!g.Ld()||g instanceof T||(g.nl()?(hh(g,Infinity,Infinity),g.Lc()):f.add(g))}for(c.reset();c.next();)g=c.value,g instanceof T&&Oi(d,g);for(c.reset();c.next();)d=c.value,d instanceof V&&(d.nl()?(hh(d,Infinity,Infinity),d.Lc(),d.bx()):f.add(d));for(c.reset();c.next();)d=c.value,d instanceof Je&&(d.nl()?(hh(d,Infinity, Infinity),d.Lc()):f.add(d))}}function Oi(a,b){for(var c=b.Rc,d=t.Cb();c.next();){var f=c.value;f.Pa()&&(f instanceof T?(Pi(f)||Qi(f)||Ri(f))&&Oi(a,f):f instanceof V?d.push(f):(hh(f,Infinity,Infinity),f.Lc()))}c=d.length;for(f=0;f=l[0]&&c>=l[1]&&b+d<=l[0]+l[2]&&c+f<=l[1]+l[3])return!1;b<=l[0]&&c<=l[1]&&b+d>=l[0]+l[2]&&c+f>=l[1]+l[3]?(g[k][2]=0,g[k][3]=0):b>=l[0]&&b=l[1]&&c+f<=l[1]+l[3]?(d=b+d-(l[0]+l[2]),b=l[0]+l[2],k=-1):b+d>l[0]&&b+d<=l[0]+l[2]&&c>=l[1]&&c+f<=l[1]+l[3]?(d=l[0]-b,k=-1):b>=l[0]&&b+d<=l[0]+l[2]&&c>=l[1]&&c= l[0]&&b+d<=l[0]+l[2]&&c+f>l[1]&&c+f<=l[1]+l[3]?(f=l[1]-c,k=-1):g[k][0]>=b&&g[k][0]=c&&g[k][1]+g[k][3]<=c+f?(g[k][2]-=b+d-g[k][0],g[k][0]=b+d,k=-1):g[k][0]+g[k][2]>b&&g[k][0]+g[k][2]<=b+d&&g[k][1]>=c&&g[k][1]+g[k][3]<=c+f?(g[k][2]=b-g[k][0],k=-1):g[k][0]>=b&&g[k][0]+g[k][2]<=b+d&&g[k][1]>=c&&g[k][1]=b&&g[k][0]+g[k][2]<=b+d&&g[k][1]+g[k][3]>c&&g[k][1]+g[k][3]<=c+f&&(g[k][3]=c-g[k][1],k=-1)}for(k=0;kh&&b/N>k||(a.RE&&a.nf&&(p+1v+1&&(m=(u-v)*N+a.Eb+"px",a.Kj.scrollLeft=a.position.x*N)),a.SE&&a.of&&(q+1L+1&&(n=(G-L)*N+a.Db+"px",a.Lj.scrollTop=a.position.y*N)));l="1px"!==m;b="1px"!==n;l!==a.Sl&&(a.Db="1px"===m?a.Db+a.mf:Math.max(a.Db-a.mf,1),g=!0);a.Sl=l;a.rz.style.width=m;b!==a.Tl&&(a.Eb="1px"===n?a.Eb+ a.mf:Math.max(a.Eb-a.mf,1),g=!0);a.Tl=b;a.sz.style.height=n;g&&(fi(a,a.Eb,a.Db),vi(a));l=a.Eb;b=a.Db;a.Lj.style.height=b+"px";a.Lj.style.width=l+(a.Tl?a.mf:0)+"px";a.Kj.style.width=l+"px";a.Kj.style.height=b+(a.Sl?a.mf:0)+"px";a.qz=!1;return c!==l||d!==b?(m=a.xb,a.Et(f,m,g?!0:void 0),!1):!0}}} z.prototype.add=z.prototype.add=function(a){t.l(a,E,z,"add:part");var b=a.h;if(b!==this){null!==b&&t.m("Cannot add part "+a.toString()+" to "+this.toString()+". It is already a part of "+b.toString());this.un&&(a.Jk="Tool");var c=a.af,b=this.ct(c);null===b&&(b=this.ct(""));null===b&&t.m('Cannot add a Part when unable find a Layer named "'+c+'" and there is no default Layer');a.layer!==b&&(c=b.np(99999999,a,a.h===this),0<=c&&this.Ic(wd,"parts",b,null,a,null,c),b.yc||this.Oc(),a.J($i),c=a.tp,null!== c&&c(a,null,b))}}; z.prototype.np=function(a){if(a instanceof S){if(this.rv.add(a),a instanceof T){var b=a.hb;null===b?this.Tk.add(a):b.qo.add(a);b=a.jc;null!==b&&(b.h=this)}}else a instanceof V?this.av.add(a):a instanceof Je||this.Fb.add(a);a.Jb&&a.ha();if(b=a.data){a instanceof Je||(a instanceof V?this.zk.add(b,a):this.qi.add(b,a));var c=this;aj(a,function(a){bj(c,a)})}!0!==Qi(a)&&!0!==Ri(a)||this.fg.add(a);cj(a,!0,this);dj(a)?(a.pa.N()&&this.fa(Th(a,a.pa)),this.Oc()):a.Pa()&&a.pa.N()&&this.fa(Th(a,a.pa));this.te()}; z.prototype.Xe=function(a){a.Vi();if(a instanceof S){if(this.rv.remove(a),a instanceof T){var b=a.hb;null===b?this.Tk.remove(a):b.qo.remove(a);b=a.jc;null!==b&&(b.h=null)}}else a instanceof V?this.av.remove(a):a instanceof Je||this.Fb.remove(a);if(b=a.data){a instanceof Je||(a instanceof V?this.zk.remove(b):this.qi.remove(b));var c=this;aj(a,function(a){ej(c,a)})}this.fg.remove(a);dj(a)?(a.pa.N()&&this.fa(Th(a,a.pa)),this.Oc()):a.Pa()&&a.pa.N()&&this.fa(Th(a,a.pa));this.te()}; z.prototype.remove=z.prototype.remove=function(a){t.l(a,E,z,"remove:part");a.eb=!1;a.zg=!1;var b=a.layer;if(null!==b&&b.h===this){a.J(fj);a.Mm();var c=b.Xe(-1,a,!1);0<=c&&this.Ic(xd,"parts",b,a,null,c,null);c=a.tp;null!==c&&c(a,b,null)}};z.prototype.removeParts=z.prototype.WA=function(a,b){if(a===this.selection){var c=new C;c.Oe(a);a=c}for(c=a.k;c.next();){var d=c.value;d.h===this&&(b&&!d.canDelete()||this.remove(d))}};z.prototype.copyParts=z.prototype.Wo=function(a,b,c){return this.Se.Wo(a,b,c)}; z.prototype.moveParts=z.prototype.moveParts=function(a,b,c){t.l(b,w,z,"moveParts:offset");var d=this.wb;if(null!==d){d=d.Hd;null===d&&(d=new cf,d.h=this);var f=new ja(E,Object);if(a)a=a.k;else{for(a=this.rl;a.next();)jf(d,f,a.value,c);for(a=this.jh;a.next();)jf(d,f,a.value,c);a=this.links}for(;a.next();)jf(d,f,a.value,c);d.moveParts(f,b,c)}}; function gj(a,b,c){t.l(b,$d,z,"addLayer:layer");null!==b.h&&b.h!==a&&t.m("Cannot share a Layer with another Diagram: "+b+" of "+b.h);null===c?null!==b.h&&t.m("Cannot add an existing Layer to this Diagram again: "+b):(t.l(c,$d,z,"addLayer:existingLayer"),c.h!==a&&t.m("Existing Layer must be in this Diagram: "+c+" not in "+c.h),b===c&&t.m("Cannot move a Layer before or after itself: "+b));if(b.h!==a){b=b.name;a=a.Sb;c=a.count;for(var d=0;dd&&this.Oc()}; z.prototype.addLayerAfter=function(a,b){gj(this,a,b);a.yd(this);var c=this.Sb,d=c.indexOf(a);0<=d&&(c.remove(a),null!==this.je&&this.Ic(xd,"layers",this,a,null,d,null));for(var f=c.count,g=0;gd&&this.Oc()}; z.prototype.removeLayer=function(a){t.l(a,$d,z,"removeLayer:layer");a.h!==this&&t.m("Cannot remove a Layer from another Diagram: "+a+" of "+a.h);if(""!==a.name){var b=this.Sb,c=b.indexOf(a);if(b.remove(a)){for(b=a.Fb.copy().k;b.next();){var d=b.value,f=d.af;d.af=f!==a.name?f:""}null!==this.je&&this.Ic(xd,"layers",this,a,null,c,null);this.fa();this.Oc()}}};z.prototype.findLayer=z.prototype.ct=function(a){for(var b=this.Yw;b.next();){var c=b.value;if(c.name===a)return c}return null}; z.prototype.addChangedListener=z.prototype.Iz=function(a){t.i(a,"function",z,"addChangedListener:listener");null===this.qj&&(this.qj=new B("function"));this.qj.add(a)};z.prototype.removeChangedListener=z.prototype.UA=function(a){t.i(a,"function",z,"removeChangedListener:listener");null!==this.qj&&(this.qj.remove(a),0===this.qj.count&&(this.qj=null))}; z.prototype.iw=function(a){this.Wa||this.la.PE(a);a.td!==ud&&(this.gh=!0);if(null!==this.qj){var b=this.qj,c=b.length;if(1===c)b=b.wa(0),b(a);else if(0!==c)for(var d=b.Ie(),f=0;fm||(jj(l.zb)?g=g*m/H.HE(g,m):f=f*m/H.HE(f,m))}h=c.ht;d.p(g*h.width,f*h.height);if(b)k=b.width,l=b.height,g=b.x,h=b.y;else{f=t.Gf();g=a.xb;f.p(g.x,g.y,g.width,g.height);for(h=a.jm.k;h.next();)g=h.value.xb,g.N()&&hb(f,g.x,g.y,g.width,g.height);k=f.width;l=f.height;g=f.x;h=f.y;if(!f.N())return}c.width=k+2*d.width;c.height=l+2*d.height;f=t.K();H.dt(g,h,0,0,d.width,d.height, f);f.offset(-d.width,-d.height);t.bk(d);c.S.location=f;t.B(f)}}z.prototype.clearSelection=z.prototype.kw=function(){var a=0a&&t.ka(a,">= zero",z,"linkSpacing"),this.yj=a,this.j("linkSpacing",b,a))});t.A(z,{Yw:"layers"},function(){return this.Sb.k});t.g(z,"isModelReadOnly",z.prototype.Ze);t.defineProperty(z,{Ze:"isModelReadOnly"},function(){var a=this.je;return null===a?!1:a.ab},function(a){var b=this.je;null!==b&&(b.ab=a)});t.g(z,"isReadOnly",z.prototype.ab); t.defineProperty(z,{ab:"isReadOnly"},function(){return this.Ik},function(a){var b=this.Ik;b!==a&&(t.i(a,"boolean",z,"isReadOnly"),this.Ik=a,this.j("isReadOnly",b,a))});t.g(z,"isEnabled",z.prototype.isEnabled);t.defineProperty(z,{isEnabled:"isEnabled"},function(){return this.Le},function(a){var b=this.Le;b!==a&&(t.i(a,"boolean",z,"isEnabled"),this.Le=a,this.j("isEnabled",b,a))});t.g(z,"allowClipboard",z.prototype.ew); t.defineProperty(z,{ew:"allowClipboard"},function(){return this.eu},function(a){var b=this.eu;b!==a&&(t.i(a,"boolean",z,"allowClipboard"),this.eu=a,this.j("allowClipboard",b,a))});t.g(z,"allowCopy",z.prototype.Ri);t.defineProperty(z,{Ri:"allowCopy"},function(){return this.kk},function(a){var b=this.kk;b!==a&&(t.i(a,"boolean",z,"allowCopy"),this.kk=a,this.j("allowCopy",b,a))});t.g(z,"allowDelete",z.prototype.Yk); t.defineProperty(z,{Yk:"allowDelete"},function(){return this.lk},function(a){var b=this.lk;b!==a&&(t.i(a,"boolean",z,"allowDelete"),this.lk=a,this.j("allowDelete",b,a))});t.g(z,"allowDragOut",z.prototype.Ms);t.defineProperty(z,{Ms:"allowDragOut"},function(){return this.fu},function(a){var b=this.fu;b!==a&&(t.i(a,"boolean",z,"allowDragOut"),this.fu=a,this.j("allowDragOut",b,a))});t.g(z,"allowDrop",z.prototype.Kz); t.defineProperty(z,{Kz:"allowDrop"},function(){return this.gu},function(a){var b=this.gu;b!==a&&(t.i(a,"boolean",z,"allowDrop"),this.gu=a,this.j("allowDrop",b,a))});t.g(z,"allowTextEdit",z.prototype.Qo);t.defineProperty(z,{Qo:"allowTextEdit"},function(){return this.uk},function(a){var b=this.uk;b!==a&&(t.i(a,"boolean",z,"allowTextEdit"),this.uk=a,this.j("allowTextEdit",b,a))});t.g(z,"allowGroup",z.prototype.Mo); t.defineProperty(z,{Mo:"allowGroup"},function(){return this.mk},function(a){var b=this.mk;b!==a&&(t.i(a,"boolean",z,"allowGroup"),this.mk=a,this.j("allowGroup",b,a))});t.g(z,"allowUngroup",z.prototype.Ro);t.defineProperty(z,{Ro:"allowUngroup"},function(){return this.vk},function(a){var b=this.vk;b!==a&&(t.i(a,"boolean",z,"allowUngroup"),this.vk=a,this.j("allowUngroup",b,a))});t.g(z,"allowInsert",z.prototype.zm); t.defineProperty(z,{zm:"allowInsert"},function(){return this.iu},function(a){var b=this.iu;b!==a&&(t.i(a,"boolean",z,"allowInsert"),this.iu=a,this.j("allowInsert",b,a))});t.g(z,"allowLink",z.prototype.Am);t.defineProperty(z,{Am:"allowLink"},function(){return this.nk},function(a){var b=this.nk;b!==a&&(t.i(a,"boolean",z,"allowLink"),this.nk=a,this.j("allowLink",b,a))});t.g(z,"allowRelink",z.prototype.Sj); t.defineProperty(z,{Sj:"allowRelink"},function(){return this.pk},function(a){var b=this.pk;b!==a&&(t.i(a,"boolean",z,"allowRelink"),this.pk=a,this.j("allowRelink",b,a))});t.g(z,"allowMove",z.prototype.Rj);t.defineProperty(z,{Rj:"allowMove"},function(){return this.ok},function(a){var b=this.ok;b!==a&&(t.i(a,"boolean",z,"allowMove"),this.ok=a,this.j("allowMove",b,a))});t.g(z,"allowReshape",z.prototype.No); t.defineProperty(z,{No:"allowReshape"},function(){return this.qk},function(a){var b=this.qk;b!==a&&(t.i(a,"boolean",z,"allowReshape"),this.qk=a,this.j("allowReshape",b,a))});t.g(z,"allowResize",z.prototype.Oo);t.defineProperty(z,{Oo:"allowResize"},function(){return this.rk},function(a){var b=this.rk;b!==a&&(t.i(a,"boolean",z,"allowResize"),this.rk=a,this.j("allowResize",b,a))});t.g(z,"allowRotate",z.prototype.Po); t.defineProperty(z,{Po:"allowRotate"},function(){return this.sk},function(a){var b=this.sk;b!==a&&(t.i(a,"boolean",z,"allowRotate"),this.sk=a,this.j("allowRotate",b,a))});t.g(z,"allowSelect",z.prototype.Pe);t.defineProperty(z,{Pe:"allowSelect"},function(){return this.tk},function(a){var b=this.tk;b!==a&&(t.i(a,"boolean",z,"allowSelect"),this.tk=a,this.j("allowSelect",b,a))});t.g(z,"allowUndo",z.prototype.Lz); t.defineProperty(z,{Lz:"allowUndo"},function(){return this.ju},function(a){var b=this.ju;b!==a&&(t.i(a,"boolean",z,"allowUndo"),this.ju=a,this.j("allowUndo",b,a))});t.g(z,"allowZoom",z.prototype.Ns);t.defineProperty(z,{Ns:"allowZoom"},function(){return this.lu},function(a){var b=this.lu;b!==a&&(t.i(a,"boolean",z,"allowZoom"),this.lu=a,this.j("allowZoom",b,a))});t.g(z,"hasVerticalScrollbar",z.prototype.SE); t.defineProperty(z,{SE:"hasVerticalScrollbar"},function(){return this.Pu},function(a){var b=this.Pu;b!==a&&(t.i(a,"boolean",z,"hasVerticalScrollbar"),this.Pu=a,Ji(this),this.fa(),this.j("hasVerticalScrollbar",b,a),Ci(this))});t.g(z,"hasHorizontalScrollbar",z.prototype.RE);t.defineProperty(z,{RE:"hasHorizontalScrollbar"},function(){return this.Ou},function(a){var b=this.Ou;b!==a&&(t.i(a,"boolean",z,"hasHorizontalScrollbar"),this.Ou=a,Ji(this),this.fa(),this.j("hasHorizontalScrollbar",b,a),Ci(this))}); t.g(z,"allowHorizontalScroll",z.prototype.nf);t.defineProperty(z,{nf:"allowHorizontalScroll"},function(){return this.hu},function(a){var b=this.hu;b!==a&&(t.i(a,"boolean",z,"allowHorizontalScroll"),this.hu=a,this.j("allowHorizontalScroll",b,a),Ci(this))});t.g(z,"allowVerticalScroll",z.prototype.of);t.defineProperty(z,{of:"allowVerticalScroll"},function(){return this.ku},function(a){var b=this.ku;b!==a&&(t.i(a,"boolean",z,"allowVerticalScroll"),this.ku=a,this.j("allowVerticalScroll",b,a),Ci(this))}); t.g(z,"scrollHorizontalLineChange",z.prototype.Qp);t.defineProperty(z,{Qp:"scrollHorizontalLineChange"},function(){return this.Ev},function(a){var b=this.Ev;b!==a&&(t.i(a,"number",z,"scrollHorizontalLineChange"),0>a&&t.ka(a,">= 0",z,"scrollHorizontalLineChange"),this.Ev=a,this.j("scrollHorizontalLineChange",b,a))});t.g(z,"scrollVerticalLineChange",z.prototype.Rp); t.defineProperty(z,{Rp:"scrollVerticalLineChange"},function(){return this.Fv},function(a){var b=this.Fv;b!==a&&(t.i(a,"number",z,"scrollVerticalLineChange"),0>a&&t.ka(a,">= 0",z,"scrollVerticalLineChange"),this.Fv=a,this.j("scrollVerticalLineChange",b,a))});t.g(z,"lastInput",z.prototype.R);t.defineProperty(z,{R:"lastInput"},function(){return this.ec},function(a){e&&t.l(a,ld,z,"lastInput");this.ec=a});t.g(z,"firstInput",z.prototype.Nc); t.defineProperty(z,{Nc:"firstInput"},function(){return this.Ck},function(a){e&&t.l(a,ld,z,"firstInput");this.Ck=a});t.g(z,"currentCursor",z.prototype.$b);t.defineProperty(z,{$b:"currentCursor"},function(){return this.zy},function(a){""===a&&(a=this.Gq);this.zy!==a&&(t.i(a,"string",z,"currentCursor"),null!==this.gb&&(this.zy=a,this.gb.style.cursor=a,this.Nb.style.cursor=a))});t.g(z,"defaultCursor",z.prototype.oI); t.defineProperty(z,{oI:"defaultCursor"},function(){return this.Gq},function(a){""===a&&(a="auto");var b=this.Gq;b!==a&&(t.i(a,"string",z,"defaultCursor"),this.Gq=a,this.j("defaultCursor",b,a))});t.g(z,"hasGestureZoom",z.prototype.NI);t.defineProperty(z,{NI:"hasGestureZoom"},function(){return this.ui},function(a){var b=this.ui;b!==a&&(t.i(a,"boolean",z,"hasGestureZoom"),this.ui=a,this.j("hasGestureZoom",b,a))});t.g(z,"click",z.prototype.click); t.defineProperty(z,{click:"click"},function(){return this.mi},function(a){var b=this.mi;b!==a&&(null!==a&&t.i(a,"function",z,"click"),this.mi=a,this.j("click",b,a))});t.g(z,"doubleClick",z.prototype.Nm);t.defineProperty(z,{Nm:"doubleClick"},function(){return this.si},function(a){var b=this.si;b!==a&&(null!==a&&t.i(a,"function",z,"doubleClick"),this.si=a,this.j("doubleClick",b,a))});t.g(z,"contextClick",z.prototype.Ws); t.defineProperty(z,{Ws:"contextClick"},function(){return this.oi},function(a){var b=this.oi;b!==a&&(null!==a&&t.i(a,"function",z,"contextClick"),this.oi=a,this.j("contextClick",b,a))});t.g(z,"mouseOver",z.prototype.zt);t.defineProperty(z,{zt:"mouseOver"},function(){return this.Di},function(a){var b=this.Di;b!==a&&(null!==a&&t.i(a,"function",z,"mouseOver"),this.Di=a,this.j("mouseOver",b,a))});t.g(z,"mouseHover",z.prototype.yt); t.defineProperty(z,{yt:"mouseHover"},function(){return this.Ci},function(a){var b=this.Ci;b!==a&&(null!==a&&t.i(a,"function",z,"mouseHover"),this.Ci=a,this.j("mouseHover",b,a))});t.g(z,"mouseHold",z.prototype.xt);t.defineProperty(z,{xt:"mouseHold"},function(){return this.Bi},function(a){var b=this.Bi;b!==a&&(null!==a&&t.i(a,"function",z,"mouseHold"),this.Bi=a,this.j("mouseHold",b,a))});t.g(z,"mouseDragOver",z.prototype.BF); t.defineProperty(z,{BF:"mouseDragOver"},function(){return this.kv},function(a){var b=this.kv;b!==a&&(null!==a&&t.i(a,"function",z,"mouseDragOver"),this.kv=a,this.j("mouseDragOver",b,a))});t.g(z,"mouseDrop",z.prototype.wt);t.defineProperty(z,{wt:"mouseDrop"},function(){return this.Ai},function(a){var b=this.Ai;b!==a&&(null!==a&&t.i(a,"function",z,"mouseDrop"),this.Ai=a,this.j("mouseDrop",b,a))});t.g(z,"toolTip",z.prototype.Yt); t.defineProperty(z,{Yt:"toolTip"},function(){return this.Ni},function(a){var b=this.Ni;b!==a&&(null!==a&&t.l(a,Je,z,"toolTip"),this.Ni=a,this.j("toolTip",b,a))});t.g(z,"contextMenu",z.prototype.contextMenu);t.defineProperty(z,{contextMenu:"contextMenu"},function(){return this.pi},function(a){var b=this.pi;b!==a&&(null!==a&&t.l(a,Je,z,"contextMenu"),this.pi=a,this.j("contextMenu",b,a))});t.g(z,"commandHandler",z.prototype.Se); t.defineProperty(z,{Se:"commandHandler"},function(){return this.py},function(a){var b=this.py;b!==a&&(t.l(a,oa,z,"commandHandler"),null!==a.h&&t.m("Cannot share CommandHandlers between Diagrams: "+a.toString()),null!==b&&b.yd(null),this.py=a,a.yd(this))});t.g(z,"toolManager",z.prototype.wb); t.defineProperty(z,{wb:"toolManager"},function(){return this.Uv},function(a){var b=this.Uv;b!==a&&(t.l(a,He,z,"toolManager"),null!==a.h&&t.m("Cannot share ToolManagers between Diagrams: "+a.toString()),null!==b&&b.yd(null),this.Uv=a,a.yd(this))});t.g(z,"defaultTool",z.prototype.uw);t.defineProperty(z,{uw:"defaultTool"},function(){return this.Fy},function(a){var b=this.Fy;b!==a&&(t.l(a,ae,z,"defaultTool"),this.Fy=a,this.Ua===b&&(this.Ua=a))});t.g(z,"currentTool",z.prototype.Ua); t.defineProperty(z,{Ua:"currentTool"},function(){return this.By},function(a){var b=this.By;if(null!==b)for(b.ia&&b.doDeactivate(),b.cancelWaitAfter(),b.doStop(),b=this.jm.k;b.next();)b.value.fa();null===a&&(a=this.uw);null!==a&&(t.l(a,ae,z,"currentTool"),this.By=a,a.yd(this),a.doStart())});t.A(z,{selection:"selection"},function(){return this.Iv});t.g(z,"maxSelectionCount",z.prototype.uF); t.defineProperty(z,{uF:"maxSelectionCount"},function(){return this.fv},function(a){var b=this.fv;if(b!==a)if(t.i(a,"number",z,"maxSelectionCount"),0<=a&&!isNaN(a)){if(this.fv=a,this.j("maxSelectionCount",b,a),!this.la.vb&&(a=this.selection.count-a,0= 0",z,"maxSelectionCount")});t.g(z,"nodeSelectionAdornmentTemplate",z.prototype.GF); t.defineProperty(z,{GF:"nodeSelectionAdornmentTemplate"},function(){return this.qv},function(a){var b=this.qv;b!==a&&(t.l(a,Je,z,"nodeSelectionAdornmentTemplate"),this.qv=a,this.j("nodeSelectionAdornmentTemplate",b,a))});t.g(z,"groupSelectionAdornmentTemplate",z.prototype.NE);t.defineProperty(z,{NE:"groupSelectionAdornmentTemplate"},function(){return this.Lu},function(a){var b=this.Lu;b!==a&&(t.l(a,Je,z,"groupSelectionAdornmentTemplate"),this.Lu=a,this.j("groupSelectionAdornmentTemplate",b,a))}); t.g(z,"linkSelectionAdornmentTemplate",z.prototype.rF);t.defineProperty(z,{rF:"linkSelectionAdornmentTemplate"},function(){return this.$u},function(a){var b=this.$u;b!==a&&(t.l(a,Je,z,"linkSelectionAdornmentTemplate"),this.$u=a,this.j("linkSelectionAdornmentTemplate",b,a))});t.A(z,{Lw:"highlighteds"},function(){return this.Qu});t.g(z,"isModified",z.prototype.gh); t.defineProperty(z,{gh:"isModified"},function(){var a=this.la;return a.isEnabled?null!==a.Yi?!0:this.$y&&this.Ug!==a.bj:this.$y},function(a){if(this.$y!==a){t.i(a,"boolean",z,"isModified");this.$y=a;var b=this.la;!a&&b.isEnabled&&(this.Ug=b.bj);a||kj(this)}});function kj(a){var b=a.gh;a.CD!==b&&(a.CD=b,a.Ba("Modified"))}t.g(z,"model",z.prototype.ba); t.defineProperty(z,{ba:"model"},function(){return this.je},function(a){var b=this.je;if(b!==a){t.l(a,F,z,"model");this.Ua.doCancel();null!==b&&b.la!==a.la&&b.la.dF&&t.m("Do not replace a Diagram.model while a transaction is in progress.");this.Zb.mn();this.kw();this.kf=!1;this.Qn=!0;this.Ug=-2;this.Nf=!1;var c=this.Bd;this.Bd=!0;this.Zb.tl();null!==b&&(b.UA(this.GC),b instanceof P&&lj(this,b.gj),lj(this,b.Gg));this.je=a;a.Iz(this.FC);mj(this,a.Gg);a instanceof P&&nj(this,a.gj);a.UA(this.FC);a.Iz(this.GC); this.Bd=c;this.Xb||this.fa();null!==b&&(a.la.isEnabled=b.la.isEnabled)}});t.defineProperty(z,{Ma:null},function(){return this.yC},function(a){this.yC=a}); function Xh(a,b){if(b.ba===a.ba){var c=b.td,d=b.propertyName;if(c===ud&&"S"===d[0])if("StartingFirstTransaction"===d){c=a.wb;for(d=c.df.k;d.next();)d.value.yd(a);for(d=c.Dg.k;d.next();)d.value.yd(a);for(d=c.Eg.k;d.next();)d.value.yd(a);a.Bd||a.kf||(a.Du=!0,a.Qn&&(a.Nf=!0),a.ki.tl())}else if("StartingUndo"===d||"StartingRedo"===d){var f=a.Zb;f.yg&&!a.Wa&&f.mn();a.Ba("ChangingSelection")}else"StartedTransaction"===d&&(f=a.Zb,f.yg&&!a.Wa&&f.mn(),a.Xu&&f.tl());else if(a.Ma){a.Ma=!1;try{var g=b.Af;if(""!== g)if(c===vd){if("linkFromKey"===g){var h=b.object,k=a.Qf(h);if(null!==k){var l=b.newValue,m=a.Ve(l);k.aa=m}}else if("linkToKey"===g)h=b.object,k=a.Qf(h),null!==k&&(l=b.newValue,m=a.Ve(l),k.ca=m);else if("linkFromPortId"===g){if(h=b.object,k=a.Qf(h),null!==k){var n=b.newValue;"string"===typeof n&&(k.Rf=n)}}else if("linkToPortId"===g)h=b.object,k=a.Qf(h),null!==k&&(n=b.newValue,"string"===typeof n&&(k.Og=n));else if("nodeGroupKey"===g){var h=b.object,p=a.fh(h);if(null!==p){var q=b.newValue;if(void 0!== q){var r=a.Ve(q);p.hb=r instanceof T?r:null}else p.hb=null}}else if("linkLabelKeys"===g){if(h=b.object,k=a.Qf(h),null!==k){var s=b.oldValue,u=b.newValue;if(t.isArray(s))for(var v=t.ub(s),D=0;Dthis.Bg&&(a=this.Bg);if(b!==a){this.wc=a;if(!this.Xb&&!this.Bd&&(this.Xb=!0,null!==this.gb)){var c=this.xb.copy(),d=this.Eb,f=this.Db;c.width=this.Eb/b;c.height=this.Db/b;var g=this.$f.copy();if(isNaN(g.x))switch(this.ow){case bc:g.x=0;break;case cc:g.x=d-1;break;case Kb:g.x=d/2;break;case xb:case gc:g.x=d/2}if(isNaN(g.y))switch(this.ow){case ac:g.y=0;break;case dc:g.y= f-1;break;case Kb:g.y=f/2;break;case xb:case gc:g.y=f/2}this.position=new w(this.Sa.x+g.x/b-g.x/a,this.Sa.y+g.y/b-g.y/a);this.Xb=!1;this.Et(c,this.xb)}this.fa();Ji(this)}});t.g(z,"autoScale",z.prototype.Dm);t.defineProperty(z,{Dm:"autoScale"},function(){return this.Fl},function(a){var b=this.Fl;b!==a&&(t.Aa(a,z,z,"autoScale"),this.Fl=a,this.j("autoScale",b,a),a!==Xe&&Ci(this))});t.g(z,"initialAutoScale",z.prototype.SI); t.defineProperty(z,{SI:"initialAutoScale"},function(){return this.Gk},function(a){var b=this.Gk;b!==a&&(t.Aa(a,z,z,"initialAutoScale"),this.Gk=a,this.j("initialAutoScale",b,a))});t.g(z,"initialViewportSpot",z.prototype.YE);t.defineProperty(z,{YE:"initialViewportSpot"},function(){return this.Uu},function(a){var b=this.Uu;b!==a&&(t.l(a,I,z,"initialViewportSpot"),a.xd()||t.m("initialViewportSpot must be a real Spot: "+a),this.Uu=a,this.j("initialViewportSpot",b,a))});t.g(z,"initialDocumentSpot",z.prototype.VE); t.defineProperty(z,{VE:"initialDocumentSpot"},function(){return this.Ru},function(a){var b=this.Ru;b!==a&&(t.l(a,I,z,"initialDocumentSpot"),a.xd()||t.m("initialViewportSpot must be a real Spot: "+a),this.Ru=a,this.j("initialDocumentSpot",b,a))});t.g(z,"minScale",z.prototype.Cg);t.defineProperty(z,{Cg:"minScale"},function(){return this.hv},function(a){t.q(a,z,"minScale");var b=this.hv;b!==a&&(0this.scale&&(this.scale=a)):t.ka(a,"> 0",z,"minScale"))}); t.g(z,"maxScale",z.prototype.Bg);t.defineProperty(z,{Bg:"maxScale"},function(){return this.ev},function(a){t.q(a,z,"maxScale");var b=this.ev;b!==a&&(0 0",z,"maxScale"))});t.g(z,"zoomPoint",z.prototype.$f);t.defineProperty(z,{$f:"zoomPoint"},function(){return this.$v},function(a){this.$v.M(a)||(t.l(a,w,z,"zoomPoint"),this.$v=a=a.Z())});t.g(z,"contentAlignment",z.prototype.ow); t.defineProperty(z,{ow:"contentAlignment"},function(){return this.An},function(a){var b=this.An;b.M(a)||(t.l(a,I,z,"contentAlignment"),this.An=a=a.Z(),this.j("contentAlignment",b,a),Ci(this))});t.g(z,"initialContentAlignment",z.prototype.TI);t.defineProperty(z,{TI:"initialContentAlignment"},function(){return this.Xn},function(a){var b=this.Xn;b.M(a)||(t.l(a,I,z,"initialContentAlignment"),this.Xn=a=a.Z(),this.j("initialContentAlignment",b,a))});t.g(z,"padding",z.prototype.padding); t.defineProperty(z,{padding:"padding"},function(){return this.Ne},function(a){"number"===typeof a?a=new ab(a):t.l(a,ab,z,"padding");var b=this.Ne;b.M(a)||(this.Ne=a=a.Z(),this.Oc(),this.j("padding",b,a))});t.A(z,{jh:"nodes"},function(){return this.rv.k});t.A(z,{links:"links"},function(){return this.av.k});t.A(z,{rl:"parts"},function(){return this.Fb.k});z.prototype.findTopLevelGroups=function(){return this.Tk.k};t.g(z,"layout",z.prototype.jc); t.defineProperty(z,{jc:"layout"},function(){return this.Pd},function(a){var b=this.Pd;b!==a&&(t.l(a,be,z,"layout"),null!==b&&(b.h=null,b.group=null),this.Pd=a,a.h=this,a.group=null,this.mu=!0,this.j("layout",b,a),this.te())});z.prototype.layoutDiagram=function(a){Ai(this);a&&Jj(this,!0);Mi(this,!1)};function Jj(a,b){for(var c=a.Tk.k;c.next();)Kj(a,c.value,b);null!==a.jc&&(b?a.jc.$e=!1:a.jc.J())} function Kj(a,b,c){if(null!==b){for(var d=b.qo.k;d.next();)Kj(a,d.value,c);null!==b.jc&&(c?b.jc.$e=!1:b.jc.J())}}function Mi(a,b){if(!a.Gy){var c=a.jc,d=a.Xu;a.Xu=!0;var f=a.Ma;a.Ma=!0;try{for(var g=a.Tk.k;g.next();)Lj(a,g.value,b);c.$e||b&&!c.xA||(c.doLayout(a),Ai(a),c.$e=!0)}finally{a.mu=!c.$e,a.Xu=d,a.Ma=f}}}function Lj(a,b,c){if(null!==b){for(var d=b.qo.k;d.next();)Lj(a,d.value,c);d=b.jc;null===d||d.$e||c&&!d.xA||(b.MC=!b.location.N(),d.doLayout(b),b.J(Mj),d.$e=!0,Oi(a,b))}} t.g(z,"isTreePathToChildren",z.prototype.pd);t.defineProperty(z,{pd:"isTreePathToChildren"},function(){return this.Wu},function(a){var b=this.Wu;if(b!==a&&(t.i(a,"boolean",z,"isTreePathToChildren"),this.Wu=a,this.j("isTreePathToChildren",b,a),!this.la.vb))for(a=this.jh;a.next();)Nj(a.value)});z.prototype.findTreeRoots=function(){for(var a=new B(S),b=this.jh.k;b.next();){var c=b.value;c.sp&&null===c.ft()&&a.add(c)}return a.k};t.g(z,"isCollapsingExpanding",z.prototype.Wd); t.defineProperty(z,{Wd:null},function(){return this.nC},function(a){this.nC=a}); function Vh(a){function b(a){var b=a.toLowerCase(),h=new B("function");c.add(a,h);c.add(b,h);d.add(a,a);d.add(b,a)}var c=new ja("string",B),d=new ja("string","string");b("AnimationStarting");b("AnimationFinished");b("BackgroundSingleClicked");b("BackgroundDoubleClicked");b("BackgroundContextClicked");b("ClipboardChanged");b("ClipboardPasted");b("DocumentBoundsChanged");b("ExternalObjectsDropped");b("InitialLayoutCompleted");b("LayoutCompleted");b("LinkDrawn");b("LinkRelinked");b("LinkReshaped");b("Modified"); b("ObjectSingleClicked");b("ObjectDoubleClicked");b("ObjectContextClicked");b("PartCreated");b("PartResized");b("PartRotated");b("SelectionMoved");b("SelectionCopied");b("SelectionDeleting");b("SelectionDeleted");b("SelectionGrouped");b("SelectionUngrouped");b("ChangingSelection");b("ChangedSelection");b("SubGraphCollapsed");b("SubGraphExpanded");b("TextEdited");b("TreeCollapsed");b("TreeExpanded");b("ViewportBoundsChanged");a.Iy=c;a.Hy=d} function ma(a,b){var c=a.Hy.za(b);return null!==c?c:a.Hy.za(b.toLowerCase())}function Oj(a,b){var c=a.Iy.za(b);if(null!==c)return c;c=a.Iy.za(b.toLowerCase());if(null!==c)return c;t.m("Unknown DiagramEvent name: "+b);return null}z.prototype.addDiagramListener=z.prototype.Jz=function(a,b){t.i(a,"string",z,"addDiagramListener:name");t.i(b,"function",z,"addDiagramListener:listener");var c=Oj(this,a);null!==c&&c.add(b)}; z.prototype.removeDiagramListener=z.prototype.OF=function(a,b){t.i(a,"string",z,"removeDiagramListener:name");t.i(b,"function",z,"addDiagramListener:listener");var c=Oj(this,a);null!==c&&c.remove(b)};z.prototype.raiseDiagramEvent=z.prototype.Ba=function(a,b,c){e&&t.i(a,"string",z,"raiseDiagramEvent:name");var d=Oj(this,a),f=new rd;f.h=this;f.name=ma(this,a);void 0!==b&&(f.Ax=b);void 0!==c&&(f.kx=c);a=d.length;if(1===a)d=d.wa(0),d(f);else if(0!==a)for(b=d.Ie(),c=0;c=d.top&&0>=d.left&&0>=d.right&&0>=d.bottom)return c;var f=a.xb,g=a.scale,f=t.hk(0,0,f.width*g,f.height*g),h=t.mc(0,0);if(b.x>=f.x&&b.xf.x+f.width-d.right&&(k=Math.max(a.Qp,1),k|=0,h.x+=k,b.x>f.x+f.width-d.right/2&&(h.x+=k),b.x>f.x+f.width-d.right/4&&(h.x+=4*k));b.y>=f.y&&b.yf.y+f.height-d.bottom&&(k=Math.max(a.Rp,1),k|=0,h.y+=k,b.y>f.y+f.height-d.bottom/2&&(h.y+=k),b.y>f.y+f.height-d.bottom/4&&(h.y+=4*k));h.sf(H.mj)||(c=new w(c.x+h.x/g,c.y+h.y/g));t.hc(f);t.B(h);return c}z.prototype.makeSVG=z.prototype.makeSvg=function(a){void 0===a&&(a={});a.context="svg";a=Xj(this,a);return null!==a?a.zl:null}; z.prototype.makeImage=function(a){void 0===a&&(a={});var b=(a.document||document).createElement("img");b.src=this.kJ(a);return b instanceof HTMLImageElement?b:null};z.prototype.makeImageData=z.prototype.kJ=function(a){void 0===a&&(a={});var b=Xj(this,a);return null!==b?b.toDataURL(a.type,a.details):""}; function Xj(a,b){a.Zb.mn();a.Uf();if(null===a.gb)return null;"object"!==typeof b&&t.m("properties argument must be an Object.");var c=!1,d=b.size||null,f=b.scale||null;void 0!==b.scale&&isNaN(b.scale)&&(f="NaN");var g=b.maxSize;void 0===b.maxSize&&(c=!0,g="svg"===b.context?new ga(Infinity,Infinity):new ga(2E3,2E3));var h=b.position||null,k=b.parts||null,l=void 0===b.padding?1:b.padding,m=b.background||null,n=b.omitTemporary;void 0===n&&(n=!0);var p=b.document||document,q=b.elementFinished||null,r= b.showTemporary;void 0===r&&(r=!n);n=b.showGrid;void 0===n&&(n=r);null!==d&&isNaN(d.width)&&isNaN(d.height)&&(d=null);l&&"number"===typeof l&&(l=new ab(l));l||(l=new ab(0));l.left=Math.max(l.left,0);l.right=Math.max(l.right,0);l.top=Math.max(l.top,0);l.bottom=Math.max(l.bottom,0);a.Mn=!1;vi(a);var s=p.createElement("canvas"),u=s.getContext("2d"),v=s;if(!(d||f||k||h))return s.width=a.Eb+Math.ceil(l.left+l.right),s.height=a.Db+Math.ceil(l.top+l.bottom),"svg"===b.context&&(u=v=new nc(s,p,q),u instanceof nc&&(a.Mn=!0)),Vi(a,u,l,new ga(s.width,s.height),a.wc,a.Sa,k,m,r,n),a.Mn=!0,v;var D=a.Se.Ys,A,G=new w(0,0);A=a.Gd.copy();A.YJ(a.padding);G.x=A.x;G.y=A.y;if(k){var L,N=!0,k=k.k;for(k.reset();k.next();){var O=k.value;if(O instanceof E){var U=O.layer;U&&!U.visible||U&&U.yc||!O.Pa()||(O=O.pa,O.N()&&(N?(N=!1,L=O.copy()):L.kj(O)))}}N&&(L=new x(0,0,0,0));A.width=L.width;A.height=L.height;G.x=L.x;G.y=L.y}null!==h&&h.N()&&(G=h,f||(f=D));L=h=0;l&&(h=l.left+l.right,L=l.top+l.bottom);N=O=0;d&&(O=d.width,N=d.height, isFinite(O)&&(O=Math.max(0,O-h)),isFinite(N)&&(N=Math.max(0,N-L)));d&&f?("NaN"===f&&(f=D),d.N()?(d=O,A=N):isNaN(N)?(d=O,A=A.height*f):(d=A.width*f,A=N)):d?d.N()?(f=Math.min(O/A.width,N/A.height),d=O,A=N):isNaN(N)?(f=O/A.width,d=O,A=A.height*f):(f=N/A.height,d=A.width*f,A=N):f?"NaN"===f&&g.N()?(f=Math.min((g.width-h)/A.width,(g.height-L)/A.height),f>D?(f=D,d=A.width,A=A.height):(d=g.width,A=g.height)):(d=A.width*f,A=A.height*f):(f=D,d=A.width,A=A.height);l?(d+=h,A+=L):l=new ab(0);g&&(D=g.width,g=g.height, "svg"!==b.context&&c&&!t.SG&&(d>D||A>g)&&(t.trace("Diagram.makeImage(data): Diagram width or height is larger than the default max size. ("+Math.ceil(d)+"x"+Math.ceil(A)+" vs 2000x2000) Consider increasing the max size."),t.SG=!0),isNaN(D)&&(D=2E3),isNaN(g)&&(g=2E3),isFinite(D)&&(d=Math.min(d,D)),isFinite(g)&&(A=Math.min(A,g)));s.width=Math.ceil(d);s.height=Math.ceil(A);"svg"===b.context&&(u=v=new nc(s,p,q),u instanceof nc&&(a.Mn=!0));Vi(a,u,l,new ga(Math.ceil(d),Math.ceil(A)),f,G,k,m,r,n);a.Mn=!0; return v}z.inherit=function(a,b){t.i(a,"function",z,"inherit");t.i(b,"function",z,"inherit");b.tH&&t.m("Cannot inherit from "+t.xg(b));t.Ka(a,b)};function Yj(a){1a)&&t.ka(a,"0 <= loc <= 1",fa,"addColorStop:loc");t.i(b,"string",fa,"addColorStop:color");null===this.Qg&&(this.Qg=new ja("number","string"));this.Qg.add(a,b);this.da===Nd&&(this.type=Od);this.Rg=null};t.g(fa,"type",fa.prototype.type); t.defineProperty(fa,{type:"type"},function(){return this.da},function(a){t.L(this,a);t.Aa(a,fa,fa,"type");this.da=a;this.start.Ge()&&(a===Od?this.start=Fb:a===Zd&&(this.start=Kb));this.end.Ge()&&(a===Od?this.end=Mb:a===Zd&&(this.end=Kb));this.Rg=null});t.g(fa,"color",fa.prototype.color);t.defineProperty(fa,{color:"color"},function(){return this.zn},function(a){t.L(this,a);t.i(a,"string",fa,"color");this.zn=a;this.Rg=null});t.g(fa,"start",fa.prototype.start); t.defineProperty(fa,{start:"start"},function(){return this.Ao},function(a){t.L(this,a);a instanceof I||t.bc(a,"Spot",fa,"start");this.Ao=a.Z();this.Rg=null});t.g(fa,"end",fa.prototype.end);t.defineProperty(fa,{end:"end"},function(){return this.On},function(a){t.L(this,a);a instanceof I||t.bc(a,"Spot",fa,"end");this.On=a.Z();this.Rg=null});t.g(fa,"startRadius",fa.prototype.Vp); t.defineProperty(fa,{Vp:"startRadius"},function(){return this.Mv},function(a){t.L(this,a);t.q(a,fa,"startRadius");0>a&&t.ka(a,">= zero",fa,"startRadius");this.Mv=a;this.Rg=null});t.g(fa,"endRadius",fa.prototype.ap);t.defineProperty(fa,{ap:"endRadius"},function(){return this.Hu},function(a){t.L(this,a);t.q(a,fa,"endRadius");0>a&&t.ka(a,">= zero",fa,"endRadius");this.Hu=a;this.Rg=null});t.g(fa,"colorStops",fa.prototype.Vo); t.defineProperty(fa,{Vo:"colorStops"},function(){return this.Qg},function(a){t.L(this,a);e&&t.l(a,ja,fa,"colorStops");this.Qg=a;this.Rg=null});t.g(fa,"pattern",fa.prototype.pattern);t.defineProperty(fa,{pattern:"pattern"},function(){return this.yv},function(a){t.L(this,a);this.yv=a;this.Rg=null}); fa.randomColor=function(a,b){void 0===a&&(a=128);e&&(t.q(a,fa,"randomColor:min"),(0>a||255d.length&&(d="0"+d);2>f.length&&(f="0"+f);2>c.length&&(c="0"+c);return"#"+ d+f+c}; function Q(){t.Ac(this);this.ma=30723;this.Lf=1;this.Hi=null;this.Yb="";this.tc=this.Mb=null;this.Sa=(new w(NaN,NaN)).freeze();this.hf=(new ga(NaN,NaN)).freeze();this.Ej=H.gq;this.Dj=H.fH;this.md=new ha;this.jk=new ha;this.Lk=new ha;this.wc=1;this.wn=0;this.Oh=Vg;this.sr=H.fq;this.Wc=(new x(NaN,NaN,NaN,NaN)).freeze();this.cc=(new x(NaN,NaN,NaN,NaN)).freeze();this.hd=(new x(0,0,NaN,NaN)).freeze();this.ys=this.Nq=this.P=this.Nr=this.Pr=null;this.zs=this.Oq=Infinity;this.mq=this.ue=xb;this.as=0;this.Jj= 1;this.tq=0;this.rj=1;this.es=-Infinity;this.ds=0;this.fs=H.mj;this.gs=yg;this.Aq="";this.lm=this.ni=this.Kl=this.Kc=this.Q=null}t.ga("GraphObject",Q);t.Xh(Q); Q.prototype.cloneProtected=function(a){a.ma=this.ma|6144;a.Lf=this.Lf;a.Yb=this.Yb;a.Mb=this.Mb;a.tc=this.tc;a.Sa.assign(this.Sa);a.hf.assign(this.hf);a.Ej=this.Ej.Z();a.Dj=this.Dj.Z();a.Lk=this.Lk.copy();a.wc=this.wc;a.wn=this.wn;a.Oh=this.Oh;a.sr=this.sr.Z();a.Wc.assign(this.Wc);a.cc.assign(this.cc);a.hd.assign(this.hd);a.Nr=this.Nr;if(null!==this.P){var b=this.P;a.P={Dh:b.Dh.Z(),Th:b.Th.Z(),Ah:b.Ah,Qh:b.Qh,zh:b.zh,Ph:b.Ph,Ch:b.Ch,Sh:b.Sh}}else a.P=null;a.Nq=this.Nq;a.Oq=this.Oq;a.ys=this.ys;a.zs= this.zs;a.ue=this.ue.Z();a.mq=this.mq.Z();a.as=this.as;a.Jj=this.Jj;a.tq=this.tq;a.rj=this.rj;a.es=this.es;a.ds=this.ds;a.fs=this.fs.Z();a.gs=this.gs;a.Aq=this.Aq;null!==this.Q?(b=this.Q,a.Q={mi:b.mi,si:b.si,oi:b.oi,Dr:b.Dr,Er:b.Er,Di:b.Di,Ci:b.Ci,Bi:b.Bi,Br:b.Br,Cr:b.Cr,Ai:b.Ai,iq:b.iq,jq:b.jq,kq:b.kq,hq:b.hq,Ni:b.Ni,pi:b.pi}):a.Q=null;a.Kc=this.Kc;if(Array.isArray(this.Kl))for(a.Kl=this.Kl.slice(0),b=0;bk;)k+=g[n++%l],p=!p;q=!1}else k=g[n++%l];k>m&&(k=m);var r=Math.sqrt(k*k/(1+f*f));0>d&&(r=-r);b+=r;c+=f*r;p?a.lineTo(b,c):a.moveTo(b,c);m-=k;p=!p}}aa.Ic=function(a,b,c,d,f,g,h){var k=this.S;null!==k&&(k.fn(a,b,c,d,f,g,h),0!==(this.ma&1024)&&c===this&&a===vd&&ik(this,k,b))}; function ik(a,b,c){var d=a.ep();if(null!==d)for(var f=a.Kc.k;f.next();){var g=f.value,h=g.Ut;if(null!==h){var k=d.ne(h);if(null===k)continue;g.oB(a,k,c,null)}else{k=d.data;if(null===k)continue;var l=b.h;null!==l&&l.Tt||g.oB(a,k,c,l)}null!==h&&(k=d,""!==h&&(k=d.ne(h)),null!==k&&(h=g.nn,l=d,""!==h&&(l=d.ne(h)),null!==l&&g.PG(l,k,c)))}}aa.j=function(a,b,c){this.Ic(vd,a,this,b,c)}; function jk(a,b,c,d,f){var g=a.Wc,h=a.Lk;h.reset();kk(a,h,b,c,d,f);a.Lk=h;g.x=b;g.y=c;g.width=d;g.height=f;h.qt()||h.JG(g)}function lk(a,b,c,d){if(!1===a.Bf)return!1;d.multiply(a.transform);return c?a.Tf(b,d):a.Im(b,d)} aa.BE=function(a,b,c){if(!1===this.Bf)return!1;var d=this.Qa;b=a.Yj(b);var f=!1;c&&(f=Ra(a.x,a.y,0,0,0,d.height)d.width*f&&10>d.height*f)return a=mb(c.x-5*g,c.y-5*g,c.width+10*g,c.height+10*g,b.x,b.y),t.B(b),a}if(void 0!==this.pc||this instanceof W?mb(c.x-5,c.y-5,c.width+10,c.height+10,b.x,b.y):c.Fa(b)){if(this.ni&&!this.ni.Fa(b))return!1;if(null!==this.tc&&c.Fa(b)||null!== this.Mb&&this.hd.Fa(a))return!0;t.B(b);return this.Uj(a)}t.B(b);return!1};Q.prototype.Uj=function(a){var b=this.Qa;return mb(0,0,b.width,b.height,a.x,a.y)}; Q.prototype.containsRect=Q.prototype.Vj=function(a){e&&t.l(a,x,Q,"containsRect:r");if(0===this.angle)return this.pa.Vj(a);var b=this.Qa,b=t.hk(0,0,b.width,b.height),c=this.transform,d=!1,f=t.mc(a.x,a.y);b.Fa(c.ai(f))&&(f.p(a.x,a.bottom),b.Fa(c.ai(f))&&(f.p(a.right,a.bottom),b.Fa(c.ai(f))&&(f.p(a.right,a.y),b.Fa(c.ai(f))&&(d=!0))));t.B(f);t.hc(b);return d}; Q.prototype.containedInRect=Q.prototype.Im=function(a,b){e&&t.l(a,x,Q,"containedInRect:r");if(void 0===b)return a.Vj(this.pa);var c=this.Qa,d=!1,f=t.mc(0,0);a.Fa(b.Ta(f))&&(f.p(0,c.height),a.Fa(b.Ta(f))&&(f.p(c.width,c.height),a.Fa(b.Ta(f))&&(f.p(c.width,0),a.Fa(b.Ta(f))&&(d=!0))));return d}; Q.prototype.intersectsRect=Q.prototype.Tf=function(a,b){e&&t.l(a,x,Q,"intersectsRect:r");if(void 0===b&&(b=this.transform,0===this.angle))return a.Tf(this.pa);var c=this.Qa,d=b,f=t.mc(0,0),g=t.mc(0,c.height),h=t.mc(c.width,c.height),k=t.mc(c.width,0),l=!1;if(a.Fa(d.Ta(f))||a.Fa(d.Ta(g))||a.Fa(d.Ta(h))||a.Fa(d.Ta(k)))l=!0;else{var c=t.hk(0,0,c.width,c.height),m=t.mc(a.x,a.y);c.Fa(d.ai(m))?l=!0:(m.p(a.x,a.bottom),c.Fa(d.ai(m))?l=!0:(m.p(a.right,a.bottom),c.Fa(d.ai(m))?l=!0:(m.p(a.right,a.y),c.Fa(d.ai(m))&& (l=!0))));t.B(m);t.hc(c);!l&&(H.Ow(a,f,g)||H.Ow(a,g,h)||H.Ow(a,h,k)||H.Ow(a,k,f))&&(l=!0)}t.B(f);t.B(g);t.B(h);t.B(k);return l};Q.prototype.getDocumentPoint=Q.prototype.qb=function(a,b){void 0===b&&(b=new w);a.Ge()&&t.m("getDocumentPoint:s Spot must be real: "+a.toString());var c=this.Qa;b.p(a.x*c.width+a.offsetX,a.y*c.height+a.offsetY);this.le.Ta(b);return b};Q.prototype.getDocumentAngle=Q.prototype.gl=function(){var a=this.le,a=180/Math.PI*Math.atan2(a.m12,a.m11);0>a&&(a+=360);return a}; Q.prototype.getDocumentScale=Q.prototype.dk=function(){var a=this.wc;return null!==this.ja?a*this.ja.dk():a};Q.prototype.getLocalPoint=Q.prototype.JE=function(a,b){void 0===b&&(b=new w);b.assign(a);this.le.ai(b);return b};Q.prototype.getNearestIntersectionPoint=Q.prototype.kl=function(a,b,c){return this.kp(a.x,a.y,b.x,b.y,c)};aa=Q.prototype; aa.kp=function(a,b,c,d,f){var g=this.transform,h=1/(g.m11*g.m22-g.m12*g.m21),k=g.m22*h,l=-g.m12*h,m=-g.m21*h,n=g.m11*h,p=h*(g.m21*g.dy-g.m22*g.dx),q=h*(g.m12*g.dx-g.m11*g.dy);if(null!==this.Zk)return g=this.pa,H.kl(g.left,g.top,g.right,g.bottom,a,b,c,d,f);h=a*k+b*m+p;a=a*l+b*n+q;b=c*k+d*m+p;c=c*l+d*n+q;f.p(0,0);d=this.Qa;c=H.kl(0,0,d.width,d.height,h,a,b,c,f);f.transform(g);return c}; function hh(a,b,c,d,f){if(!1!==Pi(a)){var g=a.margin,h=g.right+g.left,g=g.top+g.bottom;b=Math.max(b-h,0);c=Math.max(c-g,0);f=f||0;d=Math.max((d||0)-h,0);f=Math.max(f-g,0);h=a.angle;if(90===h||270===h)h=b,b=c,c=h,h=d,d=f,f=h;h=a.Ca;g=0;a.fb&&(g=a.fb);b=isFinite(h.width)?h.width+g:b;c=isFinite(h.height)?h.height+g:c;var h=d||0,g=f||0,k=a instanceof y;switch(mk(a)){case Ug:g=h=0;k&&(c=b=Infinity);break;case Cc:isFinite(b)&&b>d&&(h=b);isFinite(c)&&c>f&&(g=c);break;case ek:isFinite(b)&&b>d&&(h=b);g=0; k&&(c=Infinity);break;case dk:isFinite(c)&&c>f&&(g=c),h=0,k&&(b=Infinity)}var k=a.He,l=a.Vf;h>k.width&&l.widthk.height&&l.heighta.height||this.no.Ag>a.width))&&(c=!0);this.ma=c?this.ma|256:this.ma&-257;this.cc.N()|| t.m("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.cc.toString());pk(this,g,this.cc);t.hc(g)};aa.Tj=function(){}; function qk(a,b,c,d,f){var g=a.pa;g.x=b;g.y=c;g.width=d;g.height=f;if(!a.Ca.N()){g=a.Wc;c=a.margin;b=c.right+c.left;var h=c.top+c.bottom;c=g.width+b;g=g.height+h;d+=b;f+=h;b=mk(a);c===d&&g===f&&(b=Ug);switch(b){case Ug:if(c>d||g>f)nk(a,!0),hh(a,c>d?d:c,g>f?f:g);break;case Cc:nk(a,!0);hh(a,d,f,0,0);break;case ek:nk(a,!0);hh(a,d,g,0,0);break;case dk:nk(a,!0),hh(a,c,f,0,0)}}} function pk(a,b,c){rk(a,!1);var d=a.S;if(null!==d){var f=d.h;if(null!==f)if(sk(d),a instanceof E){var g=!1,d=b.N();if(!1===f.vi){var h=f.Gd,k=f.padding,l=h.x+k.left,m=h.y+k.top,n=h.width-2*k.right,h=h.height-2*k.bottom;d&&b.x>l&&b.y>m&&b.rightl&&c.y>m&&c.righth.width+h.x||h.x>n.width+n.x||r>h.height+h.y||h.y>n.height+n.y)break a;n=!0;rc(a,1,0,0,1,0,0);a.save();a.beginPath();a.rect(q,r,s,p);a.clip()}q=!1;if(this instanceof E&&(q=!0,!this.Pa()))break a;r=!1;s=b.Rk;this.S&&s.drawShadows&&(r=this.S.fj);a.Zi.cf=[1,0,0,1,0,0];null!==this.tc&&(zk(this, a,this.tc,!0,!0),this.tc instanceof fa&&this.tc.type===Zd?(a.beginPath(),a.rect(h.x,h.y,h.width,h.height),Ak(a,this.tc,!0)):a.fillRect(h.x,h.y,h.width,h.height));q&&this.fj&&s.drawShadows&&(rc(a,1,0,0,1,0,0),h=this.um,a.shadowOffsetX=h.x,a.shadowOffsetY=h.y,a.shadowColor=this.tm,a.shadowBlur=this.sm/b.scale,a.bb());this instanceof y?rc(a,k.m11,k.m12,k.m21,k.m22,k.dx,k.dy):a.Zi.cf=[k.m11,k.m12,k.m21,k.m22,k.dx,k.dy];if(null!==this.Mb){var p=this.Qa,h=k=0,s=p.width,p=p.height,u=0;this instanceof W&& (p=this.Na.Pb,k=p.x,h=p.y,s=p.width,p=p.height,u=this.bh);zk(this,a,this.Mb,!0);this.Mb instanceof fa&&this.Mb.type===Zd?(a.beginPath(),a.rect(k-u/2,h-u/2,s+u,p+u),Ak(a,this.Mb,!0)):a.fillRect(k-u/2,h-u/2,s+u,p+u)}if(r&&(null!==this.Mb||null!==this.tc||null!==l&&0!==(l.ma&512)||null!==l&&l.type===ci&&l.Dw()!==this)){Bk(this,!0);var v=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}else Bk(this,!1);this.el(a,b);r&&0!==(this.ma&512)===!0&&(a.shadowOffsetX= v[0],a.shadowOffsetY=v[1],a.shadowBlur=v[2]);q&&r&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);m?(a.restore(),n&&a.uf.pop(),vi(b,a)):this instanceof y&&(f=a.uf.pop());q&&r&&a.uf.pop();null!==a.xE&&(null===f&&(g===a.Vw?(rc(a,1,0,0,1,0,0),v=a.uf.pop()):v=a.Vw,f=v),a.xE(this,f))}}}}else if(this instanceof y&&(this.type===vk||this.type===wk))xk(this,a,b);else if(m=this.cc,0!==m.width&&0!==m.height&&!isNaN(m.x)&&!isNaN(m.y)){v=this.transform;g=this.ja;l=this.jk;l.reset();null!==g&&(g.Hf()?l.multiply(g.le): null!==g.ja&&l.multiply(g.ja.le));l.multiply(this.md);l=0!==(this.ma&256);this instanceof na&&yk(this,a);if(l){e&&e.BI&&t.trace("clip"+this.toString());n=g.Hf()?g.Qa:g.pa;this.ni?(r=this.ni,k=r.x,h=r.y,q=r.width,r=r.height):(k=Math.max(m.x,n.x),h=Math.max(m.y,n.y),q=Math.min(m.right,n.right)-k,r=Math.min(m.bottom,n.bottom)-h);if(k>m.width+m.x||m.x>n.width+n.x||h>m.height+m.y||m.y>n.height+n.y){1!==c&&(a.globalAlpha=d);return}a.save();a.beginPath();a.rect(k,h,q,r);a.clip()}h=b.Rk;n=!1;if(this instanceof E){n=!0;if(!this.Pa()){1!==c&&(a.globalAlpha=d);return}this.fj&&h.drawShadows&&(k=this.um,a.shadowOffsetX=k.x*b.scale,a.shadowOffsetY=k.y*b.scale,a.shadowColor=this.tm,a.shadowBlur=this.sm)}k=!1;this.S&&h.drawShadows&&(k=this.S.fj);null!==this.tc&&(zk(this,a,this.tc,!0,!0),this.tc instanceof fa&&this.tc.type===Zd?(a.beginPath(),a.rect(m.x,m.y,m.width,m.height),Ak(a,this.tc,!0)):a.fillRect(m.x,m.y,m.width,m.height));v.qt()||a.transform(v.m11,v.m12,v.m21,v.m22,v.dx,v.dy);null!==this.Mb&&(r=this.Qa, h=m=0,q=r.width,r=r.height,s=0,this instanceof W&&(r=this.Na.Pb,m=r.x,h=r.y,q=r.width,r=r.height,s=this.bh),zk(this,a,this.Mb,!0),this.Mb instanceof fa&&this.Mb.type===Zd?(a.beginPath(),a.rect(m-s/2,h-s/2,q+s,r+s),Ak(a,this.Mb,!0)):a.fillRect(m-s/2,h-s/2,q+s,r+s));k&&(null!==this.Mb||null!==this.tc||null!==g&&0!==(g.ma&512)||null!==g&&(g.type===ci||g.type===Sg)&&g.Dw()!==this)?(Bk(this,!0),f=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0):Bk(this, !1);this.el(a,b);k&&0!==(this.ma&512)===!0&&(a.shadowOffsetX=f[0],a.shadowOffsetY=f[1],a.shadowBlur=f[2]);n&&k&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);l?(a.restore(),this instanceof y?vi(b,a,!0):vi(b,a,!1)):v.qt()||(f=1/(v.m11*v.m22-v.m12*v.m21),a.transform(v.m22*f,-v.m12*f,-v.m21*f,v.m11*f,f*(v.m21*v.dy-v.m22*v.dx),f*(v.m12*v.dx-v.m11*v.dy)))}1!==c&&(a.globalAlpha=d)}}; function xk(a,b,c){var d=a.cc;0===d.width||0===d.height||isNaN(d.x)||isNaN(d.y)||(null!==a.tc&&(zk(a,b,a.tc,!0,!0),a.tc instanceof fa&&a.tc.type===Zd?(b.beginPath(),b.rect(d.x,d.y,d.width,d.height),Ak(b,a.tc,!0)):b.fillRect(d.x,d.y,d.width,d.height)),null!==a.Mb&&(zk(a,b,a.Mb,!0),a.Mb instanceof fa&&a.Mb.type===Zd?(b.beginPath(),b.rect(d.x,d.y,d.width,d.height),Ak(b,a.Mb,!0)):b.fillRect(d.x,d.y,d.width,d.height)),a.el(b,c))}aa.el=function(){}; function Ak(a,b,c){if(c)if(a instanceof CanvasRenderingContext2D&&b instanceof fa&&b.type===Zd){var d=b.ty;b=b.sy;b>d?(a.scale(d/b,1),a.translate((b-d)/2,0),c?a.fill():a.stroke(),a.translate(-(b-d)/2,0),a.scale(1/(d/b),1)):d>b?(a.scale(1,b/d),a.translate(0,(d-b)/2),c?a.fill():a.stroke(),a.translate(0,-(d-b)/2),a.scale(1,1/(b/d))):c?a.fill():a.stroke()}else c?a.fill():a.stroke();else a.stroke()} function zk(a,b,c,d,f){if(null!==c){var g=1,h=1;if("string"===typeof c)d?b.rn!==c&&(b.fillStyle=c,b.rn=c):b.sn!==c&&(b.strokeStyle=c,b.sn=c);else if(c.type===Nd)c=c.color,d?b.rn!==c&&(b.fillStyle=c,b.rn=c):b.sn!==c&&(b.strokeStyle=c,b.sn=c);else{var k,h=a.Qa,g=h.width,h=h.height;if(f)var l=a.pa,g=l.width,h=l.height;var m=b instanceof CanvasRenderingContext2D;if(m&&(c.Rg&&c.type===ck||c.ty===g&&c.sy===h))k=c.Rg;else{var n,p,q=p=0;f&&(l=a.pa,g=l.width,h=l.height,p=l.x,q=l.y);c.start instanceof w?(a= c.start.x,f=c.start.y):c.start instanceof I?(a=c.start.x*g+c.start.offsetX,f=c.start.y*h+c.start.offsetY):(a=Kb.x*g+c.start.offsetX,f=Kb.y*h+c.start.offsetY);c.end instanceof w?(l=c.end.x,n=c.end.y):c.end instanceof I?(l=c.end.x*g+c.end.offsetX,n=c.end.y*h+c.end.offsetY):c.type===Od?(l=Mb.x*g+c.end.offsetX,n=Mb.y*h+c.end.offsetY):(l=Kb.x*g+c.end.offsetX,n=Kb.y*h+c.end.offsetY);a+=p;l+=p;f+=q;n+=q;c.type===Od?k=b.createLinearGradient(a,f,l,n):c.type===Zd?(p=isNaN(c.ap)?Math.max(g,h)/2:c.ap,isNaN(c.Vp)? (k=0,p=Math.max(g,h)/2):k=c.Vp,k=b.createRadialGradient(a,f,k,l,n,p)):c.type===ck?k=b.createPattern(c.pattern,"repeat"):t.bc(c.type,"Brush type");if(c.type!==ck&&(p=c.Vo))for(p=p.k;p.next();)k.addColorStop(p.key,p.value);m&&(c.Rg=k,c.ty=g,c.sy=h)}d?b.rn!==k&&(b.fillStyle=k,b.rn=k):b.sn!==k&&(b.strokeStyle=k,b.sn=k)}}}Q.prototype.isContainedBy=Q.prototype.dj=function(a){if(a instanceof y)a:{if(this!==a&&null!==a)for(var b=this.ja;null!==b;){if(b===a){a=!0;break a}b=b.ja}a=!1}else a=!1;return a}; Q.prototype.isVisibleObject=Q.prototype.ol=function(){if(!this.visible)return!1;var a=this.ja;return null!==a?a.ol():!0}; function Ck(a){if(0!==(a.ma&2048)===!0){var b=a.md;b.reset();if(!a.cc.N()||!a.Wc.N()){Dk(a,!1);return}b.translate(a.cc.x,a.cc.y);b.translate(-a.Ga.x,-a.Ga.y);var c=a.Qa;kk(a,b,c.x,c.y,c.width,c.height);Dk(a,!1);Ek(a,!0)}0!==(a.ma&4096)===!0&&(b=a.ja,null===b?(a.jk.set(a.md),Ek(a,!1)):null!==b.le&&(c=a.jk,c.reset(),b.Hf()?c.multiply(b.jk):null!==b.ja&&c.multiply(b.ja.jk),c.multiply(a.md),Ek(a,!1)))} function kk(a,b,c,d,f,g){1!==a.scale&&b.scale(a.scale);if(0!==a.angle){var h=Kb;a.bf&&a.bf.xd()&&(h=a.bf);var k=t.K();if(a instanceof E&&a.kc!==a)for(c=a.kc,d=c.Qa,k.Rt(d.x,d.y,d.width,d.height,h),c.Lk.Ta(k),k.offset(-c.Ga.x,-c.Ga.y),h=c.ja;null!==h&&h!==a;)h.Lk.Ta(k),k.offset(-h.Ga.x,-h.Ga.y),h=h.ja;else k.Rt(c,d,f,g,h);b.rotate(a.angle,k.x,k.y);t.B(k)}} Q.prototype.ha=function(a){if(!0!==Pi(this)){nk(this,!0);rk(this,!0);var b=this.ja;null!==b?a||b.ha():(a=this.h,null!==a&&(this.Pa()&&a.fg.add(this),this instanceof S&&(a.la.vb||this.vf(),null!==this.Zd&&Fk(this.Zd)),a.te()));if(this instanceof y){var c=null;a=this.xa;b=a.length;this.da===ci&&(c=Gk(this,a,b))&&c.ha(!0);a=a.n;for(c=0;ca?a=0:1a||1=a&&t.m("GraphObject.scale must be greater than zero"),this.wc=a,ok(this),this.ha(),this.j("scale",b,a))});t.g(Q,"angle",Q.prototype.angle); t.defineProperty(Q,{angle:"angle"},function(){return this.wn},function(a){var b=this.wn;b!==a&&(e&&t.q(a,Q,"angle"),a%=360,0>a&&(a+=360),b!==a&&(this.wn=a,this.ha(),ok(this),this.j("angle",b,a)))});t.g(Q,"desiredSize",Q.prototype.Ca); t.defineProperty(Q,{Ca:"desiredSize"},function(){return this.hf},function(a){var b=this.hf;b.M(a)||(e&&t.l(a,ga,Q,"desiredSize"),this.hf=a=a.Z(),this.ha(),this instanceof W&&this.Ye(),this.j("desiredSize",b,a),a=this.S,null!==a&&0!==(this.ma&1024)&&(ik(this,a,"width"),ik(this,a,"height")))});t.g(Q,"width",Q.prototype.width); t.defineProperty(Q,{width:"width"},function(){return this.hf.width},function(a){if(this.hf.width!==a){e&&t.i(a,"number",Q,"width");var b=this.hf;this.hf=a=(new ga(a,this.hf.height)).freeze();this.ha();this instanceof W&&this.Ye();this.j("desiredSize",b,a);b=this.S;null!==b&&0!==(this.ma&1024)&&ik(this,b,"width")}});t.g(Q,"height",Q.prototype.height); t.defineProperty(Q,{height:"height"},function(){return this.hf.height},function(a){if(this.hf.height!==a){e&&t.i(a,"number",Q,"height");var b=this.hf;this.hf=a=(new ga(this.hf.width,a)).freeze();this.ha();this instanceof W&&this.Ye();this.j("desiredSize",b,a);b=this.S;null!==b&&0!==(this.ma&1024)&&ik(this,b,"height")}});t.g(Q,"minSize",Q.prototype.Vf); t.defineProperty(Q,{Vf:"minSize"},function(){return this.Ej},function(a){var b=this.Ej;b.M(a)||(e&&t.l(a,ga,Q,"minSize"),a=a.copy(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Ej=a,this.ha(),this.j("minSize",b,a))});t.g(Q,"maxSize",Q.prototype.He); t.defineProperty(Q,{He:"maxSize"},function(){return this.Dj},function(a){var b=this.Dj;b.M(a)||(e&&t.l(a,ga,Q,"maxSize"),a=a.copy(),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),a.freeze(),this.Dj=a,this.ha(),this.j("maxSize",b,a))});t.A(Q,{Ga:"measuredBounds"},function(){return this.Wc});t.A(Q,{Qa:"naturalBounds"},function(){return this.hd},{configurable:!0});t.g(Q,"margin",Q.prototype.margin); t.defineProperty(Q,{margin:"margin"},function(){return this.sr},function(a){"number"===typeof a?a=new ab(a):e&&t.l(a,ab,Q,"margin");var b=this.sr;b.M(a)||(this.sr=a=a.Z(),this.ha(),this.j("margin",b,a))});t.A(Q,{transform:null},function(){0!==(this.ma&2048)===!0&&Ck(this);return this.md});t.A(Q,{le:null},function(){0!==(this.ma&4096)===!0&&Ck(this);return this.jk});t.g(Q,"alignment",Q.prototype.alignment); t.defineProperty(Q,{alignment:"alignment"},function(){return this.ue},function(a){var b=this.ue;b.M(a)||(e?t.l(a,I,Q,"alignment"):a.Ge()&&!a.Pc()&&t.m("alignment must be a real Spot or Spot.Default"),this.ue=a=a.Z(),Fk(this),this.j("alignment",b,a))});t.g(Q,"column",Q.prototype.column);t.defineProperty(Q,{column:"column"},function(){return this.tq},function(a){e&&t.q(a,Q,"column");a=Math.round(a);var b=this.tq;b!==a&&(0>a&&t.ka(a,">= 0",Q,"column"),this.tq=a,this.ha(),this.j("column",b,a))}); t.g(Q,"columnSpan",Q.prototype.$D);t.defineProperty(Q,{$D:"columnSpan"},function(){return this.rj},function(a){e&&t.q(a,Q,"columnSpan");a=Math.round(a);var b=this.rj;b!==a&&(1>a&&t.ka(a,">= 1",Q,"columnSpan"),this.rj=a,this.ha(),this.j("columnSpan",b,a))});t.g(Q,"row",Q.prototype.lc);t.defineProperty(Q,{lc:"row"},function(){return this.as},function(a){e&&t.q(a,Q,"row");a=Math.round(a);var b=this.as;b!==a&&(0>a&&t.ka(a,">= 0",Q,"row"),this.as=a,this.ha(),this.j("row",b,a))});t.g(Q,"rowSpan",Q.prototype.rowSpan); t.defineProperty(Q,{rowSpan:"rowSpan"},function(){return this.Jj},function(a){e&&t.q(a,Q,"rowSpan");a=Math.round(a);var b=this.Jj;b!==a&&(1>a&&t.ka(a,">= 1",Q,"rowSpan"),this.Jj=a,this.ha(),this.j("rowSpan",b,a))});t.g(Q,"alignmentFocus",Q.prototype.Qj); t.defineProperty(Q,{Qj:"alignmentFocus"},function(){return this.mq},function(a){var b=this.mq;b.M(a)||(e?t.l(a,I,Q,"alignmentFocus"):a.Ge()&&!a.Pc()&&t.m("alignmentFocus must be a real Spot or Spot.Default"),this.mq=a=a.Z(),this.ha(),this.j("alignmentFocus",b,a))});t.g(Q,"portId",Q.prototype.Nd); t.defineProperty(Q,{Nd:"portId"},function(){return this.Nr},function(a){var b=this.Nr;if(b!==a){e&&null!==a&&t.i(a,"string",Q,"portId");var c=this.S;null===c||c instanceof S||(t.m("portID being set on a Link: "+a),c=null);null!==b&&c&&Ok(c,this);this.Nr=a;if(null!==a&&c){c.Eh=!0;null===c.Rd&&Pk(c);var d=this.Nd;null!==d&&c.Rd.add(d,this)}this.j("portId",b,a)}});function Qk(a){var b={value:null};Rk(a,b);return b.value} function Rk(a,b){var c=a.ja;return null===c||!Rk(c,b)&&a.visible?(b.value=a,!1):!0}function Lk(a){var b=a.S;b instanceof S&&(a=a.h)&&!a.la.vb&&b.vf()}t.g(Q,"toSpot",Q.prototype.sb);t.defineProperty(Q,{sb:"toSpot"},function(){return null!==this.P?this.P.Th:wb},function(a){null===this.P&&this.Fe();var b=this.P.Th;b.M(a)||(e&&t.l(a,I,Q,"toSpot"),a=a.Z(),this.P.Th=a,this.j("toSpot",b,a),Lk(this))});t.g(Q,"toEndSegmentLength",Q.prototype.ik); t.defineProperty(Q,{ik:"toEndSegmentLength"},function(){return null!==this.P?this.P.Qh:10},function(a){null===this.P&&this.Fe();var b=this.P.Qh;b!==a&&(e&&t.i(a,"number",Q,"toEndSegmentLength"),0>a&&t.ka(a,">= 0",Q,"toEndSegmentLength"),this.P.Qh=a,this.j("toEndSegmentLength",b,a),Lk(this))});t.g(Q,"toEndSegmentDirection",Q.prototype.Xp); t.defineProperty(Q,{Xp:"toEndSegmentDirection"},function(){return null!==this.P?this.P.Ph:gk},function(a){null===this.P&&this.Fe();var b=this.P.Ph;b!==a&&(e&&t.Aa(a,S,Q,"toEndSegmentDirection"),this.P.Ph=a,this.j("toEndSegmentDirection",b,a),Lk(this))});t.g(Q,"toShortLength",Q.prototype.Yp); t.defineProperty(Q,{Yp:"toShortLength"},function(){return null!==this.P?this.P.Sh:0},function(a){null===this.P&&this.Fe();var b=this.P.Sh;b!==a&&(e&&t.i(a,"number",Q,"toShortLength"),this.P.Sh=a,this.j("toShortLength",b,a),Lk(this))});t.g(Q,"toLinkable",Q.prototype.kB);t.defineProperty(Q,{kB:"toLinkable"},function(){return this.ys},function(a){var b=this.ys;b!==a&&(e&&null!==a&&t.i(a,"boolean",Q,"toLinkable"),this.ys=a,this.j("toLinkable",b,a))});t.g(Q,"toMaxLinks",Q.prototype.CG); t.defineProperty(Q,{CG:"toMaxLinks"},function(){return this.zs},function(a){var b=this.zs;b!==a&&(e&&t.q(a,Q,"toMaxLinks"),0>a&&t.ka(a,">= 0",Q,"toMaxLinks"),this.zs=a,this.j("toMaxLinks",b,a))});t.g(Q,"fromSpot",Q.prototype.pb);t.defineProperty(Q,{pb:"fromSpot"},function(){return null!==this.P?this.P.Dh:wb},function(a){null===this.P&&this.Fe();var b=this.P.Dh;b.M(a)||(e&&t.l(a,I,Q,"fromSpot"),a=a.Z(),this.P.Dh=a,this.j("fromSpot",b,a),Lk(this))});t.g(Q,"fromEndSegmentLength",Q.prototype.ck); t.defineProperty(Q,{ck:"fromEndSegmentLength"},function(){return null!==this.P?this.P.Ah:10},function(a){null===this.P&&this.Fe();var b=this.P.Ah;b!==a&&(e&&t.i(a,"number",Q,"fromEndSegmentLength"),0>a&&t.ka(a,">= 0",Q,"fromEndSegmentLength"),this.P.Ah=a,this.j("fromEndSegmentLength",b,a),Lk(this))});t.g(Q,"fromEndSegmentDirection",Q.prototype.hp); t.defineProperty(Q,{hp:"fromEndSegmentDirection"},function(){return null!==this.P?this.P.zh:gk},function(a){null===this.P&&this.Fe();var b=this.P.zh;b!==a&&(e&&t.Aa(a,S,Q,"fromEndSegmentDirection"),this.P.zh=a,this.j("fromEndSegmentDirection",b,a),Lk(this))});t.g(Q,"fromShortLength",Q.prototype.ip); t.defineProperty(Q,{ip:"fromShortLength"},function(){return null!==this.P?this.P.Ch:0},function(a){null===this.P&&this.Fe();var b=this.P.Ch;b!==a&&(e&&t.i(a,"number",Q,"fromShortLength"),this.P.Ch=a,this.j("fromShortLength",b,a),Lk(this))});t.g(Q,"fromLinkable",Q.prototype.hA);t.defineProperty(Q,{hA:"fromLinkable"},function(){return this.Nq},function(a){var b=this.Nq;b!==a&&(e&&null!==a&&t.i(a,"boolean",Q,"fromLinkable"),this.Nq=a,this.j("fromLinkable",b,a))});t.g(Q,"fromMaxLinks",Q.prototype.GE); t.defineProperty(Q,{GE:"fromMaxLinks"},function(){return this.Oq},function(a){var b=this.Oq;b!==a&&(e&&t.q(a,Q,"fromMaxLinks"),0>a&&t.ka(a,">= 0",Q,"fromMaxLinks"),this.Oq=a,this.j("fromMaxLinks",b,a))});t.g(Q,"cursor",Q.prototype.cursor);t.defineProperty(Q,{cursor:"cursor"},function(){return this.Aq},function(a){var b=this.Aq;b!==a&&(t.i(a,"string",Q,"cursor"),this.Aq=a,this.j("cursor",b,a))});t.g(Q,"click",Q.prototype.click); t.defineProperty(Q,{click:"click"},function(){return null!==this.Q?this.Q.mi:null},function(a){null===this.Q&&fk(this);var b=this.Q.mi;b!==a&&(null!==a&&t.i(a,"function",Q,"click"),this.Q.mi=a,this.j("click",b,a))});t.g(Q,"doubleClick",Q.prototype.Nm);t.defineProperty(Q,{Nm:"doubleClick"},function(){return null!==this.Q?this.Q.si:null},function(a){null===this.Q&&fk(this);var b=this.Q.si;b!==a&&(null!==a&&t.i(a,"function",Q,"doubleClick"),this.Q.si=a,this.j("doubleClick",b,a))}); t.g(Q,"contextClick",Q.prototype.Ws);t.defineProperty(Q,{Ws:"contextClick"},function(){return null!==this.Q?this.Q.oi:null},function(a){null===this.Q&&fk(this);var b=this.Q.oi;b!==a&&(null!==a&&t.i(a,"function",Q,"contextClick"),this.Q.oi=a,this.j("contextClick",b,a))});t.g(Q,"mouseEnter",Q.prototype.EA); t.defineProperty(Q,{EA:"mouseEnter"},function(){return null!==this.Q?this.Q.Dr:null},function(a){null===this.Q&&fk(this);var b=this.Q.Dr;b!==a&&(null!==a&&t.i(a,"function",Q,"mouseEnter"),this.Q.Dr=a,this.j("mouseEnter",b,a))});t.g(Q,"mouseLeave",Q.prototype.FA);t.defineProperty(Q,{FA:"mouseLeave"},function(){return null!==this.Q?this.Q.Er:null},function(a){null===this.Q&&fk(this);var b=this.Q.Er;b!==a&&(null!==a&&t.i(a,"function",Q,"mouseLeave"),this.Q.Er=a,this.j("mouseLeave",b,a))}); t.g(Q,"mouseOver",Q.prototype.zt);t.defineProperty(Q,{zt:"mouseOver"},function(){return null!==this.Q?this.Q.Di:null},function(a){null===this.Q&&fk(this);var b=this.Q.Di;b!==a&&(null!==a&&t.i(a,"function",Q,"mouseOver"),this.Q.Di=a,this.j("mouseOver",b,a))});t.g(Q,"mouseHover",Q.prototype.yt); t.defineProperty(Q,{yt:"mouseHover"},function(){return null!==this.Q?this.Q.Ci:null},function(a){null===this.Q&&fk(this);var b=this.Q.Ci;b!==a&&(null!==a&&t.i(a,"function",Q,"mouseHover"),this.Q.Ci=a,this.j("mouseHover",b,a))});t.g(Q,"mouseHold",Q.prototype.xt);t.defineProperty(Q,{xt:"mouseHold"},function(){return null!==this.Q?this.Q.Bi:null},function(a){null===this.Q&&fk(this);var b=this.Q.Bi;b!==a&&(null!==a&&t.i(a,"function",Q,"mouseHold"),this.Q.Bi=a,this.j("mouseHold",b,a))}); t.g(Q,"mouseDragEnter",Q.prototype.AF);t.defineProperty(Q,{AF:"mouseDragEnter"},function(){return null!==this.Q?this.Q.Br:null},function(a){null===this.Q&&fk(this);var b=this.Q.Br;b!==a&&(null!==a&&t.i(a,"function",Q,"mouseDragEnter"),this.Q.Br=a,this.j("mouseDragEnter",b,a))});t.g(Q,"mouseDragLeave",Q.prototype.DA); t.defineProperty(Q,{DA:"mouseDragLeave"},function(){return null!==this.Q?this.Q.Cr:null},function(a){null===this.Q&&fk(this);var b=this.Q.Cr;b!==a&&(null!==a&&t.i(a,"function",Q,"mouseDragLeave"),this.Q.Cr=a,this.j("mouseDragLeave",b,a))});t.g(Q,"mouseDrop",Q.prototype.wt);t.defineProperty(Q,{wt:"mouseDrop"},function(){return null!==this.Q?this.Q.Ai:null},function(a){null===this.Q&&fk(this);var b=this.Q.Ai;b!==a&&(null!==a&&t.i(a,"function",Q,"mouseDrop"),this.Q.Ai=a,this.j("mouseDrop",b,a))}); t.g(Q,"actionDown",Q.prototype.Fz);t.defineProperty(Q,{Fz:"actionDown"},function(){return null!==this.Q?this.Q.iq:null},function(a){null===this.Q&&fk(this);var b=this.Q.iq;b!==a&&(null!==a&&t.i(a,"function",Q,"actionDown"),this.Q.iq=a,this.j("actionDown",b,a))});t.g(Q,"actionUp",Q.prototype.Hz); t.defineProperty(Q,{Hz:"actionUp"},function(){return null!==this.Q?this.Q.kq:null},function(a){null===this.Q&&fk(this);var b=this.Q.kq;b!==a&&(null!==a&&t.i(a,"function",Q,"actionUp"),this.Q.kq=a,this.j("actionUp",b,a))});t.g(Q,"actionMove",Q.prototype.Gz);t.defineProperty(Q,{Gz:"actionMove"},function(){return null!==this.Q?this.Q.jq:null},function(a){null===this.Q&&fk(this);var b=this.Q.jq;b!==a&&(null!==a&&t.i(a,"function",Q,"actionMove"),this.Q.jq=a,this.j("actionMove",b,a))}); t.g(Q,"actionCancel",Q.prototype.Ez);t.defineProperty(Q,{Ez:"actionCancel"},function(){return null!==this.Q?this.Q.hq:null},function(a){null===this.Q&&fk(this);var b=this.Q.hq;b!==a&&(null!==a&&t.i(a,"function",Q,"actionCancel"),this.Q.hq=a,this.j("actionCancel",b,a))});t.g(Q,"toolTip",Q.prototype.Yt); t.defineProperty(Q,{Yt:"toolTip"},function(){return null!==this.Q?this.Q.Ni:null},function(a){null===this.Q&&fk(this);var b=this.Q.Ni;b!==a&&(null!==a&&t.l(a,Je,Q,"toolTip"),this.Q.Ni=a,this.j("toolTip",b,a))});t.g(Q,"contextMenu",Q.prototype.contextMenu);t.defineProperty(Q,{contextMenu:"contextMenu"},function(){return null!==this.Q?this.Q.pi:null},function(a){null===this.Q&&fk(this);var b=this.Q.pi;b!==a&&(null!==a&&t.l(a,Je,Q,"contextMenu"),this.Q.pi=a,this.j("contextMenu",b,a))}); Q.prototype.bind=Q.prototype.bind=function(a){a.pg=this;var b=this.ep();null!==b&&Sk(b)&&t.m("Cannot add a Binding to a template that has already been copied: "+a);null===this.Kc&&(this.Kc=new B(De));this.Kc.add(a)};Q.prototype.findTemplateBinder=Q.prototype.ep=function(){for(var a=this instanceof y?this:this.ja;null!==a;){if(null!==a.Hl&&a instanceof y)return a;a=a.ja}return null};Q.fromSvg=Q.fromSVG=function(a){return Tk(a)};Q.prototype.setProperties=function(a){t.tx(this,a)};var Uk; Q.make=Uk=function(a,b){var c=arguments,d=null,f=null;if("function"===typeof a)f=a;else if("string"===typeof a){var g=Vk.za(a);"function"===typeof g?(c=Array.prototype.slice.call(arguments),d=g(c)):f=ca[a]}null===d&&(void 0===f&&(d=window.$,void 0!==d&&void 0!==d.noop&&t.m("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),t.m("GraphObject.make failed to complete, it may be conflicting with another var.")),null!==f&&f.constructor||t.m("GraphObject.make requires a class function or class name, not: "+ a),d=new f);g=1;d instanceof z&&1d)&&t.m("Must specify non-negative integer row for RowColumnDefinition "+b),c.Vl=!0,c.Vc=d):void 0!==b.column?(d=b.column,(void 0===d||null===d||Infinity===d||isNaN(d)||0>d)&&t.m("Must specify non-negative integer column for RowColumnDefinition "+ b),c.Vl=!1,c.Vc=d):t.m("Must specify row or column value in a RowColumnDefinition "+b),d=t.gI(b,"row","column"),t.tx(c,d)):t.tx(c,b);else t.m('Unknown initializer "'+b+'" for object being constructed by GraphObject.make: '+a)}var Vk;Q.Builders=Vk=new ja("string","function"); Vk.add("Button",function(){var a=new fa(Od);a.addColorStop(0,"white");a.addColorStop(1,"lightgray");var b=new fa(Od);b.addColorStop(0,"white");b.addColorStop(1,"dodgerblue");var c=Uk(y,ci,{Pw:!0},Uk(W,{name:"ButtonBorder",zb:"RoundedRectangle",fill:a,stroke:"gray"}));c.EA=function(a,c){var g=c.wa(0),h=c._buttonFillOver;void 0===h&&(h=b);c._buttonFillNormal=g.fill;g.fill=h;h=c._buttonStrokeOver;void 0===h&&(h="blue");c._buttonStrokeNormal=g.stroke;g.stroke=h};c.FA=function(b,c){var g=c.wa(0),h=c._buttonFillNormal; void 0===h&&(h=a);g.fill=h;h=c._buttonStrokeNormal;void 0===h&&(h="gray");g.stroke=h};return c}); Vk.add("TreeExpanderButton",function(){var a=Uk("Button",Uk(W,{name:"ButtonIcon",zb:"MinusLine",Ca:H.dq},(new De("figure","isTreeExpanded",function(a,c){var d=null,f=c.ja;f&&(d=a?f._treeExpandedFigure:f._treeCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).KA("")),{visible:!1},(new De("visible","isTreeLeaf",function(a){return!a})).KA(""));a.click=function(a,c){var d=c.S;d instanceof Je&&(d=d.Wh);if(d instanceof S){var f=d.h;if(null!==f){f=f.Se;if(d.Qc){if(!f.canCollapseTree(d))return}else if(!f.canExpandTree(d))return; a.Ee=!0;d.Qc?f.collapseTree(d):f.expandTree(d)}}};return a}); Vk.add("SubGraphExpanderButton",function(){var a=Uk("Button",Uk(W,{name:"ButtonIcon",zb:"MinusLine",Ca:H.dq},(new De("figure","isSubGraphExpanded",function(a,c){var d=null,f=c.ja;f&&(d=a?f._subGraphExpandedFigure:f._subGraphCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).KA("")));a.click=function(a,c){var d=c.S;d instanceof Je&&(d=d.Wh);if(d instanceof T){var f=d.h;if(null!==f){f=f.Se;if(d.pe){if(!f.canCollapseSubGraph(d))return}else if(!f.canExpandSubGraph(d))return;a.Ee=!0;d.pe?f.collapseSubGraph(d): f.expandSubGraph(d)}}};return a});Vk.add("ContextMenuButton",function(){var a=Uk("Button");a.fi=ek;var b=a.ne("ButtonBorder");b instanceof W&&(b.zb="Rectangle",b.G=new I(0,0,2,2),b.H=new I(1,1,-2,-2));return a});Q.defineBuilder=function(a,b){t.i(a,"string",Q,"defineBuilder:name");t.i(b,"function",Q,"defineBuilder:func");var c=a.toLowerCase();""!==a&&"none"!==c&&a!==c||t.m("Shape.defineFigureGenerator name must not be empty or None or all-lower-case: "+a);Q.Builders.add(a,b)}; function y(a){Q.call(this);void 0===a?0===arguments.length?this.da=Zg:t.m("invalid argument to Panel constructor: undefined"):(t.Aa(a,y,y,"type"),this.da=a);this.xa=new B(Q);this.Ne=H.fq;this.Vg=!1;this.da===xi&&(this.Vg=!0);this.Dq=xb;this.vc=Vg;this.da===Jk&&Fl(this);this.Io=Wg;this.Sq=(new ga(10,10)).freeze();this.Tq=H.mj;this.Hl=this.Ml=null;this.hr=NaN;this.hg=this.xi=null;this.eo="category";this.gg=null;this.Pi=new x(NaN,NaN,NaN,NaN);this.Eo=null;this.Eh=!1;this.bs=null}t.ga("Panel",y);t.Xh(y); t.Ka(y,Q);function Fl(a){a.sj=H.fq;a.wh=1;a.ri=null;a.Ol=null;a.vh=1;a.uh=null;a.Nl=null;a.kd=[];a.dd=[];a.qm=Gl;a.Jl=Gl;a.Oi=0;a.yi=0} y.prototype.cloneProtected=function(a){Q.prototype.cloneProtected.call(this,a);a.da=this.da;a.Ne=this.Ne.Z();a.Vg=this.Vg;a.Dq=this.Dq.Z();a.vc=this.vc;if(a.da===Jk){a.sj=this.sj.Z();a.wh=this.wh;a.ri=this.ri;a.Ol=this.Ol;a.vh=this.vh;a.uh=this.uh;a.Nl=this.Nl;var b=[];if(0a&&t.ka(a,">= 0",y,"padding"),a=new ab(a)):(t.l(a,ab,y,"padding"),0>a.left&&t.ka(a.left,">= 0",y,"padding:val.left"),0>a.right&&t.ka(a.right,">= 0",y,"padding:val.right"),0>a.top&&t.ka(a.top,">= 0",y,"padding:val.top"),0>a.bottom&&t.ka(a.bottom,">= 0",y,"padding:val.bottom"));var b=this.Ne;b.M(a)||(this.Ne=a=a.Z(),this.ha(),this.j("padding",b,a))});t.g(y,"defaultAlignment",y.prototype.Wj); t.defineProperty(y,{Wj:"defaultAlignment"},function(){return this.Dq},function(a){var b=this.Dq;b.M(a)||(e&&t.l(a,I,y,"defaultAlignment"),this.Dq=a=a.Z(),this.ha(),this.j("defaultAlignment",b,a))});t.g(y,"defaultStretch",y.prototype.Zz);t.defineProperty(y,{Zz:"defaultStretch"},function(){return this.vc},function(a){var b=this.vc;b!==a&&(t.Aa(a,Q,y,"defaultStretch"),this.vc=a,this.ha(),this.j("defaultStretch",b,a))});t.g(y,"defaultSeparatorPadding",y.prototype.uI); t.defineProperty(y,{uI:"defaultSeparatorPadding"},function(){return void 0===this.sj?H.fq:this.sj},function(a){if(void 0!==this.sj){"number"===typeof a?a=new ab(a):e&&t.l(a,ab,y,"defaultSeparatorPadding");var b=this.sj;b.M(a)||(this.sj=a=a.Z(),this.j("defaultSeparatorPadding",b,a))}});t.g(y,"defaultRowSeparatorStroke",y.prototype.sI); t.defineProperty(y,{sI:"defaultRowSeparatorStroke"},function(){return void 0===this.ri?null:this.ri},function(a){var b=this.ri;b!==a&&(null===a||"string"===typeof a||a instanceof fa)&&(a instanceof fa&&a.freeze(),this.ri=a,this.j("defaultRowSeparatorStroke",b,a))});t.g(y,"defaultRowSeparatorStrokeWidth",y.prototype.tI); t.defineProperty(y,{tI:"defaultRowSeparatorStrokeWidth"},function(){return void 0===this.wh?1:this.wh},function(a){if(void 0!==this.wh){var b=this.wh;b!==a&&(this.wh=a,this.j("defaultRowSeparatorStrokeWidth",b,a))}});t.g(y,"defaultRowSeparatorDashArray",y.prototype.rI); t.defineProperty(y,{rI:"defaultRowSeparatorDashArray"},function(){return void 0===this.Ol?null:this.Ol},function(a){if(void 0!==this.Ol){var b=this.Ol;if(b!==a){null===a||Array.isArray(a)||t.bc(a,"Array",y,"defaultRowSeparatorDashArray:val");if(null!==a){for(var c=a.length,d=0,f=0;f=c&&(c=1);var d=this.ht,f=d.width,d=d.height,g=this.Qa,h=g.width,g=g.height,k=Math.ceil(h/f),l=Math.ceil(g/d),m=this.kA;a.save();a.beginPath();a.rect(0,0,h,g);a.clip();for(var n=[],p=this.xa.n,q=this.xa.length,r=0;rf*s*c))break}a.stroke()}else if("LineH"=== A.zb){a.lineWidth=A.fb;zk(this,a,A.stroke,!1);a.beginPath();for(D=v=Math.floor(-m.y/d);D<=v+l&&!(N=D*d+m.y,0<=N&&N<=g&&Hl(D,s,r)&&(u&&!L?hk(a,0,N,h,N,G,A.ld):(a.moveTo(0,N),a.lineTo(h,N)),2>d*s*c));D++);a.stroke()}else if("BarV"===A.zb)for(zk(this,a,A.fill,!0),A=A.width,isNaN(A)&&(A=f),D=v=Math.floor(-m.x/f);D<=v+k&&!(N=D*f+m.x,0<=N&&Nf*s*c));D++);else if("BarH"===A.zb)for(zk(this,a,A.fill,!0),A=A.height,isNaN(A)&&(A=d),D=v=Math.floor(-m.y/d);D<=v+l&&!(N=D*d+ m.y,0<=N&&N<=g&&Hl(D,s,r)&&(a.fillRect(0,N,h,A),2>d*s*c));D++);u&&(void 0!==a.setLineDash?(a.setLineDash(t.ii),a.lineDashOffset=0):void 0!==a.webkitLineDash?(a.webkitLineDash=t.ii,a.webkitLineDashOffset=0):void 0!==a.mozDash&&(a.mozDash=null,a.mozDashOffset=0))}}a.restore();vi(b,a,!1)}else{this.da===Jk&&(a.lineCap="butt",Il(this,a,!0,this.kd,!0),Il(this,a,!1,this.dd,!0),Jl(this,a,!0,this.kd),Jl(this,a,!1,this.dd),Il(this,a,!0,this.kd,!1),Il(this,a,!1,this.dd,!1));c=this.xa.length;for(f=0;f h.height&&(m-=r-h.height):r>h.width&&(m-=r-h.width);g=g.position+m/2;b.lineWidth=m;r=a.padding;c?(g+=r.top,m=r.left,r=h.width-r.right,n&&!q?hk(b,m,g,r,g,p,0):(b.moveTo(m,g),b.lineTo(r,g))):(g+=r.left,m=r.top,r=h.height-r.bottom,n&&!q?hk(b,g,m,g,r,p,0):(b.moveTo(g,m),b.lineTo(g,r)));b.stroke();n&&(void 0!==b.setLineDash?(b.setLineDash(t.ii),b.lineDashOffset=0):void 0!==b.webkitLineDash?(b.webkitLineDash=t.ii,b.webkitLineDashOffset=0):void 0!==b.mozDash&&(b.mozDash=null,b.mozDashOffset=0))}}} function Il(a,b,c,d,f){for(var g=d.length,h,k=a.pa,l=0;lm)){var n=Kl(h),p=h.jn;isNaN(p)&&(p=c?a.wh:a.vh);var q=h.hn;null===q&&(q=c?a.ri:a.uh);null===q&&(p=0);n-=p;p=h.position+p;n+=h.fc;p+n>m&&(n=m-p);0>=n||(m=a.padding,zk(a,b,h.background,!0),c?b.fillRect(m.left,p+m.top,k.width-(m.left+m.right),n):b.fillRect(p+m.left,m.top,n,k.height-(m.top+m.bottom)))}}} function Hl(a,b,c){if(0!==a%b)return!1;b=c.length;for(var d=0;dKc&&(Xc=Kc),Ol(ka,ka.fc+Xc),Kc=Math.max(Kc-Xc,0));1!==ra.rj||!qh&&Ud!==Ug&&Ud!==dk||(ka=this.vd(xc),Xc=Math.max(Se-ka.fc,0),Xc>yc&&(Xc=yc),Ol(ka,ka.fc+Xc),yc=Math.max(yc-Xc,0));kg&&Hk(ra)}}}t.ya(Eg);for(var ie=0,je=0,nb=this.Vs,la=0;la=this.Mt);Tb++)ka=this.wd(ra.lc+Tb),Wd.height+=Math.max(ka.di,isNaN(ka.Mf)?ka.zf:Math.min(ka.Mf,ka.zf));for(Tb=1;Tb=this.Vs);Tb++)ka=this.vd(ra.column+Tb),Wd.width+=Math.max(ka.di,isNaN(ka.Mf)?ka.zf:Math.min(ka.Mf,ka.zf));zb.width+=Wd.width;zb.height+=Wd.height;Sb=ra.margin;Pf=Sb.right+Sb.left;Qf=Sb.top+Sb.bottom;hh(ra,zb.width,zb.height,of,bb);for(var ue=ra.Ga,Se=Math.max(ue.width+Pf,0),Te=Math.max(ue.height+Qf,0),Hg=0, Tb=0;Tb=this.Mt);Tb++)ka=this.wd(ra.lc+Tb),Hg+=ka.total||0;if(Hgqc&&(Ol(ka,Math.min(ka.zf,qc+Xd)),ka.Lb!==qc&&(Xd-=ka.Lb-qc));if(-1===ka.index-1)break;ka=this.wd(ka.index-1)}for(var Ue=0,Tb=0;Tb=this.Vs);Tb++)ka=this.vd(ra.column+Tb),Ue+=ka.total||0;if(Ueqc&&(Ol(ka,Math.min(ka.zf,qc+Xd)),ka.Lb!==qc&&(Xd-=ka.Lb-qc));if(-1===ka.index- 1)break;ka=this.vd(ka.index-1)}}t.ya(hg);t.bk(Wd);t.bk(zb);for(var rf=0,le=0,Ud=mk(this),Ig=this.Ca,lg=this.He,Lc=je=ie=0,me=0,nb=this.Vs,la=0;lash)hh(Ub,Infinity,Infinity),Yd=Ub.Ga,we.kj(Yd),this.li.add(Yd);else{var Tf=Ub.Cf,Oo=Ub.Nt,xl=Ub.Qj;xl.Ge()&&(xl=Kb);var mi=Ub.Ot,Oq=Ub.ZA,ni,oi,Dj=0;if(Tf<-sh||Tf>=sh){var Po=Aj.yF,pi=Aj.xF;mi!==yg&&(Dj=Aj.computeAngle(Ub,mi,pi),Ub.angle=Dj);ni=Po.x-We.x;oi=Po.y-We.y}else{var sf,uh;if(0<=Tf)sf=ki.n[Tf],uh=Tfc||q>d)this.ha(),hh(this,p>c?c:p,q>d?d:q);break;case Cc:nk(this,!0);hh(this,c+s,d+u,0,0);break;case ek:nk(this,!0);hh(this,c+s,q+u,0,0);break;case dk:nk(this,!0),hh(this,p+s,d+u,0,0)}}l=this.pa;l.x=a; l.y=b;l.width=c;l.height=d;var v=this.da.Yb;switch(v){case "Position":for(var D=f.x-this.padding.left,A=f.y-this.padding.top,G=0;G=this.Mt);la++){var ra=this.wd(Cb+la);Db.height+=ra.total}for(la=1;la=this.Vs);la++){var uj=this.vd(Id+la);Db.width+=uj.total}var oh=lc.Lb+Db.width,xc=Sd.Lb+Db.height;k.x=fe;k.y=Fc;k.width=oh;k.height=xc;var ph=fe,fc=Fc,Eg=oh,hg=xc;fe+oh>f.width&&(Eg=Math.max(f.width-fe,0));Fc+xc>f.height&&(hg=Math.max(f.height-Fc,0)); var Hc=bb.alignment,Ic,Jc,yc,Kc;if(Hc.Pc()){Hc=this.Wj;Hc.xd()||(Hc=Kb);Ic=Hc.x;Jc=Hc.y;yc=Hc.offsetX;Kc=Hc.offsetY;var Of=lc.alignment,ka=Sd.alignment;Of.xd()&&(Ic=Of.x,yc=Of.offsetX);ka.xd()&&(Jc=ka.y,Kc=ka.offsetY)}else Ic=Hc.x,Jc=Hc.y,yc=Hc.offsetX,Kc=Hc.offsetY;if(isNaN(Ic)||isNaN(Jc))Jc=Ic=0.5,Kc=yc=0;var ge=Jd.width,Td=Jd.height,ig=bb.margin,vj=ig.left+ig.right,Xc=ig.top+ig.bottom,jb=Kk(bb,Sd,lc);!isNaN(bb.Ca.width)||jb!==Cc&&jb!==ek||(ge=Math.max(oh-vj,0));!isNaN(bb.Ca.height)||jb!==Cc&&jb!== dk||(Td=Math.max(xc-Xc,0));var ob=bb.He,ii=bb.Vf,ge=Math.min(ob.width,ge),Td=Math.min(ob.height,Td),ge=Math.max(ii.width,ge),Td=Math.max(ii.height,Td),ul=Td+Xc;k.x+=k.width*Ic-(ge+vj)*Ic+yc+ig.left;k.y+=k.height*Jc-ul*Jc+Kc+ig.top;bb.visible&&(mb(ph,fc,Eg,hg,k.x,k.y,Jd.width,Jd.height)?bb.Lc(k.x,k.y,ge,Td):bb.Lc(k.x,k.y,ge,Td,new x(ph,fc,Eg,hg)))}}}}t.bk(Db);for(Cb=0;Cb=rh){var Hg=this.yF,Xd=this.xF;ke!==yg&&(Tb=this.computeAngle(sd,ke,Xd),sd.angle=Tb);qf=Hg.x;Wd=Hg.y}else{var qc=void 0,Ue=void 0;if(0<=Vd)qc=Fg.n[Vd],Ue=Vd< rh-1?Fg.n[Vd+1]:qc;else var rf=rh+Vd,qc=Fg.n[rf],Ue=0n.width||m.y>n.height||0>m.x+m.width||0>m.y+m.height)){m=t.oh();m.set(h);if(l instanceof y?l.ak(a,b,c,d,f,m):lk(l,a,d,m))null!==b&&(l=b(l)),l&& (null===c||c(l))&&f.add(l);t.We(m)}}}void 0===g&&t.We(h);return d}void 0===g&&t.We(h);return!1};function Zl(a,b,c,d){for(var f=a.xa.length;f--;){var g=a.xa.n[f];if(g.visible){var h=g.pa,k=a.Qa;h.x>k.width||h.y>k.height||0>h.x+h.width||0>h.y+h.height||(g instanceof y&&Zl(g,b,c,d),null!==b&&(g=b(g)),g&&(null===c||c(g))&&d.add(g))}}} aa.Pm=function(a,b,c,d,f,g){if(!1===this.Bf)return!1;void 0===c&&(c=null);void 0===d&&(d=null);var h=this.Qa,k=this.Hf(),l=k?a:Qa(t.mc(a.x,a.y),this.transform),m=k?b:Qa(t.mc(b.x,b.y),this.transform),n=l.Yj(m),p=0r.width||q.y>r.height||0>q.x+q.width||0>q.y+q.height||(n.Hf()?(q=n.transform,Qa(k.set(a),q),Qa(l.set(b),q)):(k.set(a),l.set(b)),n instanceof y?!n.Pm(k,l,c,d,f,g):!n.BE(k,l,f))||(null!==c&&(n=c(n)),n&&(null===d||d(n))&&g.add(n))}t.B(k);t.B(l)}return f?p:h}return!1}; function Ll(a){var b=a.G;if(void 0===b||b===xb)b=null;null===b&&a instanceof W&&(a=a.Na,null!==a&&(b=a.G));null===b&&(b=Eb);return b}function Ml(a){var b=a.H;if(void 0===b||b===xb)b=null;null===b&&a instanceof W&&(a=a.Na,null!==a&&(b=a.H));null===b&&(b=Pb);return b}y.prototype.add=y.prototype.add=function(a){t.l(a,Q,y,"add:element");this.Jd(this.xa.count,a)};y.prototype.elt=y.prototype.wa=function(a){return this.xa.wa(a)}; y.prototype.insertAt=y.prototype.Jd=function(a,b){b instanceof E&&t.m("Cannot add a Part to a Panel: "+b);if(this===b||this.dj(b))this===b&&t.m("Cannot make a Panel contain itself: "+this.toString()),t.m("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+b.toString());var c=b.ja;null!==c&&c!==this&&t.m("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+b.toString()+", already contained by "+c.toString()+", cannot be shared by this Panel: "+ this.toString());this.da!==xi||b instanceof W||t.m("Can only add Shapes to a Grid Panel, not: "+b);b.wl(this);b.lm=null;if(null!==this.yA){var d=b.data;null!==d&&"object"===typeof d&&(null===this.gg&&(this.gg=new ja(Object,y)),this.gg.add(d,b))}var f=this.xa,d=-1;if(c===this){for(var g=-1,h=f.count,k=0;k=f.count&&a>=f.count)return;f.qd(g);d=g}else t.m("element "+b.toString()+" has panel "+c.toString()+" but is not contained by it.")}if(0>a|| a>f.count)a=f.count;f.Jd(a,b);this.ha();b.ha();null!==b.Nd?this.Eh=!0:b instanceof y&&!0===b.Eh&&(this.Eh=!0);c=this.S;null!==c&&(c.Fj=null,c.Cj=NaN,this.Eh&&c instanceof S&&(c.Eh=!0),c.Eh&&(c.Rd=null),f=this.h,null!==f&&f.la.vb||(-1!==d&&c.Ic(xd,"elements",this,b,null,d,null),c.Ic(wd,"elements",this,null,b,null,a)))};y.prototype.remove=y.prototype.remove=function(a){t.l(a,Q,y,"remove:element");for(var b=this.xa,c=b.count,d=-1,f=0;fa&&t.ka(a,">= 0",y,"getRowDefinition:idx");a=Math.round(a);var b=this.kd;if(void 0===b[a]){var c=new Ae;c.wl(this);c.Vl=!0;c.Vc=a;b[a]=c}return b[a]}; y.prototype.removeRowDefinition=y.prototype.QF=function(a){if(void 0!==this.kd){e&&t.q(a,y,"removeRowDefinition:idx");0>a&&t.ka(a,">= 0",y,"removeRowDefinition:idx");a=Math.round(a);var b=this.kd;this.Ic(xd,"coldefs",this,b[a],null,a,null);b[a]&&(b[a]=void 0);this.ha()}};t.A(y,{Vs:"columnCount"},function(){return void 0===this.dd?0:this.dd.length}); y.prototype.getColumnDefinition=y.prototype.vd=function(a){if(void 0===this.dd)return null;e&&t.q(a,y,"getColumnDefinition:idx");0>a&&t.ka(a,">= 0",y,"getColumnDefinition:idx");a=Math.round(a);var b=this.dd;if(void 0===b[a]){var c=new Ae;c.wl(this);c.Vl=!1;c.Vc=a;b[a]=c}return b[a]}; y.prototype.removeColumnDefinition=y.prototype.NF=function(a){if(void 0!==this.dd){e&&t.q(a,y,"removeColumnDefinition:idx");0>a&&t.ka(a,">= 0",y,"removeColumnDefinition:idx");a=Math.round(a);var b=this.dd;this.Ic(xd,"coldefs",this,b[a],null,a,null);b[a]&&(b[a]=void 0);this.ha()}};t.g(y,"rowSizing",y.prototype.dG); t.defineProperty(y,{dG:"rowSizing"},function(){return void 0===this.qm?Gl:this.qm},function(a){if(void 0!==this.qm){var b=this.qm;b!==a&&(a!==Gl&&a!==Ql&&t.m("rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.qm=a,this.ha(),this.j("rowSizing",b,a))}});t.g(y,"columnSizing",y.prototype.ZD); t.defineProperty(y,{ZD:"columnSizing"},function(){return void 0===this.Jl?Gl:this.Jl},function(a){if(void 0!==this.Jl){var b=this.Jl;b!==a&&(a!==Gl&&a!==Ql&&t.m("columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Jl=a,this.ha(),this.j("columnSizing",b,a))}});t.g(y,"topIndex",y.prototype.bK); t.defineProperty(y,{bK:"topIndex"},function(){return void 0===this.Oi?0:this.Oi},function(a){if(void 0!==this.Oi){var b=this.Oi;b!==a&&((!isFinite(a)||0>a)&&t.m("topIndex must be greater than zero and a real number. Was "+a),this.Oi=a,this.ha(),this.j("topIndex",b,a))}});t.g(y,"leftIndex",y.prototype.iJ); t.defineProperty(y,{iJ:"leftIndex"},function(){return void 0===this.yi?0:this.yi},function(a){if(void 0!==this.yi){var b=this.yi;b!==a&&((!isFinite(a)||0>a)&&t.m("leftIndex must be greater than zero and a real number. Was "+a),this.yi=a,this.ha(),this.j("leftIndex",b,a))}});y.prototype.findRowForLocalY=function(a){if(0>a)return-1;if(this.type!==Jk)return NaN;for(var b=0,c=this.kd,d=c.length,f=this.Oi;fa)return-1;if(this.type!==Jk)return NaN;for(var b=0,c=this.dd,d=c.length,f=this.yi;fa;)this.Xe(a);a=this.yA;if(null!==a)for(var b=t.ub(a),c=0;ca&&t.ka(a,">= 0",Ae,"height"),this.Mf=a,Ol(this,this.Lb),this.Xc("height",b,a))});t.g(Ae,"width",Ae.prototype.width);t.defineProperty(Ae,{width:"width"},function(){return this.Mf},function(a){var b=this.Mf;b!==a&&(e&&t.i(a,"number",Ae,"width"),0>a&&t.ka(a,">= 0",Ae,"width"),this.Mf=a,Ol(this,this.Lb),this.Xc("width",b,a))});t.g(Ae,"minimum",Ae.prototype.di); t.defineProperty(Ae,{di:"minimum"},function(){return this.fm},function(a){var b=this.fm;b!==a&&(e&&t.i(a,"number",Ae,"minimum"),(0>a||!isFinite(a))&&t.ka(a,">= 0",Ae,"minimum"),this.fm=a,Ol(this,this.Lb),this.Xc("minimum",b,a))});t.g(Ae,"maximum",Ae.prototype.zf);t.defineProperty(Ae,{zf:"maximum"},function(){return this.em},function(a){var b=this.em;b!==a&&(e&&t.i(a,"number",Ae,"maximum"),0>a&&t.ka(a,">= 0",Ae,"maximum"),this.em=a,Ol(this,this.Lb),this.Xc("maximum",b,a))});t.g(Ae,"alignment",Ae.prototype.alignment); t.defineProperty(Ae,{alignment:"alignment"},function(){return this.ue},function(a){var b=this.ue;b.M(a)||(e&&t.l(a,I,Ae,"alignment"),this.ue=a.Z(),this.Xc("alignment",b,a))});t.g(Ae,"stretch",Ae.prototype.fi);t.defineProperty(Ae,{fi:"stretch"},function(){return this.Oh},function(a){var b=this.Oh;b!==a&&(e&&t.Aa(a,Q,Ae,"stretch"),this.Oh=a,this.Xc("stretch",b,a))});t.g(Ae,"separatorPadding",Ae.prototype.$A); t.defineProperty(Ae,{$A:"separatorPadding"},function(){return this.Mj},function(a){"number"===typeof a?a=new ab(a):null!==a&&e&&t.l(a,ab,Ae,"separatorPadding");var b=this.Mj;null!==a&&null!==b&&b.M(a)||(null!==a&&(a=a.Z()),this.Mj=a,this.Xc("separatorPadding",b,a))});t.g(Ae,"separatorStroke",Ae.prototype.hn); t.defineProperty(Ae,{hn:"separatorStroke"},function(){return this.ls},function(a){var b=this.ls;b!==a&&(null===a||"string"===typeof a||a instanceof fa)&&(a instanceof fa&&a.freeze(),this.ls=a,this.ja&&this.ja.fa(),this.Xc("separatorStroke",b,a))});t.g(Ae,"separatorStrokeWidth",Ae.prototype.jn);t.defineProperty(Ae,{jn:"separatorStrokeWidth"},function(){return this.ms},function(a){var b=this.ms;b!==a&&(this.ms=a,this.ja&&this.ja.fa(),this.Xc("separatorStrokeWidth",b,a))}); t.g(Ae,"separatorDashArray",Ae.prototype.kG); t.defineProperty(Ae,{kG:"separatorDashArray"},function(){return this.Kh},function(a){var b=this.Kh;if(b!==a){null===a||Array.isArray(a)||t.bc(a,"Array",Ae,"separatorDashArray:val");if(null!==a){for(var c=a.length,d=0,f=0;fn)){k=c[0][0];l=c[0][1];for(var p,q,r,s,u=0,v=t.Cb(),D=1;Du){t.ya(v);return}f>r?(A=f-r,f=r):A=0;var G=Math.sqrt(f* f/(1+q*q));0>p&&(G=-G);k+=G;l+=q*G;a.translate(k,l);a.rotate(s);a.translate(-(h/2),-(g/2));0===A&&d.el(a,b);a.translate(h/2,g/2);a.rotate(-s);a.translate(-k,-l);u-=f;r-=f;if(0!==A){m++;if(m===v.length){t.ya(v);return}r=v[m];p=r[0];s=r[1];q=r[2];r=r[3];f=A}}t.ya(v)}} W.prototype.el=function(a,b){if(null!==this.Gb||null!==this.Uc){null!==this.Uc&&zk(this,a,this.Uc,!0);null!==this.Gb&&zk(this,a,this.Gb,!1);var c=this.bh;if(0===c){var d=this.S;d instanceof Je&&d.type===vg&&d.pc instanceof W&&(c=d.pc.fb)}a.lineWidth=c;a.lineJoin=this.Do;a.lineCap=this.Co;a.miterLimit=this.wm;var f=!1;this.S&&b.Rk.drawShadows&&(f=this.S.fj);var g=!0;null!==this.Gb&&null===this.Uc&&(g=!1);var d=!1,h=this.zx;if(null!==h){var k=d=!0;void 0!==a.setLineDash?(a.setLineDash(h),a.lineDashOffset= this.ld):void 0!==a.webkitLineDash?(a.webkitLineDash=h,a.webkitLineDashOffset=this.ld):void 0!==a.mozDash?(a.mozDash=h,a.mozDashOffset=this.ld):k=!1}var l=this.Na;if(null!==l){if(l.da===Dc)a.beginPath(),d&&!k?hk(a,l.oc,l.xc,l.kb,l.tb,h,this.ld):(a.moveTo(l.oc,l.xc),a.lineTo(l.kb,l.tb)),null!==this.Uc&&Ak(a,this.Uc,!0),0!==c&&null!==this.Gb&&Ak(a,this.Gb,!1);else if(l.da===Ec){var m=l.oc,n=l.xc,p=l.kb,l=l.tb,q=Math.min(m,p),r=Math.min(n,l),m=Math.abs(p-m),n=Math.abs(l-n);null!==this.Uc&&(this.Uc instanceof fa&&this.Uc.type===Zd?(a.beginPath(),a.rect(q,r,m,n),Ak(a,this.Uc,!0)):a.fillRect(q,r,m,n));if(null!==this.Gb){if(g&&f){var s=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}d&&!k?(k=[[q,r],[q+m,r],[q+m,r+n],[q,r+n],[q,r]],a.beginPath(),cm(a,k,h,this.ld),Ak(a,this.Gb,!1)):0!==c&&(this.Gb instanceof fa&&this.Gb.type===Zd?(a.beginPath(),a.rect(q,r,m,n),Ak(a,this.Gb,!1)):a.strokeRect(q,r,m,n));g&&f&&(a.shadowOffsetX=s[0],a.shadowOffsetY=s[1],a.shadowBlur= s[2])}}else if(l.da===Mc)m=l.oc,n=l.xc,p=l.kb,l=l.tb,q=Math.abs(p-m)/2,r=Math.abs(l-n)/2,m=Math.min(m,p)+q,n=Math.min(n,l)+r,a.beginPath(),a.moveTo(m,n-r),a.bezierCurveTo(m+H.va*q,n-r,m+q,n-H.va*r,m+q,n),a.bezierCurveTo(m+q,n+H.va*r,m+H.va*q,n+r,m,n+r),a.bezierCurveTo(m-H.va*q,n+r,m-q,n+H.va*r,m-q,n),a.bezierCurveTo(m-q,n-H.va*r,m-H.va*q,n-r,m,n-r),a.closePath(),null!==this.Uc&&Ak(a,this.Uc,!0),d&&!k&&(k=t.Cb(),H.ze(m,n-r,m+H.va*q,n-r,m+q,n-H.va*r,m+q,n,0.5,k),H.ze(m+q,n,m+q,n+H.va*r,m+H.va*q,n+r, m,n+r,0.5,k),H.ze(m,n+r,m-H.va*q,n+r,m-q,n+H.va*r,m-q,n,0.5,k),H.ze(m-q,n,m-q,n-H.va*r,m-H.va*q,n-r,m,n-r,0.5,k),a.beginPath(),cm(a,k,h,this.ld),t.ya(k)),0!==c&&null!==this.Gb&&(g&&f&&(s=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),Ak(a,this.Gb,!1),g&&f&&(a.shadowOffsetX=s[0],a.shadowOffsetY=s[1],a.shadowBlur=s[2]));else if(l.da===Ac){for(var q=l.Bk,r=q.length,u=0;uN.gi);else for(var G=gd(N,v),O=G.length,U=0;Um))if(h=b[0][0],k=b[0][1],2===m)hk(a,h,k,b[1][0],b[1][1],c,d);else{a.moveTo(h,k);for(var n,p,q,r=0,s=t.Cb(),u=1;ur&&(f=r);f>q?(v=f-q,f=q):v=0;var D=Math.sqrt(f*f/(1+p*p));0>n&&(D= -D);h+=D;k+=p*D;m?a.lineTo(h,k):a.moveTo(h,k);r-=f;q-=f;if(0!==v){l++;if(l===s.length){t.ya(s);return}q=s[l];n=q[0];p=q[1];q=q[2];f=v}else m=!m}t.ya(s)}}W.prototype.getDocumentPoint=W.prototype.qb=function(a,b){void 0===b&&(b=new w);a.Ge()&&t.m("getDocumentPoint:s Spot must be real: "+a.toString());var c=this.Qa,d=this.fb;b.p(a.x*(c.width+d)-d/2+c.x+a.offsetX,a.y*(c.height+d)-d/2+c.y+a.offsetY);this.le.Ta(b);return b}; W.prototype.Uj=function(a,b){var c=this.Na;if(null===c||null===this.fill&&null===this.stroke)return!1;var d=c.Pb,f=this.fb/2;c.type!==Dc||b||(f+=2);var g=t.Gf();g.assign(d);g.Sf(f+2,f+2);if(!g.Fa(a))return t.hc(g),!1;d=f+1E-4;if(c.type===Dc){if(null===this.stroke)return!1;d=(c.D-c.qa)*(a.x-c.qa)+(c.F-c.ra)*(a.y-c.ra);if(0>(c.qa-c.D)*(a.x-c.D)+(c.ra-c.F)*(a.y-c.F)||0>d)return!1;t.hc(g);return H.Md(c.qa,c.ra,c.D,c.F,f,a.x,a.y)}if(c.type===Ec){var h=c.qa,k=c.ra,l=c.D,m=c.F,c=Math.min(h,l),n=Math.min(k, m),h=Math.abs(l-h),k=Math.abs(m-k);g.x=c;g.y=n;g.width=h;g.height=k;if(null===this.fill){g.Sf(-d,-d);if(g.Fa(a))return t.hc(g),!1;g.Sf(d,d)}null!==this.stroke&&g.Sf(f,f);f=g.Fa(a);t.hc(g);return f}if(c.type===Mc){h=c.qa;k=c.ra;l=c.D;m=c.F;c=Math.min(h,l);n=Math.min(k,m);h=Math.abs(l-h);k=Math.abs(m-k);h/=2;k/=2;c=a.x-(c+h);n=a.y-(n+k);if(null===this.fill){h-=d;k-=d;if(0>=h||0>=k||1>=c*c/(h*h)+n*n/(k*k))return t.hc(g),!1;h+=d;k+=d}null!==this.stroke&&(h+=f,k+=f);t.hc(g);return 0>=h||0>=k?!1:1>=c*c/ (h*h)+n*n/(k*k)}if(c.type===Ac)return t.hc(g),null===this.fill?kd(c,a.x,a.y,f):c.Fa(a,f,1=this.fb)n=H.ih(p.oc,p.xc,p.kb,p.tb,g,h,k,l,f);else{var r,s;p.oc===p.kb?(r=m,s=0):(b=(p.tb-p.xc)/(p.kb-p.oc),s=m/Math.sqrt(1+b*b),r=s*b);d=t.Cb();b=new w;H.ih(p.oc+ r,p.xc+s,p.kb+r,p.tb+s,g,h,k,l,b)&&d.push(b);b=new w;H.ih(p.oc-r,p.xc-s,p.kb-r,p.tb-s,g,h,k,l,b)&&d.push(b);b=new w;H.ih(p.oc+r,p.xc+s,p.oc-r,p.xc-s,g,h,k,l,b)&&d.push(b);b=new w;H.ih(p.kb+r,p.tb+s,p.kb-r,p.tb-s,g,h,k,l,b)&&d.push(b);b=d.length;if(0===b)return t.ya(d),!1;n=!0;s=Infinity;for(r=0;rMath.abs(c)){n=h-b-c*(g-d);if(0>a*a*c*c+v*v-n*n){f.x=NaN;f.y=NaN;n=!1;break a}m=Math.sqrt(a*a*c*c+v*v-n*n);k=(-(a*a*c*n)+a*v*m)/(v*v+a*a*c*c)+d;a=(-(a*a*c*n)-a*v*m)/(v*v+a*a*c*c)+d;l=c*(k-d)+n+b;b=c*(a-d)+n+b;d=Math.abs((g-k)*(g-k))+Math.abs((h-l)*(h-l));h=Math.abs((g-a)*(g-a))+Math.abs((h-b)* (h-b));dk){f.x=NaN;f.y=NaN;n=!1;break a}m=Math.sqrt(k);l=b+m;b-=m;d=Math.abs(l-h);h=Math.abs(b-h);dc?a-c:c-a)<(b>d?b-d:d-b)?(f=bf||H.nb(l.y,f))&&(l.yf||H.nb(l.x,f))&&(l.x=h&&d<=a}a=h&&c<=a} W.prototype.BE=function(a,b,c){function d(a,b){for(var c=a.length,d=0;df)return!0}return!1}if(c&&null!==this.fill&&this.Uj(a,!0))return!0;var f=a.Yj(b);b=f;1.5=f||Sa(b,g,0,-p)>=f||Sa(b,g,0,p)>=f||Sa(b,g,n,0)>=f?!1: !0}else if(g.type===Ac){h=g.Pb;k=h.x;l=h.y;m=h.x+h.width;h=h.y+h.height;if(a.x>m&&a.xh&&a.yf&&Ra(a.x,a.y,k,l,m,l)>f&&Ra(a.x,a.y,m,h,k,h)>f&&Ra(a.x,a.y,m,h,m,l)>f)return!1;b=Math.sqrt(f);if(c){if(null===this.fill?kd(g,a.x,a.y,b):g.Fa(a,b,!0))return!0}else{c=g.Ab;for(b=0;bf)return!1;l=k.Ea.n;m=l.length;for(h=0;hf)return!1;break;case cd:g=t.Cb(); H.ze(n,p,q.Bb,q.Rb,q.re,q.se,q.D,q.F,0.8,g);n=d(g,a);t.ya(g);if(n)return!1;n=q.D;p=q.F;if(a.Zs(n,p)>f)return!1;break;case dd:g=t.Cb();H.Jp(n,p,q.Bb,q.Rb,q.D,q.F,0.8,g);n=d(g,a);t.ya(g);if(n)return!1;n=q.D;p=q.F;if(a.Zs(n,p)>f)return!1;break;case ed:case fd:var q=q.type===ed?gd(q,k):hd(q,k,n,p),r=q.length,s=null,g=t.Cb();for(b=0;b= 0",W,"strokeWidth:val")});t.g(W,"strokeCap",W.prototype.wG); t.defineProperty(W,{wG:"strokeCap"},function(){return this.Co},function(a){var b=this.Co;b!==a&&("string"!==typeof a||"butt"!==a&&"round"!==a&&"square"!==a?t.ka(a,'"butt", "round", or "square"',W,"strokeCap"):(this.Co=a,this.fa(),this.j("strokeCap",b,a)))});t.g(W,"strokeJoin",W.prototype.WJ); t.defineProperty(W,{WJ:"strokeJoin"},function(){return this.Do},function(a){var b=this.Do;b!==a&&("string"!==typeof a||"miter"!==a&&"bevel"!==a&&"round"!==a?t.ka(a,'"miter", "bevel", or "round"',W,"strokeJoin"):(this.Do=a,this.fa(),this.j("strokeJoin",b,a)))});t.g(W,"strokeMiterLimit",W.prototype.XJ); t.defineProperty(W,{XJ:"strokeMiterLimit"},function(){return this.wm},function(a){var b=this.wm;if(b!==a)if(e&&t.q(a,W,"strokeMiterLimit"),0 0",W,"strokeWidth:val")});t.g(W,"strokeDashArray",W.prototype.zx); t.defineProperty(W,{zx:"strokeDashArray"},function(){return this.vm},function(a){var b=this.vm;if(b!==a){null===a||Array.isArray(a)||t.bc(a,"Array",W,"strokeDashArray:val");if(null!==a){for(var c=a.length,d=0,f=0;fm*k*k&&(h=!0);b.Sg!==a&&(h=!1);for(var m=this.Oj,k=this.Pj,l=f.ug.length,n=0;nc&&(p=c);var g=g+m,r=q,q=a,s=g,u=c,v=d,D=0;h?("start"===this.Td||"left"=== this.Td?D=0:"end"===this.Td||"right"===this.Td?D=u-p:"center"===this.Td?D=(u-p)/2:t.m("textAlign must be start, end, left, right, or center"),q.fillRect(0+D,s+0.25*v,p,1)):("start"===this.Td||"left"===this.Td?D=0:"end"===this.Td||"right"===this.Td?D=u:"center"===this.Td?D=u/2:t.m("textAlign must be start, end, left, right, or center"),q.fillText(r,0+D,s+v-0.25*v),r=v/20|0,this.Xl&&("end"===this.Td||"right"===this.Td?D-=p:"center"===this.Td&&(D-=p/2),q.beginPath(),q.lineWidth=r,q.moveTo(0+D,s+v-0.2* v),q.lineTo(0+D+p,s+v-0.2*v),q.stroke()),this.Wl&&(q.beginPath(),q.lineWidth=r,s=s+v-v/2.2|0,0!==r%2&&(s+=0.5),q.moveTo(0,s),q.lineTo(0+p,s),q.stroke()));g+=d+k}}}; na.prototype.ut=function(a,b,c,d){var f={},g=0,h=0;if(isNaN(this.Ca.width)){g=this.ke;if(0===g.length)g=0;else if(this.Tw){for(var k=h=0,l=!1,m={ph:0};!l;){var n=pm(g,k,m);-1===n&&(n=g.length,l=!0);k=qm(g.substr(k,n-k).replace(/^\s+|\s+$/g,""),this.Tg);k>h&&(h=k);k=m.ph}g=h}else h=pm(g,0,{}),0<=h&&(g=g.substr(0,h)),g=k=qm(g,this.Tg);g=Math.min(g,a/this.scale);g=Math.max(8,g)}else g=this.Ca.width;this.ja&&(g=Math.min(g,this.ja.He.width),g=Math.max(g,this.ja.Vf.width));h=om(this,g,f);m=h=isNaN(this.Ca.height)? Math.min(h,b/this.scale):this.Ca.height;if(0!==f.Ag&&1!==f.Of.length&&this.Pk===mm&&(b=this.Tg,l=this.Pk===mm?rm(b):0,k=this.Oj+this.Pj,k=Math.max(0,zh(this)+k),m=Math.max(Math.floor(m/k)-1,0),!(m+1>=f.Of.length))){k=f.Of[m];for(a=Math.max(1,a-l);qm(k,b)>a&&1=a.zi)){if(a.xm===km){c.ph=1;g=qm(b,k);if(0===m||g<=d)return c.Ag=g,c.ug.push(c.Ag),c.Of.push(b),new ga(g,l);var n=sm(b);b=b.substr(n.length);h=sm(b);for(g=qm(n+h,k);0d&&1d;){var p=1;g=qm(n.substr(0,p),k);for(h=0;g<=d;)p++,h=g,g=qm(n.substr(0,p),k);1===p?(c.ug[a.lf+m]=g,f=Math.max(f,g)):(c.ug[a.lf+m]=h,f=Math.max(f,h));p--;1>p&&(p=1);c.Of[a.lf+m]=n.substr(0,p);m++;n=n.substr(p);if(a.lf+m===a.zi)break}h=sm(b);for(g=qm(n+h,k);0< h.length&&g<=d;)n+=h,b=b.substr(h.length),h=sm(b),g=qm((n+h).replace(/^\s+|\s+$/g,""),k);n=n.replace(/^\s+|\s+$/g,"");if(""!==n&&(0===h.length?(c.ug.push(g),f=Math.max(f,g)):(h=qm(n,k),c.ug.push(h),f=Math.max(f,h)),c.Of.push(n),m++,a.lf+m===a.zi))break}c.ph=Math.min(a.zi,m);c.Ag=Math.max(c.Ag,f);return new ga(c.Ag,l*c.ph)}}function sm(a){for(var b=a.length,c=0;c=b?a:a.substr(0,c)} function qm(a,b){t.Tp!==b&&(t.kn.font=b,t.Tp=b);return t.kn.measureText(a).width}function zh(a){if(null!==a.Rn)return a.Rn;var b=a.Tg;t.Tp!==b&&(t.kn.font=b,t.Tp=b);var c=0;void 0!==t.gA[b]&&5E3>t.DE?c=t.gA[b]:(c=1.3*t.kn.measureText("M").width,t.gA[b]=c,t.DE++);return a.Rn=c}function rm(a){t.Tp!==a&&(t.kn.font=a,t.Tp=a);var b=0;void 0!==t.Gw[a]&&5E3>t.fA?b=t.Gw[a]:(b=t.kn.measureText(t.$s).width,t.Gw[a]=b,t.fA++);return b} function pm(a,b,c){void 0===c.ph&&(c.ph=0);var d=a.indexOf("\r",b);-1===d&&(d=a.indexOf("\n",b));0<=d&&(c.ph="\r"===a[d]&&d+1f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.2,0.22);b.H=new I(0.8,0.9);t.v(a); return b},DataTransmission:"Hexagon",Hexagon:function(a,b,c){var d=H.cl(6);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;6>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.07,0.25);b.H=new I(0.93,0.75);t.v(a);return b},Heptagon:function(a,b,c){var d=H.cl(7);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;7>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.2,0.15);b.H=new I(0.8,0.85);t.v(a);return b},Octagon:function(a,b,c){var d=H.cl(8);a=t.u();J(a,d[0].x*b,d[0].y*c,!0); for(var f=1;8>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.15,0.15);b.H=new I(0.85,0.85);t.v(a);return b},Nonagon:function(a,b,c){var d=H.cl(9);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;9>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.17,0.13);b.H=new I(0.82,0.82);t.v(a);return b},Decagon:function(a,b,c){var d=H.cl(10);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;10>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.16,0.16);b.H=new I(0.84, 0.84);t.v(a);return b},Dodecagon:function(a,b,c){var d=H.cl(12);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;12>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.16,0.16);b.H=new I(0.84,0.84);t.v(a);return b},FivePointedStar:function(a,b,c){var d=H.Km(5);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;10>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.312,0.383);b.H=new I(0.693,0.765);t.v(a);return b},SixPointedStar:function(a,b,c){var d=H.Km(6);a=t.u();J(a,d[0].x*b, d[0].y*c,!0);for(var f=1;12>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.17,0.251);b.H=new I(0.833,0.755);t.v(a);return b},SevenPointedStar:function(a,b,c){var d=H.Km(7);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;14>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.363,0.361);b.H=new I(0.641,0.709);t.v(a);return b},EightPointedStar:function(a,b,c){var d=H.Km(8);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;16>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s; b.G=new I(0.252,0.255);b.H=new I(0.75,0.75);t.v(a);return b},NinePointedStar:function(a,b,c){var d=H.Km(9);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;18>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.355,0.361);b.H=new I(0.645,0.651);t.v(a);return b},TenPointedStar:function(a,b,c){var d=H.Km(10);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;20>f;f++)a.lineTo(d[f].x*b,d[f].y*c);t.ya(d);M(a);b=a.s;b.G=new I(0.281,0.261);b.H=new I(0.723,0.748);t.v(a);return b},FivePointedBurst:function(a, b,c){var d=H.Xo(5);a=t.u();J(a,d[0].x*b,d[0].y*c,!0);for(var f=1;f=d&&(d=5);d=Math.min(d,b/3);d=Math.min(d, c/3);a=d*H.va;var f=t.u();J(f,d,0,!0);f.lineTo(b-d,0);K(f,b-a,0,b,a,b,d);f.lineTo(b,c-d);K(f,b,c-a,b-a,c,b-d,c);f.lineTo(d,c);K(f,a,c,0,c-a,0,c-d);f.lineTo(0,d);K(f,0,a,a,0,d,0);M(f);b=f.s;1=d&&(d=5);d=Math.min(d,b/3);d=Math.min(d,c/3);a=t.u();J(a,d,0,!0);a.lineTo(b-d,0);K(a,b-0,0,b,0,b,d);a.lineTo(b,c-d);K(a,b,c-0,b-0,c,b-d,c);a.lineTo(d,c);K(a,0,c,0,c-0,0,c-d);a.lineTo(0,d);K(a, 0,0,0,0,d,0);M(a);b=a.s;b.G=Eb;b.H=Pb;t.v(a);return b},SquareIBeam:function(a,b,c){var d=a?a.Hc:0;0===d&&(d=0.2);a=t.u();J(a,0,0,!0);a.lineTo(1*b,0);a.lineTo(1*b,d*c);a.lineTo((0.5+d/2)*b,d*c);a.lineTo((0.5+d/2)*b,(1-d)*c);a.lineTo(1*b,(1-d)*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,(1-d)*c);a.lineTo((0.5-d/2)*b,(1-d)*c);a.lineTo((0.5-d/2)*b,d*c);a.lineTo(0,d*c);M(a);b=a.s;t.v(a);return b},Trapezoid:function(a,b,c){a=a?a.Hc:0;0===a&&(a=0.2);var d=t.u();J(d,a*b,0,!0);d.lineTo((1-a)*b,0);d.lineTo(1* b,1*c);d.lineTo(0,1*c);M(d);b=d.s;b.G=new I(a,0);b.H=new I(1-a,1);t.v(d);return b},ManualLoop:"ManualOperation",ManualOperation:function(a,b,c){var d=a?a.Hc:0;a=t.u();J(a,d,0,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.1*b,1*c);M(a);b=a.s;b.G=new I(0.1,0);b.H=new I(0.9,1);t.v(a);return b},GenderMale:function(a,b,c){a=t.u();var d=H.va,f=0.4*d,g=0.4,h=t.K(),k=t.K(),l=t.K(),m=t.K();J(a,(0.5-g)*b,0.5*c,!0);K(a,(0.5-g)*b,(0.5-f)*c,(0.5-f)*b,(0.5-g)*c,0.5*b,(0.5-g)*c);H.Ui(0.5,0.5- g,0.5+f,0.5-g,0.5+g,0.5-f,0.5+g,0.5,0.44,l,m,k,h,h);K(a,l.x*b,l.y*c,m.x*b,m.y*c,k.x*b,k.y*c);var n=t.mc(k.x,k.y);H.Ui(0.5,0.5-g,0.5+f,0.5-g,0.5+g,0.5-f,0.5+g,0.5,0.56,h,h,k,l,m);var p=t.mc(k.x,k.y);a.lineTo((0.1*n.x+0.855)*b,0.1*n.y*c);a.lineTo(0.85*b,0.1*n.y*c);a.lineTo(0.85*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.15*c);a.lineTo((0.1*p.x+0.9)*b,0.15*c);a.lineTo((0.1*p.x+0.9)*b,(0.1*p.y+0.05*0.9)*c);a.lineTo(p.x*b,p.y*c);K(a,l.x*b,l.y*c,m.x*b,m.y*c,(0.5+g)*b,0.5*c);K(a,(0.5+g)*b,(0.5+f)*c,(0.5+f)*b,(0.5+ g)*c,0.5*b,(0.5+g)*c);K(a,(0.5-f)*b,(0.5+g)*c,(0.5-g)*b,(0.5+f)*c,(0.5-g)*b,0.5*c);g=0.35;f=0.35*d;J(a,0.5*b,(0.5-g)*c,!0,!0);K(a,(0.5-f)*b,(0.5-g)*c,(0.5-g)*b,(0.5-f)*c,(0.5-g)*b,0.5*c);K(a,(0.5-g)*b,(0.5+f)*c,(0.5-f)*b,(0.5+g)*c,0.5*b,(0.5+g)*c);K(a,(0.5+f)*b,(0.5+g)*c,(0.5+g)*b,(0.5+f)*c,(0.5+g)*b,0.5*c);K(a,(0.5+g)*b,(0.5-f)*c,(0.5+f)*b,(0.5-g)*c,0.5*b,(0.5-g)*c);J(a,(0.5-g)*b,0.5*c,!0);t.B(h);t.B(k);t.B(l);t.B(m);t.B(n);t.B(p);b=a.s;b.G=new I(0.202,0.257);b.H=new I(0.692,0.839);b.vc=Wg;t.v(a); return b},GenderFemale:function(a,b,c){a=t.u();var d=0.375,f=0,g=-0.125,h=4*(Math.SQRT2-1)/3*d;J(a,(0.525+f)*b,(0.5+d+g)*c,!0);K(a,(0.5+h+f)*b,(0.5+d+g)*c,(0.5+d+f)*b,(0.5+h+g)*c,(0.5+d+f)*b,(0.5+g)*c);K(a,(0.5+d+f)*b,(0.5-h+g)*c,(0.5+h+f)*b,(0.5-d+g)*c,(0.5+f)*b,(0.5-d+g)*c);K(a,(0.5-h+f)*b,(0.5-d+g)*c,(0.5-d+f)*b,(0.5-h+g)*c,(0.5-d+f)*b,(0.5+g)*c);K(a,(0.5-d+f)*b,(0.5+h+g)*c,(0.5-h+f)*b,(0.5+d+g)*c,(0.475+f)*b,(0.5+d+g)*c);a.lineTo(0.475*b,0.85*c);a.lineTo(0.425*b,0.85*c);a.lineTo(0.425*b,0.9*c); a.lineTo(0.475*b,0.9*c);a.lineTo(0.475*b,1*c);a.lineTo(0.525*b,1*c);a.lineTo(0.525*b,0.9*c);a.lineTo(0.575*b,0.9*c);a.lineTo(0.575*b,0.85*c);a.lineTo(0.525*b,0.85*c);M(a);d=0.325;f=0;g=-0.125;h=4*(Math.SQRT2-1)/3*d;J(a,(0.5+d+f)*b,(0.5+g)*c,!0,!0);K(a,(0.5+d+f)*b,(0.5+h+g)*c,(0.5+h+f)*b,(0.5+d+g)*c,(0.5+f)*b,(0.5+d+g)*c);K(a,(0.5-h+f)*b,(0.5+d+g)*c,(0.5-d+f)*b,(0.5+h+g)*c,(0.5-d+f)*b,(0.5+g)*c);K(a,(0.5-d+f)*b,(0.5-h+g)*c,(0.5-h+f)*b,(0.5-d+g)*c,(0.5+f)*b,(0.5-d+g)*c);K(a,(0.5+h+f)*b,(0.5-d+g)*c, (0.5+d+f)*b,(0.5-h+g)*c,(0.5+d+f)*b,(0.5+g)*c);J(a,(0.525+f)*b,(0.5+d+g)*c,!0);b=a.s;b.G=new I(0.232,0.136);b.H=new I(0.782,0.611);b.vc=Wg;t.v(a);return b},PlusLine:function(a,b,c){a=t.u();J(a,0,0.5*c,!1);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);b=a.s;t.v(a);return b},XLine:function(a,b,c){a=t.u();J(a,0,1*c,!1);a.lineTo(1*b,0);a.moveTo(0,0);a.lineTo(1*b,1*c);b=a.s;t.v(a);return b},AsteriskLine:function(a,b,c){a=t.u();var d=0.2/Math.SQRT2;J(a,d*b,(1-d)*c,!1);a.lineTo((1-d)*b,d*c); a.moveTo(d*b,d*c);a.lineTo((1-d)*b,(1-d)*c);a.moveTo(0*b,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0*c);a.lineTo(0.5*b,1*c);b=a.s;t.v(a);return b},CircleLine:function(a,b,c){var d=0.5*H.va;a=t.u();J(a,1*b,0.5*c,!1);K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);K(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);K(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);K(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);b=a.s;b.G=new I(0.146,0.146);b.H=new I(0.853,0.853);b.vc=Wg;t.v(a);return b},Pie:function(a,b,c){a=t.u();var d=4*(Math.SQRT2-1)/ 3*0.5;J(a,(0.5*Math.SQRT2/2+0.5)*b,(0.5-0.5*Math.SQRT2/2)*c,!0);K(a,0.7*b,0*c,0.5*b,0*c,0.5*b,0*c);K(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);K(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.5*b,1*c);K(a,(0.5+d+0)*b,1*c,1*b,(0.5+d+0)*c,1*b,0.5*c);a.lineTo(0.5*b,0.5*c);M(a);b=a.s;t.v(a);return b},PiePiece:function(a,b,c){var d=H.va/Math.SQRT2*0.5,f=Math.SQRT2/2,g=1-Math.SQRT2/2;a=t.u();J(a,b,c,!0);K(a,b,(1-d)*c,(f+d)*b,(g+d)*c,f*b,g*c);a.lineTo(0,c);M(a);b=a.s;t.v(a);return b},StopSign:function(a,b,c){a= 1/(Math.SQRT2+2);var d=t.u();J(d,a*b,0,!0);d.lineTo((1-a)*b,0);d.lineTo(1*b,a*c);d.lineTo(1*b,(1-a)*c);d.lineTo((1-a)*b,1*c);d.lineTo(a*b,1*c);d.lineTo(0,(1-a)*c);d.lineTo(0,a*c);M(d);b=d.s;b.G=new I(a/2,a/2);b.H=new I(1-a/2,1-a/2);t.v(d);return b},LogicImplies:function(a,b,c){var d=a?a.Hc:0;0===d&&(d=0.2);a=t.u();J(a,(1-d)*b,0*c,!1);a.lineTo(1*b,0.5*c);a.lineTo((1-d)*b,c);a.moveTo(0,0.5*c);a.lineTo(b,0.5*c);b=a.s;b.G=Eb;b.H=new I(0.8,0.5);t.v(a);return b},LogicIff:function(a,b,c){var d=a?a.Hc:0; 0===d&&(d=0.2);a=t.u();J(a,(1-d)*b,0*c,!1);a.lineTo(1*b,0.5*c);a.lineTo((1-d)*b,c);a.moveTo(0,0.5*c);a.lineTo(b,0.5*c);a.moveTo(d*b,0);a.lineTo(0,0.5*c);a.lineTo(d*b,c);b=a.s;b.G=new I(0.2,0);b.H=new I(0.8,0.5);t.v(a);return b},LogicNot:function(a,b,c){a=t.u();J(a,0,0,!1);a.lineTo(1*b,0);a.lineTo(1*b,1*c);b=a.s;t.v(a);return b},LogicAnd:function(a,b,c){a=t.u();J(a,0,1*c,!1);a.lineTo(0.5*b,0);a.lineTo(1*b,1*c);b=a.s;b.G=new I(0.25,0.5);b.H=new I(0.75,1);t.v(a);return b},LogicOr:function(a,b,c){a=t.u(); J(a,0,0,!1);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);b=a.s;b.G=new I(0.219,0);b.H=new I(0.78,0.409);t.v(a);return b},LogicXor:function(a,b,c){a=t.u();J(a,0.5*b,0,!1);a.lineTo(0.5*b,1*c);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);var d=0.5*H.va;K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);K(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);K(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);K(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);b=a.s;b.vc=Wg;t.v(a);return b},LogicTruth:function(a,b,c){a=t.u();J(a,0,0,!1);a.lineTo(1*b,0);a.moveTo(0.5* b,0);a.lineTo(0.5*b,1*c);b=a.s;t.v(a);return b},LogicFalsity:function(a,b,c){a=t.u();J(a,0,1*c,!1);a.lineTo(1*b,1*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);b=a.s;t.v(a);return b},LogicThereExists:function(a,b,c){a=t.u();J(a,0,0,!1);a.lineTo(1*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);b=a.s;t.v(a);return b},LogicForAll:function(a,b,c){a=t.u();J(a,0,0,!1);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);a.moveTo(0.25*b,0.5*c);a.lineTo(0.75*b,0.5*c);b=a.s;b.G= new I(0.25,0);b.H=new I(0.75,0.5);t.v(a);return b},LogicIsDefinedAs:function(a,b,c){a=t.u();J(a,0,0,!1);a.lineTo(b,0);a.moveTo(0,0.5*c);a.lineTo(b,0.5*c);a.moveTo(0,c);a.lineTo(b,c);b=a.s;b.G=new I(0.01,0.01);b.H=new I(0.99,0.49);t.v(a);return b},LogicIntersect:function(a,b,c){var d=0.5*H.va;a=t.u();J(a,0,1*c,!1);a.lineTo(0,0.5*c);K(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);K(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);a.lineTo(1*b,1*c);b=a.s;b.G=new I(0,0.5);b.H=Pb;t.v(a);return b},LogicUnion:function(a,b,c){var d= 0.5*H.va;a=t.u();J(a,1*b,0,!1);a.lineTo(1*b,0.5*c);K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);K(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);a.lineTo(0,0);b=a.s;b.G=Eb;b.H=new I(1,0.5);t.v(a);return b},Arrow:function(a,b,c){var d=a?a.Hc:0,f=a?a.Ft:0;0===d&&(d=0.3);0===f&&(f=0.3);a=t.u();J(a,0,(0.5-f/2)*c,!0);a.lineTo((1-d)*b,(0.5-f/2)*c);a.lineTo((1-d)*b,0);a.lineTo(1*b,0.5*c);a.lineTo((1-d)*b,1*c);a.lineTo((1-d)*b,(0.5+f/2)*c);a.lineTo(0,(0.5+f/2)*c);M(a);b=a.s;b.G=new I(0,0.5-f/2);d=H.il(0,0.5+f/2,1,0.5+ f/2,1-d,1,1,0.5,t.K());b.H=new I(d.x,d.y);t.B(d);t.v(a);return b},ISOProcess:"Chevron",Chevron:function(a,b,c){a=t.u();J(a,0,0,!0);a.lineTo(0.5*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);M(a);b=a.s;t.v(a);return b},DoubleArrow:function(a,b,c){a=t.u();J(a,0,0,!0);a.lineTo(0.3*b,0.214*c);a.lineTo(0.3*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.786*c);a.lineTo(0,1*c);M(a);J(a,0.3*b,0.214*c,!1);a.lineTo(0.3*b,0.786*c);a.bb(!1);b=a.s;t.v(a);return b}, DoubleEndArrow:function(a,b,c){a=t.u();J(a,1*b,0.5*c,!0);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.3*b,0.7*c);a.lineTo(0.3*b,1*c);a.lineTo(0,0.5*c);a.lineTo(0.3*b,0);a.lineTo(0.3*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);M(a);b=a.s;c=H.il(0,0.5,0.3,0,0,0.3,0.3,0.3,t.K());b.G=new I(c.x,c.y);c=H.il(0.7,1,1,0.5,0.7,0.7,1,0.7,c);b.H=new I(c.x,c.y);t.B(c);t.v(a);return b},IBeamArrow:function(a,b,c){a=t.u();J(a,1*b,0.5*c,!0);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.2*b,0.7* c);a.lineTo(0.2*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.2*b,0);a.lineTo(0.2*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);M(a);b=a.s;b.G=new I(0,0.3);c=H.il(0.7,1,1,0.5,0.7,0.7,1,0.7,t.K());b.H=new I(c.x,c.y);t.B(c);t.v(a);return b},Pointer:function(a,b,c){a=t.u();J(a,1*b,0.5*c,!0);a.lineTo(0,1*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0);M(a);b=a.s;b.G=new I(0.2,0.35);c=H.il(0.2,0.65,1,0.65,0,1,1,0.5,t.K());b.H=new I(c.x,c.y);t.B(c);t.v(a);return b},RoundedPointer:function(a,b,c){a=t.u();J(a, 1*b,0.5*c,!0);a.lineTo(0,1*c);K(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);M(a);b=a.s;b.G=new I(0.4,0.35);c=H.il(0.2,0.65,1,0.65,0,1,1,0.5,t.K());b.H=new I(c.x,c.y);t.B(c);t.v(a);return b},SplitEndArrow:function(a,b,c){a=t.u();J(a,1*b,0.5*c,!0);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0,0.7*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);M(a);b=a.s;b.G=new I(0.2,0.3);c=H.il(0.7,1,1,0.5,0.7,0.7,1,0.7,t.K());b.H=new I(c.x,c.y);t.B(c);t.v(a);return b},MessageToUser:"SquareArrow", SquareArrow:function(a,b,c){a=t.u();J(a,1*b,0.5*c,!0);a.lineTo(0.7*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.7*b,0);M(a);b=a.s;b.G=Eb;b.H=new I(0.7,1);t.v(a);return b},Cone1:function(a,b,c){var d=H.va;a=0.5*d;var f=0.1*d,d=t.u();J(d,0,0.9*c,!0);d.lineTo(0.5*b,0);d.lineTo(1*b,0.9*c);K(d,1*b,(0.9+f)*c,(0.5+a)*b,1*c,0.5*b,1*c);K(d,(0.5-a)*b,1*c,0,(0.9+f)*c,0,0.9*c);M(d);b=d.s;b.G=new I(0.25,0.5);b.H=new I(0.75,0.97);t.v(d);return b},Cone2:function(a,b,c){a=t.u();J(a,0,0.9*c,!0);K(a,(1-0.85/0.9)* b,1*c,0.85/0.9*b,1*c,1*b,0.9*c);a.lineTo(0.5*b,0);a.lineTo(0,0.9*c);M(a);J(a,0,0.9*c,!1);K(a,(1-0.85/0.9)*b,0.8*c,0.85/0.9*b,0.8*c,1*b,0.9*c);a.bb(!1);b=a.s;b.G=new I(0.25,0.5);b.H=new I(0.75,0.82);t.v(a);return b},Cube1:function(a,b,c){a=t.u();J(a,0.5*b,1*c,!0);a.lineTo(1*b,0.85*c);a.lineTo(1*b,0.15*c);a.lineTo(0.5*b,0*c);a.lineTo(0*b,0.15*c);a.lineTo(0*b,0.85*c);M(a);J(a,0.5*b,1*c,!1);a.lineTo(0.5*b,0.3*c);a.lineTo(0,0.15*c);a.moveTo(0.5*b,0.3*c);a.lineTo(1*b,0.15*c);a.bb(!1);b=a.s;b.G=new I(0, 0.3);b.H=new I(0.5,0.85);t.v(a);return b},Cube2:function(a,b,c){a=t.u();J(a,0,0.3*c,!0);a.lineTo(0*b,1*c);a.lineTo(0.7*b,c);a.lineTo(1*b,0.7*c);a.lineTo(1*b,0*c);a.lineTo(0.3*b,0*c);M(a);J(a,0,0.3*c,!1);a.lineTo(0.7*b,0.3*c);a.lineTo(1*b,0*c);a.moveTo(0.7*b,0.3*c);a.lineTo(0.7*b,1*c);a.bb(!1);b=a.s;b.G=new I(0,0.3);b.H=new I(0.7,1);t.v(a);return b},MagneticData:"Cylinder1",Cylinder1:function(a,b,c){var d=H.va;a=0.5*d;var f=0.1*d,d=t.u();J(d,0,0.1*c,!0);K(d,0,(0.1-f)*c,(0.5-a)*b,0,0.5*b,0);K(d,(0.5+ a)*b,0,1*b,(0.1-f)*c,1*b,0.1*c);d.lineTo(b,0.9*c);K(d,1*b,(0.9+f)*c,(0.5+a)*b,1*c,0.5*b,1*c);K(d,(0.5-a)*b,1*c,0,(0.9+f)*c,0,0.9*c);d.lineTo(0,0.1*c);J(d,0,0.1*c,!1);K(d,0,(0.1+f)*c,(0.5-a)*b,0.2*c,0.5*b,0.2*c);K(d,(0.5+a)*b,0.2*c,1*b,(0.1+f)*c,1*b,0.1*c);d.bb(!1);b=d.s;b.G=new I(0,0.2);b.H=new I(1,0.9);t.v(d);return b},Cylinder2:function(a,b,c){var d=H.va;a=0.5*d;var f=0.1*d,d=t.u();J(d,0,0.9*c,!0);d.lineTo(0,0.1*c);K(d,0,(0.1-f)*c,(0.5-a)*b,0,0.5*b,0);K(d,(0.5+a)*b,0,1*b,(0.1-f)*c,1*b,0.1*c);d.lineTo(1* b,0.9*c);K(d,1*b,(0.9+f)*c,(0.5+a)*b,1*c,0.5*b,1*c);K(d,(0.5-a)*b,1*c,0,(0.9+f)*c,0,0.9*c);J(d,0,0.9*c,!1);K(d,0,(0.9-f)*c,(0.5-a)*b,0.8*c,0.5*b,0.8*c);K(d,(0.5+a)*b,0.8*c,1*b,(0.9-f)*c,1*b,0.9*c);d.bb(!1);b=d.s;b.G=new I(0,0.1);b.H=new I(1,0.8);t.v(d);return b},Cylinder3:function(a,b,c){var d=H.va;a=0.1*d;var f=0.5*d,d=t.u();J(d,0.1*b,0,!0);d.lineTo(0.9*b,0);K(d,(0.9+a)*b,0,1*b,(0.5-f)*c,1*b,0.5*c);K(d,1*b,(0.5+f)*c,(0.9+a)*b,1*c,0.9*b,1*c);d.lineTo(0.1*b,1*c);K(d,(0.1-a)*b,1*c,0,(0.5+f)*c,0,0.5* c);K(d,0,(0.5-f)*c,(0.1-a)*b,0,0.1*b,0);J(d,0.1*b,0,!1);K(d,(0.1+a)*b,0,0.2*b,(0.5-f)*c,0.2*b,0.5*c);K(d,0.2*b,(0.5+f)*c,(0.1+a)*b,1*c,0.1*b,1*c);d.bb(!1);b=d.s;b.G=new I(0.2,0);b.H=new I(0.9,1);t.v(d);return b},DirectData:"Cylinder4",Cylinder4:function(a,b,c){var d=H.va;a=0.1*d;var f=0.5*d,d=t.u();J(d,0.9*b,0,!0);K(d,(0.9+a)*b,0,1*b,(0.5-f)*c,1*b,0.5*c);K(d,1*b,(0.5+f)*c,(0.9+a)*b,1*c,0.9*b,1*c);d.lineTo(0.1*b,1*c);K(d,(0.1-a)*b,1*c,0,(0.5+f)*c,0,0.5*c);K(d,0,(0.5-f)*c,(0.1-a)*b,0,0.1*b,0);d.lineTo(0.9* b,0);J(d,0.9*b,0,!1);K(d,(0.9-a)*b,0,0.8*b,(0.5-f)*c,0.8*b,0.5*c);K(d,0.8*b,(0.5+f)*c,(0.9-a)*b,1*c,0.9*b,1*c);d.bb(!1);b=d.s;b.G=new I(0.1,0);b.H=new I(0.8,1);t.v(d);return b},Prism1:function(a,b,c){a=t.u();J(a,0.25*b,0.25*c,!0);a.lineTo(0.75*b,0);a.lineTo(b,0.5*c);a.lineTo(0.5*b,c);a.lineTo(0,c);M(a);J(a,0.25*b,0.25*c,!1);a.lineTo(0.5*b,c);a.bb(!1);b=a.s;b.G=new I(0.408,0.172);b.H=new I(0.833,0.662);t.v(a);return b},Prism2:function(a,b,c){a=t.u();J(a,0,0.25*c,!0);a.lineTo(0.75*b,0);a.lineTo(1*b, 0.25*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);M(a);J(a,0,c,!1);a.lineTo(0.25*b,0.5*c);a.lineTo(b,0.25*c);a.moveTo(0,0.25*c);a.lineTo(0.25*b,0.5*c);a.bb(!1);b=a.s;b.G=new I(0.25,0.5);b.H=new I(0.75,0.75);t.v(a);return b},Pyramid1:function(a,b,c){a=t.u();J(a,0.5*b,0,!0);a.lineTo(b,0.75*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.75*c);M(a);J(a,0.5*b,0,!1);a.lineTo(0.5*b,1*c);a.bb(!1);b=a.s;b.G=new I(0.25,0.367);b.H=new I(0.75,0.875);t.v(a);return b},Pyramid2:function(a,b,c){a=t.u();J(a,0.5*b,0,!0);a.lineTo(b, 0.85*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.85*c);M(a);J(a,0.5*b,0,!1);a.lineTo(0.5*b,0.7*c);a.lineTo(0,0.85*c);a.moveTo(0.5*b,0.7*c);a.lineTo(1*b,0.85*c);a.bb(!1);b=a.s;b.G=new I(0.25,0.367);b.H=new I(0.75,0.875);t.v(a);return b},Actor:function(a,b,c){var d=H.va,f=0.2*d,g=0.1*d,h=0.5,k=0.1;a=t.u();J(a,h*b,(k+0.1)*c,!0);K(a,(h-f)*b,(k+0.1)*c,(h-0.2)*b,(k+g)*c,(h-0.2)*b,k*c);K(a,(h-0.2)*b,(k-g)*c,(h-f)*b,(k-0.1)*c,h*b,(k-0.1)*c);K(a,(h+f)*b,(k-0.1)*c,(h+0.2)*b,(k-g)*c,(h+0.2)*b,k*c);K(a,(h+0.2)*b,(k+ g)*c,(h+f)*b,(k+0.1)*c,h*b,(k+0.1)*c);f=0.05;g=d*f;J(a,0.5*b,0.2*c,!0);a.lineTo(0.95*b,0.2*c);h=0.95;k=0.25;K(a,(h+g)*b,(k-f)*c,(h+f)*b,(k-g)*c,(h+f)*b,k*c);a.lineTo(1*b,0.6*c);a.lineTo(0.85*b,0.6*c);a.lineTo(0.85*b,0.35*c);f=0.025;g=d*f;h=0.825;k=0.35;K(a,(h+f)*b,(k-g)*c,(h+g)*b,(k-f)*c,h*b,(k-f)*c);K(a,(h-g)*b,(k-f)*c,(h-f)*b,(k-g)*c,(h-f)*b,k*c);a.lineTo(0.8*b,1*c);a.lineTo(0.55*b,1*c);a.lineTo(0.55*b,0.7*c);f=0.05;g=d*f;h=0.5;k=0.7;K(a,(h+f)*b,(k-g)*c,(h+g)*b,(k-f)*c,h*b,(k-f)*c);K(a,(h-g)*b, (k-f)*c,(h-f)*b,(k-g)*c,(h-f)*b,k*c);a.lineTo(0.45*b,1*c);a.lineTo(0.2*b,1*c);a.lineTo(0.2*b,0.35*c);f=0.025;g=d*f;h=0.175;k=0.35;K(a,(h+f)*b,(k-g)*c,(h+g)*b,(k-f)*c,h*b,(k-f)*c);K(a,(h-g)*b,(k-f)*c,(h-f)*b,(k-g)*c,(h-f)*b,k*c);a.lineTo(0.15*b,0.6*c);a.lineTo(0*b,0.6*c);a.lineTo(0*b,0.25*c);f=0.05;g=d*f;h=0.05;k=0.25;K(a,(h-f)*b,(k-g)*c,(h-g)*b,(k-f)*c,h*b,(k-f)*c);a.lineTo(0.5*b,0.2*c);b=a.s;b.G=new I(0.2,0.2);b.H=new I(0.8,0.65);t.v(a);return b},Card:function(a,b,c){a=t.u();J(a,1*b,0*c,!0);a.lineTo(1* b,1*c);a.lineTo(0*b,1*c);a.lineTo(0*b,0.2*c);a.lineTo(0.2*b,0*c);M(a);b=a.s;b.G=new I(0,0.2);b.H=Pb;t.v(a);return b},Collate:function(a,b,c){a=t.u();J(a,0.5*b,0.5*c,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);J(a,0.5*b,0.5*c,!0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);b=a.s;b.G=new I(0.25,0);b.H=new I(0.75,0.25);t.v(a);return b},CreateRequest:function(a,b,c){a=a?a.Hc:0;0===a&&(a=0.1);var d=t.u();J(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);M(d);J(d,0,a* c,!1);d.lineTo(1*b,a*c);d.moveTo(0,(1-a)*c);d.lineTo(1*b,(1-a)*c);d.bb(!1);b=d.s;b.G=new I(0,a);b.H=new I(1,1-a);t.v(d);return b},Database:function(a,b,c){a=t.u();var d=H.va,f=0.5*d,d=0.1*d;J(a,1*b,0.1*c,!0);a.lineTo(1*b,0.9*c);K(a,1*b,(0.9+d)*c,(0.5+f)*b,1*c,0.5*b,1*c);K(a,(0.5-f)*b,1*c,0,(0.9+d)*c,0,0.9*c);a.lineTo(0,0.1*c);K(a,0,(0.1-d)*c,(0.5-f)*b,0,0.5*b,0);K(a,(0.5+f)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);J(a,1*b,0.1*c,!1);K(a,1*b,(0.1+d)*c,(0.5+f)*b,0.2*c,0.5*b,0.2*c);K(a,(0.5-f)*b,0.2*c,0,(0.1+d)* c,0,0.1*c);a.moveTo(1*b,0.2*c);K(a,1*b,(0.2+d)*c,(0.5+f)*b,0.3*c,0.5*b,0.3*c);K(a,(0.5-f)*b,0.3*c,0,(0.2+d)*c,0,0.2*c);a.moveTo(1*b,0.3*c);K(a,1*b,(0.3+d)*c,(0.5+f)*b,0.4*c,0.5*b,0.4*c);K(a,(0.5-f)*b,0.4*c,0,(0.3+d)*c,0,0.3*c);a.bb(!1);b=a.s;b.G=new I(0,0.4);b.H=new I(1,0.9);t.v(a);return b},StoredData:"DataStorage",DataStorage:function(a,b,c){a=t.u();J(a,0,0,!0);a.lineTo(0.75*b,0);K(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0,1*c);K(a,0.25*b,0.9*c,0.25*b,0.1*c,0,0);M(a);b=a.s;b.G=new I(0.226,0);b.H=new I(0.81, 1);t.v(a);return b},DiskStorage:function(a,b,c){a=t.u();var d=H.va,f=0.5*d,d=0.1*d;J(a,1*b,0.1*c,!0);a.lineTo(1*b,0.9*c);K(a,1*b,(0.9+d)*c,(0.5+f)*b,1*c,0.5*b,1*c);K(a,(0.5-f)*b,1*c,0,(0.9+d)*c,0,0.9*c);a.lineTo(0,0.1*c);K(a,0,(0.1-d)*c,(0.5-f)*b,0,0.5*b,0);K(a,(0.5+f)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);J(a,1*b,0.1*c,!1);K(a,1*b,(0.1+d)*c,(0.5+f)*b,0.2*c,0.5*b,0.2*c);K(a,(0.5-f)*b,0.2*c,0,(0.1+d)*c,0,0.1*c);a.moveTo(1*b,0.2*c);K(a,1*b,(0.2+d)*c,(0.5+f)*b,0.3*c,0.5*b,0.3*c);K(a,(0.5-f)*b,0.3*c,0,(0.2+d)* c,0,0.2*c);a.bb(!1);b=a.s;b.G=new I(0,0.3);b.H=new I(1,0.9);t.v(a);return b},Display:function(a,b,c){a=t.u();J(a,0.25*b,0,!0);a.lineTo(0.75*b,0);K(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);a.lineTo(0,0.5*c);M(a);b=a.s;b.G=new I(0.25,0);b.H=new I(0.75,1);t.v(a);return b},DividedEvent:function(a,b,c){a=a?a.Hc:0;0===a?a=0.2:0.15>a&&(a=0.15);var d=t.u(),f=0.2*H.va;J(d,0,0.2*c,!0);K(d,0,(0.2-f)*c,(0.2-f)*b,0,0.2*b,0);d.lineTo(0.8*b,0);K(d,(0.8+f)*b,0,1*b,(0.2-f)*c,1*b,0.2*c);d.lineTo(1*b,0.8*c); K(d,1*b,(0.8+f)*c,(0.8+f)*b,1*c,0.8*b,1*c);d.lineTo(0.2*b,1*c);K(d,(0.2-f)*b,1*c,0,(0.8+f)*c,0,0.8*c);d.lineTo(0,0.2*c);J(d,0,a*c,!1);d.lineTo(1*b,a*c);d.bb(!1);b=d.s;b.G=new I(0,a);b.H=new I(1,1-a);t.v(d);return b},DividedProcess:function(a,b,c){a=a?a.Hc:0;0.1>a&&(a=0.1);var d=t.u();J(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);M(d);J(d,0,a*c,!1);d.lineTo(1*b,a*c);d.bb(!1);b=d.s;b.G=new I(0,a);b.H=Pb;t.v(d);return b},Document:function(a,b,c){c/=0.8;a=t.u();J(a,0,0.7*c,!0);a.lineTo(0, 0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);K(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);M(a);b=a.s;b.G=Eb;b.H=new I(1,0.6);t.v(a);return b},ExternalOrganization:function(a,b,c){a=a?a.Hc:0;0.2>a&&(a=0.2);var d=t.u();J(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);M(d);J(d,a*b,0,!1);d.lineTo(0,a*c);d.moveTo(1*b,a*c);d.lineTo((1-a)*b,0);d.moveTo(0,(1-a)*c);d.lineTo(a*b,1*c);d.moveTo((1-a)*b,1*c);d.lineTo(1*b,(1-a)*c);d.bb(!1);b=d.s;b.G=new I(a/2,a/2);b.H=new I(1-a/2,1-a/2);t.v(d);return b},ExternalProcess:function(a, b,c){a=t.u();J(a,0.5*b,0,!0);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);M(a);J(a,0.1*b,0.4*c,!1);a.lineTo(0.1*b,0.6*c);a.moveTo(0.9*b,0.6*c);a.lineTo(0.9*b,0.4*c);a.moveTo(0.6*b,0.1*c);a.lineTo(0.4*b,0.1*c);a.moveTo(0.4*b,0.9*c);a.lineTo(0.6*b,0.9*c);a.bb(!1);b=a.s;b.G=new I(0.25,0.25);b.H=new I(0.75,0.75);t.v(a);return b},File:function(a,b,c){a=t.u();J(a,0,0,!0);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);M(a);J(a,0.75*b,0,!1);a.lineTo(0.75*b,0.25*c); a.lineTo(1*b,0.25*c);a.bb(!1);b=a.s;b.G=new I(0,0.25);b.H=Pb;t.v(a);return b},Interrupt:function(a,b,c){a=t.u();J(a,1*b,0.5*c,!0);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);J(a,1*b,0.5*c,!1);a.lineTo(1*b,1*c);J(a,1*b,0.5*c,!1);a.lineTo(1*b,0);b=a.s;b.G=new I(0,0.25);b.H=new I(0.5,0.75);t.v(a);return b},InternalStorage:function(a,b,c){var d=a?a.Hc:0;a=a?a.Ft:0;0===d&&(d=0.1);0===a&&(a=0.1);var f=t.u();J(f,0,0,!0);f.lineTo(1*b,0);f.lineTo(1*b,1*c);f.lineTo(0,1*c);M(f);J(f,d*b,0,!1);f.lineTo(d* b,1*c);f.moveTo(0,a*c);f.lineTo(1*b,a*c);f.bb(!1);b=f.s;b.G=new I(d,a);b.H=Pb;t.v(f);return b},Junction:function(a,b,c){a=t.u();var d=1/Math.SQRT2,f=(1-1/Math.SQRT2)/2,g=0.5*H.va;J(a,1*b,0.5*c,!0);K(a,1*b,(0.5+g)*c,(0.5+g)*b,1*c,0.5*b,1*c);K(a,(0.5-g)*b,1*c,0,(0.5+g)*c,0,0.5*c);K(a,0,(0.5-g)*c,(0.5-g)*b,0,0.5*b,0);K(a,(0.5+g)*b,0,1*b,(0.5-g)*c,1*b,0.5*c);J(a,(f+d)*b,(f+d)*c,!1);a.lineTo(f*b,f*c);a.moveTo(f*b,(f+d)*c);a.lineTo((f+d)*b,f*c);a.bb(!1);b=a.s;b.vc=Wg;t.v(a);return b},LinedDocument:function(a, b,c){c/=0.8;a=t.u();J(a,0,0.7*c,!0);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);K(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);M(a);J(a,0.1*b,0,!1);a.lineTo(0.1*b,0.75*c);a.bb(!1);b=a.s;b.G=new I(0.1,0);b.H=new I(1,0.6);t.v(a);return b},LoopLimit:function(a,b,c){a=t.u();J(a,0,1*c,!0);a.lineTo(0,0.25*c);a.lineTo(0.25*b,0);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);M(a);b=a.s;b.G=new I(0,0.25);b.H=Pb;t.v(a);return b},SequentialData:"MagneticTape",MagneticTape:function(a,b,c){a=t.u();var d= 0.5*H.va;J(a,0.5*b,1*c,!0);K(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);K(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);K(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);K(a,1*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.6*b,0.9*c);a.lineTo(1*b,0.9*c);a.lineTo(1*b,1*c);a.lineTo(0.5*b,1*c);b=a.s;b.G=new I(0.15,0.15);b.H=new I(0.85,0.8);t.v(a);return b},ManualInput:function(a,b,c){a=t.u();J(a,1*b,0,!0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.25*c);M(a);b=a.s;b.G=new I(0,0.25);b.H=Pb;t.v(a);return b},MessageFromUser:function(a,b,c){a= a?a.Hc:0;0===a&&(a=0.7);var d=t.u();J(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(a*b,0.5*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);M(d);b=d.s;b.G=Eb;b.H=new I(a,1);t.v(d);return b},MicroformProcessing:function(a,b,c){a=a?a.Hc:0;0===a&&(a=0.25);var d=t.u();J(d,0,0,!0);d.lineTo(0.5*b,a*c);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.5*b,(1-a)*c);d.lineTo(0,1*c);M(d);b=d.s;b.G=new I(0,a);b.H=new I(1,1-a);t.v(d);return b},MicroformRecording:function(a,b,c){a=t.u();J(a,0,0,!0);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b, 0.15*c);a.lineTo(1*b,0.85*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);M(a);b=a.s;b.G=new I(0,0.25);b.H=new I(1,0.75);t.v(a);return b},MultiDocument:function(a,b,c){c/=0.8;a=t.u();J(a,b,0,!0);a.lineTo(b,0.5*c);K(a,0.96*b,0.47*c,0.93*b,0.45*c,0.9*b,0.44*c);a.lineTo(0.9*b,0.6*c);K(a,0.86*b,0.57*c,0.83*b,0.55*c,0.8*b,0.54*c);a.lineTo(0.8*b,0.7*c);K(a,0.4*b,0.4*c,0.4*b,1*c,0,0.7*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);a.lineTo(0.1*b,0.1*c);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);M(a);J(a,0.1*b,0.2*c, !1);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.54*c);a.moveTo(0.2*b,0.1*c);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.44*c);a.bb(!1);b=a.s;b.G=new I(0,0.25);b.H=new I(0.8,0.77);t.v(a);return b},MultiProcess:function(a,b,c){a=t.u();J(a,0.1*b,0.1*c,!0);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.8*c);a.lineTo(0.9*b,0.8*c);a.lineTo(0.9*b,0.9*c);a.lineTo(0.8*b,0.9*c);a.lineTo(0.8*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);M(a);J(a,0.2*b,0.1*c,!1);a.lineTo(0.9*b, 0.1*c);a.lineTo(0.9*b,0.8*c);a.moveTo(0.1*b,0.2*c);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.9*c);a.bb(!1);b=a.s;b.G=new I(0,0.2);b.H=new I(0.8,1);t.v(a);return b},OfflineStorage:function(a,b,c){a=a?a.Hc:0;0===a&&(a=0.1);var d=1-a,f=t.u();J(f,0,0,!0);f.lineTo(1*b,0);f.lineTo(0.5*b,1*c);M(f);J(f,0.5*a*b,a*c,!1);f.lineTo((1-0.5*a)*b,a*c);f.bb(!1);b=f.s;b.G=new I(d/4+0.5*a,a);b.H=new I(3*d/4+0.5*a,a+0.5*d);t.v(f);return b},OffPageConnector:function(a,b,c){a=t.u();J(a,0,0,!0);a.lineTo(0.75*b,0);a.lineTo(1* b,0.5*c);a.lineTo(0.75*b,1*c);a.lineTo(0,1*c);M(a);b=a.s;b.G=Eb;b.H=new I(0.75,1);t.v(a);return b},Or:function(a,b,c){a=t.u();var d=0.5*H.va;J(a,1*b,0.5*c,!0);K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);K(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);K(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);K(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);J(a,1*b,0.5*c,!1);a.lineTo(0,0.5*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);a.bb(!1);b=a.s;b.vc=Wg;t.v(a);return b},PaperTape:function(a,b,c){c/=0.8;a=t.u();J(a,0,0.7*c,!0);a.lineTo(0, 0.3*c);K(a,0.5*b,0.6*c,0.5*b,0,1*b,0.3);a.lineTo(1*b,0.7*c);K(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);M(a);b=a.s;b.G=new I(0,0.49);b.H=new I(1,0.75);t.v(a);return b},PrimitiveFromCall:function(a,b,c){var d=a?a.Hc:0;a=a?a.Ft:0;0===d&&(d=0.1);0===a&&(a=0.3);var f=t.u();J(f,0,0,!0);f.lineTo(1*b,0);f.lineTo((1-a)*b,0.5*c);f.lineTo(1*b,1*c);f.lineTo(0,1*c);M(f);b=f.s;b.G=new I(d,0);b.H=new I(1-a,1);t.v(f);return b},PrimitiveToCall:function(a,b,c){var d=a?a.Hc:0;a=a?a.Ft:0;0===d&&(d=0.1);0===a&&(a=0.3);var f= t.u();J(f,0,0,!0);f.lineTo((1-a)*b,0);f.lineTo(1*b,0.5*c);f.lineTo((1-a)*b,1*c);f.lineTo(0,1*c);M(f);b=f.s;b.G=new I(d,0);b.H=new I(1-a,1);t.v(f);return b},Subroutine:"Procedure",Procedure:function(a,b,c){a=a?a.Hc:0;0===a&&(a=0.1);var d=t.u();J(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);M(d);J(d,(1-a)*b,0,!1);d.lineTo((1-a)*b,1*c);d.moveTo(a*b,0);d.lineTo(a*b,1*c);d.bb(!1);b=d.s;b.G=new I(a,0);b.H=new I(1-a,1);t.v(d);return b},Process:function(a,b,c){a=a?a.Hc:0;0===a&&(a=0.1);var d= t.u();J(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);M(d);J(d,a*b,0,!1);d.lineTo(a*b,1*c);d.bb(!1);b=d.s;b.G=new I(a,0);b.H=Pb;t.v(d);return b},Sort:function(a,b,c){a=t.u();J(a,0.5*b,0,!0);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);M(a);J(a,0,0.5*c,!1);a.lineTo(1*b,0.5*c);a.bb(!1);b=a.s;b.G=new I(0.25,0.25);b.H=new I(0.75,0.5);t.v(a);return b},Start:function(a,b,c){a=t.u();J(a,0.25*b,0,!0);J(a,0.25*b,0,!0);a.arcTo(270,180,0.75*b,0.5*c,0.25*b,0.5*c);a.arcTo(90,180,0.25* b,0.5*c,0.25*b,0.5*c);J(a,0.25*b,0,!1);a.lineTo(0.25*b,1*c);a.moveTo(0.75*b,0);a.lineTo(0.75*b,1*c);a.bb(!1);b=a.s;b.G=new I(0.25,0);b.H=new I(0.75,1);t.v(a);return b},Terminator:function(a,b,c){a=t.u();J(a,0.25*b,0,!0);a.arcTo(270,180,0.75*b,0.5*c,0.25*b,0.5*c);a.arcTo(90,180,0.25*b,0.5*c,0.25*b,0.5*c);b=a.s;b.G=new I(0.23,0);b.H=new I(0.77,1);t.v(a);return b},TransmittalTape:function(a,b,c){a=a?a.Hc:0;0===a&&(a=0.1);var d=t.u();J(d,0,0,!0);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.75*b,(1-a)* c);d.lineTo(0,(1-a)*c);M(d);b=d.s;b.G=Eb;b.H=new I(1,1-a);t.v(d);return b},AndGate:function(a,b,c){a=t.u();var d=0.5*H.va;J(a,0,0,!0);a.lineTo(0.5*b,0);K(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);a.lineTo(0,1*c);M(a);b=a.s;b.G=Eb;b.H=new I(0.55,1);t.v(a);return b},Buffer:function(a,b,c){a=t.u();J(a,0,0,!0);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);M(a);b=a.s;b.G=new I(0,0.25);b.H=new I(0.5,0.75);t.v(a);return b},Clock:function(a,b,c){a=t.u();var d=0.5*H.va;J(a,1* b,0.5*c,!0);K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);K(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);K(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);K(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);J(a,1*b,0.5*c,!1);a.lineTo(1*b,0.5*c);J(a,0.8*b,0.75*c,!1);a.lineTo(0.8*b,0.25*c);a.lineTo(0.6*b,0.25*c);a.lineTo(0.6*b,0.75*c);a.lineTo(0.4*b,0.75*c);a.lineTo(0.4*b,0.25*c);a.lineTo(0.2*b,0.25*c);a.lineTo(0.2*b,0.75*c);a.bb(!1);b=a.s;b.vc=Wg;t.v(a);return b},Ground:function(a,b,c){a=t.u();J(a,0.5*b,0,!1);a.lineTo(0.5*b,0.4*c); a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.3*b,0.8*c);a.lineTo(0.7*b,0.8*c);a.moveTo(0.4*b,1*c);a.lineTo(0.6*b,1*c);b=a.s;t.v(a);return b},Inverter:function(a,b,c){a=t.u();var d=0.1*H.va;J(a,0.8*b,0.5*c,!0);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.8*b,0.5*c);J(a,1*b,0.5*c,!0);K(a,1*b,(0.5+d)*c,(0.9+d)*b,0.6*c,0.9*b,0.6*c);K(a,(0.9-d)*b,0.6*c,0.8*b,(0.5+d)*c,0.8*b,0.5*c);K(a,0.8*b,(0.5-d)*c,(0.9-d)*b,0.4*c,0.9*b,0.4*c);K(a,(0.9+d)*b,0.4*c,1*b,(0.5-d)*c,1*b,0.5*c);b=a.s;b.G=new I(0,0.25); b.H=new I(0.4,0.75);t.v(a);return b},NandGate:function(a,b,c){a=t.u();var d=H.va,f=0.5*d,g=0.4*d,d=0.1*d;J(a,0.8*b,0.5*c,!0);K(a,0.8*b,(0.5+g)*c,(0.4+f)*b,1*c,0.4*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.4*b,0);K(a,(0.4+f)*b,0,0.8*b,(0.5-g)*c,0.8*b,0.5*c);J(a,1*b,0.5*c,!0);K(a,1*b,(0.5+d)*c,(0.9+d)*b,0.6*c,0.9*b,0.6*c);K(a,(0.9-d)*b,0.6*c,0.8*b,(0.5+d)*c,0.8*b,0.5*c);K(a,0.8*b,(0.5-d)*c,(0.9-d)*b,0.4*c,0.9*b,0.4*c);K(a,(0.9+d)*b,0.4*c,1*b,(0.5-d)*c,1*b,0.5*c);b=a.s;b.G=new I(0,0.05);b.H=new I(0.55, 0.95);t.v(a);return b},NorGate:function(a,b,c){a=t.u();var d=H.va,f=0.5,g=d*f,h=0,k=0.5;J(a,0.8*b,0.5*c,!0);K(a,0.7*b,(k+g)*c,(h+g)*b,(k+f)*c,0,1*c);K(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);K(a,(h+g)*b,(k-f)*c,0.7*b,(k-g)*c,0.8*b,0.5*c);f=0.1;g=0.1*d;h=0.9;k=0.5;J(a,(h-f)*b,k*c,!0);K(a,(h-f)*b,(k-g)*c,(h-g)*b,(k-f)*c,h*b,(k-f)*c);K(a,(h+g)*b,(k-f)*c,(h+f)*b,(k-g)*c,(h+f)*b,k*c);K(a,(h+f)*b,(k+g)*c,(h+g)*b,(k+f)*c,h*b,(k+f)*c);K(a,(h-g)*b,(k+f)*c,(h-f)*b,(k+g)*c,(h-f)*b,k*c);b=a.s;b.G=new I(0.2,0.25); b.H=new I(0.6,0.75);t.v(a);return b},OrGate:function(a,b,c){a=t.u();var d=0.5*H.va;J(a,0,0,!0);K(a,(0+d+d)*b,0*c,0.8*b,(0.5-d)*c,1*b,0.5*c);K(a,0.8*b,(0.5+d)*c,(0+d+d)*b,1*c,0,1*c);K(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);M(a);b=a.s;b.G=new I(0.2,0.25);b.H=new I(0.75,0.75);t.v(a);return b},XnorGate:function(a,b,c){a=t.u();var d=H.va,f=0.5,g=d*f,h=0.2,k=0.5;J(a,0.1*b,0,!1);K(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);J(a,0.8*b,0.5*c,!0);K(a,0.7*b,(k+g)*c,(h+g)*b,(k+f)*c,0.2*b,1*c);K(a,0.45*b,0.75*c,0.45* b,0.25*c,0.2*b,0);K(a,(h+g)*b,(k-f)*c,0.7*b,(k-g)*c,0.8*b,0.5*c);f=0.1;g=0.1*d;h=0.9;k=0.5;J(a,(h-f)*b,k*c,!0);K(a,(h-f)*b,(k-g)*c,(h-g)*b,(k-f)*c,h*b,(k-f)*c);K(a,(h+g)*b,(k-f)*c,(h+f)*b,(k-g)*c,(h+f)*b,k*c);K(a,(h+f)*b,(k+g)*c,(h+g)*b,(k+f)*c,h*b,(k+f)*c);K(a,(h-g)*b,(k+f)*c,(h-f)*b,(k+g)*c,(h-f)*b,k*c);b=a.s;b.G=new I(0.4,0.25);b.H=new I(0.65,0.75);t.v(a);return b},XorGate:function(a,b,c){a=t.u();var d=0.5*H.va;J(a,0.1*b,0,!1);K(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);J(a,0.2*b,0,!0);K(a,(0.2+ d)*b,0*c,0.9*b,(0.5-d)*c,1*b,0.5*c);K(a,0.9*b,(0.5+d)*c,(0.2+d)*b,1*c,0.2*b,1*c);K(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);M(a);b=a.s;b.G=new I(0.4,0.25);b.H=new I(0.8,0.75);t.v(a);return b},Capacitor:function(a,b,c){a=t.u();J(a,0,0,!1);a.lineTo(0,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.s;t.v(a);return b},Resistor:function(a,b,c){a=t.u();J(a,0,0.5*c,!1);a.lineTo(0.1*b,0);a.lineTo(0.2*b,1*c);a.lineTo(0.3*b,0);a.lineTo(0.4*b,1*c);a.lineTo(0.5*b,0);a.lineTo(0.6*b,1*c);a.lineTo(0.7*b,0.5*c);b=a.s;t.v(a); return b},Inductor:function(a,b,c){a=t.u();var d=0.1*H.va,f=0.1;J(a,(f-0.5*d)*b,c,!1);K(a,(f-d)*b,c,(f-0.1)*b,0,(f+0.1)*b,0);f=0.3;K(a,(f+0.1)*b,0,(f+d)*b,c,f*b,c);K(a,(f-d)*b,c,(f-0.1)*b,0,(f+0.1)*b,0);f=0.5;K(a,(f+0.1)*b,0,(f+d)*b,c,f*b,c);K(a,(f-d)*b,c,(f-0.1)*b,0,(f+0.1)*b,0);f=0.7;K(a,(f+0.1)*b,0,(f+d)*b,c,f*b,c);K(a,(f-d)*b,c,(f-0.1)*b,0,(f+0.1)*b,0);f=0.9;K(a,(f+0.1)*b,0,(f+d)*b,c,(f+0.5*d)*b,c);b=a.s;t.v(a);return b},ACvoltageSource:function(a,b,c){a=t.u();var d=0.5*H.va;J(a,0*b,0.5*c,!1); K(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);K(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);K(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);a.moveTo(0.1*b,0.5*c);K(a,0.5*b,0*c,0.5*b,1*c,0.9*b,0.5*c);b=a.s;b.vc=Wg;t.v(a);return b},DCvoltageSource:function(a,b,c){a=t.u();J(a,0,0.75*c,!1);a.lineTo(0,0.25*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.s;t.v(a);return b},Diode:function(a,b,c){a=t.u();J(a,1*b,0,!1);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b, 0.5*c);a.lineTo(1*b,1*c);b=a.s;b.G=new I(0,0.25);b.H=new I(0.5,0.75);t.v(a);return b},Wifi:function(a,b,c){var d=b,f=c;b*=0.38;c*=0.6;a=t.u();var g=H.va,h=0.8*g,k=0.8,l=0,m=0.5,d=(d-b)/2,f=(f-c)/2;J(a,l*b+d,(m+k)*c+f,!0);K(a,(l-h)*b+d,(m+k)*c+f,(l-k)*b+d,(m+h)*c+f,(l-k)*b+d,m*c+f);K(a,(l-k)*b+d,(m-h)*c+f,(l-h)*b+d,(m-k)*c+f,l*b+d,(m-k)*c+f);K(a,l*b+d,(m-k)*c+f,(l-k+0.5*h)*b+d,(m-h)*c+f,(l-k+0.5*h)*b+d,m*c+f);K(a,(l-k+0.5*h)*b+d,(m+h)*c+f,l*b+d,(m+k)*c+f,l*b+d,(m+k)*c+f);M(a);h=0.4*g;k=0.4;l=0.2;m= 0.5;J(a,l*b+d,(m+k)*c+f,!0);K(a,(l-h)*b+d,(m+k)*c+f,(l-k)*b+d,(m+h)*c+f,(l-k)*b+d,m*c+f);K(a,(l-k)*b+d,(m-h)*c+f,(l-h)*b+d,(m-k)*c+f,l*b+d,(m-k)*c+f);K(a,l*b+d,(m-k)*c+f,(l-k+0.5*h)*b+d,(m-h)*c+f,(l-k+0.5*h)*b+d,m*c+f);K(a,(l-k+0.5*h)*b+d,(m+h)*c+f,l*b+d,(m+k)*c+f,l*b+d,(m+k)*c+f);M(a);h=0.2*g;k=0.2;m=l=0.5;J(a,(l-k)*b+d,m*c+f,!0);K(a,(l-k)*b+d,(m-h)*c+f,(l-h)*b+d,(m-k)*c+f,l*b+d,(m-k)*c+f);K(a,(l+h)*b+d,(m-k)*c+f,(l+k)*b+d,(m-h)*c+f,(l+k)*b+d,m*c+f);K(a,(l+k)*b+d,(m+h)*c+f,(l+h)*b+d,(m+k)*c+f,l* b+d,(m+k)*c+f);K(a,(l-h)*b+d,(m+k)*c+f,(l-k)*b+d,(m+h)*c+f,(l-k)*b+d,m*c+f);h=0.4*g;k=0.4;l=0.8;m=0.5;J(a,l*b+d,(m-k)*c+f,!0);K(a,(l+h)*b+d,(m-k)*c+f,(l+k)*b+d,(m-h)*c+f,(l+k)*b+d,m*c+f);K(a,(l+k)*b+d,(m+h)*c+f,(l+h)*b+d,(m+k)*c+f,l*b+d,(m+k)*c+f);K(a,l*b+d,(m+k)*c+f,(l+k-0.5*h)*b+d,(m+h)*c+f,(l+k-0.5*h)*b+d,m*c+f);K(a,(l+k-0.5*h)*b+d,(m-h)*c+f,l*b+d,(m-k)*c+f,l*b+d,(m-k)*c+f);M(a);h=0.8*g;k=0.8;l=1;m=0.5;J(a,l*b+d,(m-k)*c+f,!0);K(a,(l+h)*b+d,(m-k)*c+f,(l+k)*b+d,(m-h)*c+f,(l+k)*b+d,m*c+f);K(a,(l+ k)*b+d,(m+h)*c+f,(l+h)*b+d,(m+k)*c+f,l*b+d,(m+k)*c+f);K(a,l*b+d,(m+k)*c+f,(l+k-0.5*h)*b+d,(m+h)*c+f,(l+k-0.5*h)*b+d,m*c+f);K(a,(l+k-0.5*h)*b+d,(m-h)*c+f,l*b+d,(m-k)*c+f,l*b+d,(m-k)*c+f);M(a);b=a.s;t.v(a);return b},Email:function(a,b,c){a=t.u();J(a,0,0,!0);a.lineTo(1*b,0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);M(a);J(a,0,0,!1);a.lineTo(0.5*b,0.6*c);a.lineTo(1*b,0);a.moveTo(0,1*c);a.lineTo(0.45*b,0.54*c);a.moveTo(1*b,1*c);a.lineTo(0.55*b,0.54*c);a.bb(!1);b=a.s;t.v(a);return b},Ethernet:function(a, b,c){a=t.u();J(a,0.35*b,0,!0);a.lineTo(0.65*b,0);a.lineTo(0.65*b,0.4*c);a.lineTo(0.35*b,0.4*c);a.lineTo(0.35*b,0);M(a);J(a,0.1*b,1*c,!0,!0);a.lineTo(0.4*b,1*c);a.lineTo(0.4*b,0.6*c);a.lineTo(0.1*b,0.6*c);a.lineTo(0.1*b,1*c);M(a);J(a,0.6*b,1*c,!0,!0);a.lineTo(0.9*b,1*c);a.lineTo(0.9*b,0.6*c);a.lineTo(0.6*b,0.6*c);a.lineTo(0.6*b,1*c);M(a);J(a,0,0.5*c,!1);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.5*b,0.4*c);a.moveTo(0.75*b,0.5*c);a.lineTo(0.75*b,0.6*c);a.moveTo(0.25*b,0.5*c);a.lineTo(0.25* b,0.6*c);a.bb(!1);b=a.s;t.v(a);return b},Power:function(a,b,c){a=t.u();var d=H.va,f=0.4*d,g=0.4,h=t.K(),k=t.K(),l=t.K(),m=t.K();H.Ui(0.5,0.5-g,0.5+f,0.5-g,0.5+g,0.5-f,0.5+g,0.5,0.5,h,h,k,l,m);var n=t.mc(k.x,k.y);J(a,k.x*b,k.y*c,!0);K(a,l.x*b,l.y*c,m.x*b,m.y*c,(0.5+g)*b,0.5*c);K(a,(0.5+g)*b,(0.5+f)*c,(0.5+f)*b,(0.5+g)*c,0.5*b,(0.5+g)*c);K(a,(0.5-f)*b,(0.5+g)*c,(0.5-g)*b,(0.5+f)*c,(0.5-g)*b,0.5*c);H.Ui(0.5-g,0.5,0.5-g,0.5-f,0.5-f,0.5-g,0.5,0.5-g,0.5,l,m,k,h,h);K(a,l.x*b,l.y*c,m.x*b,m.y*c,k.x*b,k.y* c);f=0.3*d;g=0.3;H.Ui(0.5-g,0.5,0.5-g,0.5-f,0.5-f,0.5-g,0.5,0.5-g,0.5,l,m,k,h,h);a.lineTo(k.x*b,k.y*c);K(a,m.x*b,m.y*c,l.x*b,l.y*c,(0.5-g)*b,0.5*c);K(a,(0.5-g)*b,(0.5+f)*c,(0.5-f)*b,(0.5+g)*c,0.5*b,(0.5+g)*c);K(a,(0.5+f)*b,(0.5+g)*c,(0.5+g)*b,(0.5+f)*c,(0.5+g)*b,0.5*c);H.Ui(0.5,0.5-g,0.5+f,0.5-g,0.5+g,0.5-f,0.5+g,0.5,0.5,h,h,k,l,m);K(a,m.x*b,m.y*c,l.x*b,l.y*c,k.x*b,k.y*c);M(a);J(a,0.45*b,0,!0);a.lineTo(0.45*b,0.5*c);a.lineTo(0.55*b,0.5*c);a.lineTo(0.55*b,0);M(a);t.B(h);t.B(k);t.B(l);t.B(m);t.B(n); b=a.s;b.G=new I(0.25,0.55);b.H=new I(0.75,0.8);t.v(a);return b},Fallout:function(a,b,c){a=t.u();var d=0.5*H.va;J(a,0*b,0.5*c,!0);K(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);K(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);K(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);var f=d=0;J(a,(0.3+d)*b,(0.8+f)*c,!0,!0);a.lineTo((0.5+d)*b,(0.5+f)*c);a.lineTo((0.1+d)*b,(0.5+f)*c);a.lineTo((0.3+d)*b,(0.8+f)*c);d=0.4;f=0;M(a);J(a,(0.3+d)*b,(0.8+f)*c,!0,!0);a.lineTo((0.5+d)*b,(0.5+ f)*c);a.lineTo((0.1+d)*b,(0.5+f)*c);a.lineTo((0.3+d)*b,(0.8+f)*c);d=0.2;f=-0.3;M(a);J(a,(0.3+d)*b,(0.8+f)*c,!0,!0);a.lineTo((0.5+d)*b,(0.5+f)*c);a.lineTo((0.1+d)*b,(0.5+f)*c);a.lineTo((0.3+d)*b,(0.8+f)*c);M(a);b=a.s;b.vc=Wg;t.v(a);return b},IrritationHazard:function(a,b,c){a=t.u();J(a,0.2*b,0*c,!0);a.lineTo(0.5*b,0.3*c);a.lineTo(0.8*b,0*c);a.lineTo(1*b,0.2*c);a.lineTo(0.7*b,0.5*c);a.lineTo(1*b,0.8*c);a.lineTo(0.8*b,1*c);a.lineTo(0.5*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0*b,0.8*c);a.lineTo(0.3*b, 0.5*c);a.lineTo(0*b,0.2*c);M(a);b=a.s;b.G=new I(0.3,0.3);b.H=new I(0.7,0.7);t.v(a);return b},ElectricalHazard:function(a,b,c){a=t.u();J(a,0.37,0*c,!0);a.lineTo(0.5*b,0.11*c);a.lineTo(0.77*b,0.04*c);a.lineTo(0.33*b,0.49*c);a.lineTo(1*b,0.37*c);a.lineTo(0.63*b,0.86*c);a.lineTo(0.77*b,0.91*c);a.lineTo(0.34*b,1*c);a.lineTo(0.34*b,0.78*c);a.lineTo(0.44*b,0.8*c);a.lineTo(0.65*b,0.56*c);a.lineTo(0*b,0.68*c);M(a);b=a.s;t.v(a);return b},FireHazard:function(a,b,c){a=t.u();J(a,0.1*b,1*c,!0);K(a,-0.25*b,0.63* c,0.45*b,0.44*c,0.29*b,0*c);K(a,0.48*b,0.17*c,0.54*b,0.35*c,0.51*b,0.42*c);K(a,0.59*b,0.29*c,0.58*b,0.28*c,0.59*b,0.18*c);K(a,0.8*b,0.34*c,0.88*b,0.43*c,0.75*b,0.6*c);K(a,0.87*b,0.48*c,0.88*b,0.43*c,0.88*b,0.31*c);K(a,1.17*b,0.76*c,0.82*b,0.8*c,0.9*b,1*c);M(a);b=a.s;b.G=new I(0.05,0.645);b.H=new I(0.884,0.908);t.v(a);return b},BpmnActivityLoop:function(a,b,c){a=t.u();var d=4*(Math.SQRT2-1)/3*0.5;J(a,(0.5*Math.SQRT2/2+0.5)*b,(1-(0.5-0.5*Math.SQRT2/2))*c,!1);K(a,1*b,0.7*c,1*b,0.5*c,1*b,0.5*c);K(a,1* b,(0.5-d+0)*c,(0.5+d+0)*b,0*c,0.5*b,0*c);K(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);K(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.35*b,0.98*c);a.moveTo(0.35*b,0.8*c);a.lineTo(0.35*b,1*c);a.lineTo(0.15*b,1*c);b=a.s;t.v(a);return b},BpmnActivityParallel:function(a,b,c){a=t.u();J(a,0,0,!1);a.lineTo(0,1*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);b=a.s;t.v(a);return b},BpmnActivitySequential:function(a,b,c){a=t.u();J(a,0,0,!1);a.lineTo(1*b,0);a.moveTo(0,0.5*c);a.lineTo(1*b, 0.5*c);a.moveTo(0,1*c);a.lineTo(1*b,1*c);b=a.s;t.v(a);return b},BpmnActivityAdHoc:function(a,b,c){a=t.u();J(a,0,0,!1);J(a,1*b,1*c,!1);J(a,0,0.5*c,!1);K(a,0.2*b,0.35*c,0.3*b,0.35*c,0.5*b,0.5*c);K(a,0.7*b,0.65*c,0.8*b,0.65*c,1*b,0.5*c);b=a.s;t.v(a);return b},BpmnActivityCompensation:function(a,b,c){a=t.u();J(a,0,0.5*c,!0);a.lineTo(0.5*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(0.5*b,1*c);M(a);b=a.s;t.v(a);return b},BpmnTaskMessage:function(a,b,c){a=t.u(); J(a,0,0.2*c,!0);a.lineTo(1*b,0.2*c);a.lineTo(1*b,0.8*c);a.lineTo(0,0.8*c);a.lineTo(0,0.8*c);M(a);J(a,0,0.2*c,!1);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,0.2*c);a.bb(!1);b=a.s;t.v(a);return b},BpmnTaskScript:function(a,b,c){a=t.u();J(a,0.7*b,1*c,!0);a.lineTo(0.3*b,1*c);K(a,0.6*b,0.5*c,0,0.5*c,0.3*b,0);a.lineTo(0.7*b,0);K(a,0.4*b,0.5*c,1*b,0.5*c,0.7*b,1*c);M(a);J(a,0.45*b,0.73*c,!1);a.lineTo(0.7*b,0.73*c);a.moveTo(0.38*b,0.5*c);a.lineTo(0.63*b,0.5*c);a.moveTo(0.31*b,0.27*c);a.lineTo(0.56*b,0.27*c);a.bb(!1); b=a.s;t.v(a);return b},BpmnTaskUser:function(a,b,c){a=t.u();J(a,0,0,!1);J(a,0.335*b,(1-0.555)*c,!0);a.lineTo(0.335*b,0.595*c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.665*b,(1-0.555)*c);K(a,0.88*b,0.46*c,0.98*b,0.54*c,1*b,0.68*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.68*c);K(a,0.02*b,0.54*c,0.12*b,0.46*c,0.335*b,(1-0.555)*c);a.lineTo(0.365*b,0.405*c);var d=0.5-0.285,f=Math.PI/4,g=4*(1-Math.cos(f))/(3*Math.sin(f)),f=g*d,g=g*d;K(a,(0.5-(f+d)/2)*b,(d+(d+g)/2)*c,(0.5-d)*b,(d+g)*c,(0.5-d)*b,d*c); K(a,(0.5-d)*b,(d-g)*c,(0.5-f)*b,(d-d)*c,0.5*b,(d-d)*c);K(a,(0.5+f)*b,(d-d)*c,(0.5+d)*b,(d-g)*c,(0.5+d)*b,d*c);K(a,(0.5+d)*b,(d+g)*c,(0.5+(f+d)/2)*b,(d+(d+g)/2)*c,0.635*b,0.405*c);a.lineTo(0.635*b,0.405*c);a.lineTo(0.665*b,(1-0.555)*c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.335*b,0.595*c);J(a,0.2*b,1*c,!1);a.lineTo(0.2*b,0.8*c);J(a,0.8*b,1*c,!1);a.lineTo(0.8*b,0.8*c);b=a.s;t.v(a);return b},BpmnEventConditional:function(a,b,c){a=t.u();J(a,0.1*b,0,!0);a.lineTo(0.9*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.1* b,1*c);M(a);J(a,0.2*b,0.2*c,!1);a.lineTo(0.8*b,0.2*c);a.moveTo(0.2*b,0.4*c);a.lineTo(0.8*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.2*b,0.8*c);a.lineTo(0.8*b,0.8*c);a.bb(!1);b=a.s;t.v(a);return b},BpmnEventError:function(a,b,c){a=t.u();J(a,0,1*c,!0);a.lineTo(0.33*b,0);a.lineTo(0.66*b,0.5*c);a.lineTo(1*b,0);a.lineTo(0.66*b,1*c);a.lineTo(0.33*b,0.5*c);M(a);b=a.s;t.v(a);return b},BpmnEventEscalation:function(a,b,c){a=t.u();J(a,0,0,!1);J(a,1*b,1*c,!1);J(a,0.1*b,1*c,!0);a.lineTo(0.5* b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.5*c);M(a);b=a.s;t.v(a);return b},BpmnEventTimer:function(a,b,c){a=t.u();var d=0.5*H.va;J(a,1*b,0.5*c,!0);K(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);K(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);K(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);K(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);J(a,0.5*b,0,!1);a.lineTo(0.5*b,0.15*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0.85*c);a.moveTo(0,0.5*c);a.lineTo(0.15*b,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(0.85*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.58* b,0.1*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.78*b,0.54*c);a.bb(!1);b=a.s;b.vc=Wg;t.v(a);return b}};H.NA={};for(var um in H.aj)H.aj[um.toLowerCase()]=um; H.gw={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8", BackwardOpenTriangleLine:"m 8,0 l -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4", BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8", TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4", BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z", DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z", TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z", OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8", OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"};H.Bm={};H.QJ=function(){if(H.gw){for(var a in H.gw){var b=Rc(H.gw[a],!1);H.Bm[a]=b;a.toLowerCase()!==a&&(H.Bm[a.toLowerCase()]=a)}H.gw=void 0}}; H.SD=function(a){H.QJ();var b=H.Bm[a];if(void 0===b){b=a.toLowerCase();if("none"===b)return"None";b=H.Bm[b]}return"string"===typeof b?b:b instanceof zc?a:null};W.FigureGenerators=H.aj;W.ArrowheadGeometries=H.Bm; function E(a){0===arguments.length?y.call(this):y.call(this,a);this.W=311807;this.Jk=this.rh="";this.Zr=this.Wr=this.is=this.jr=null;this.ks="";this.ji=this.js=this.rm=null;this.Yr="";this.vo=null;this.Xr=(new ga(NaN,NaN)).freeze();this.$r="";this.wo=null;this.ke="";this.lo=this.xq=this.yk=null;this.Yg=(new w(NaN,NaN)).freeze();this.qr="";this.Mk=null;this.rr=Eb;this.Ar=H.cH;this.tr=H.bH;this.Hq=null;this.kr=vm;this.um=(new w(6,6)).freeze();this.tm="gray";this.sm=4;this.CC=-1;this.mH=new x;this.Fj= null;this.Cj=NaN}t.ga("Part",E);t.Ka(E,y);E.prototype.cloneProtected=function(a){y.prototype.cloneProtected.call(this,a);a.W=this.W&-4097|49152;a.rh=this.rh;a.Jk=this.Jk;a.jr=this.jr;a.is=this.is;a.Wr=this.Wr;a.Zr=this.Zr;a.ks=this.ks;a.js=this.js;a.ji=null;a.Yr=this.Yr;a.Xr.assign(this.Xr);a.$r=this.$r;a.ke=this.ke;a.xq=this.xq;a.Yg.assign(this.Yg);a.qr=this.qr;a.rr=this.rr.Z();a.Ar=this.Ar.Z();a.tr=this.tr.Z();a.Hq=this.Hq;a.kr=this.kr;a.um.assign(this.um);a.tm=this.tm;a.sm=this.sm}; E.prototype.Yh=function(a){y.prototype.Yh.call(this,a);sk(a);a.rm=null;a.vo=null;a.wo=null;a.Mk=null;a.Fj=null};E.prototype.toString=function(){var a=t.xg(Object.getPrototypeOf(this))+"#"+t.od(this);this.data&&(a+="("+yd(this.data)+")");return a};E.LayoutNone=0;var $i;E.LayoutAdded=$i=1;var fj;E.LayoutRemoved=fj=2;E.LayoutShown=4;E.LayoutHidden=8;E.LayoutNodeSized=16;var Mj;E.LayoutGroupLayout=Mj=32;E.LayoutNodeReplaced=64;var vm;E.LayoutStandard=vm=$i|fj|28|Mj|64; E.prototype.fn=function(a,b,c,d,f,g,h){var k=this.h;null!==k&&(a===wd&&"elements"===b?f instanceof y&&aj(f,function(a){bj(k,a)}):a===xd&&"elements"===b&&f instanceof y&&aj(f,function(a){ej(k,a)}),k.Ic(a,b,c,d,f,g,h))};E.prototype.updateTargetBindings=E.prototype.Kb=function(a){y.prototype.Kb.call(this,a);if(null!==this.data){a=this.xa.n;for(var b=a.length,c=0;c=c.uF)){this.W^=4096;var d=!1;if(null!==c){d=c.Wa;c.Wa=!0;var f=c.selection;f.La();a?f.add(this):f.remove(this);f.freeze()}this.j("isSelected",b,a);hj(this);a=this.jG;null!==a&&a(this);null!==c&&(c.te(),c.Wa=d)}}});t.g(E,"isHighlighted",E.prototype.zg); t.defineProperty(E,{zg:"isHighlighted"},function(){return 0!==(this.W&524288)},function(a){var b=0!==(this.W&524288);if(b!==a){e&&t.i(a,"boolean",E,"isHighlighted");this.W^=524288;var c=this.h;null!==c&&(c=c.Lw,c.La(),a?c.add(this):c.remove(this),c.freeze());this.j("isHighlighted",b,a);this.fa()}});t.g(E,"isShadowed",E.prototype.fj); t.defineProperty(E,{fj:"isShadowed"},function(){return 0!==(this.W&8192)},function(a){var b=0!==(this.W&8192);b!==a&&(e&&t.i(a,"boolean",E,"isShadowed"),this.W^=8192,this.j("isShadowed",b,a),this.fa())});function Ri(a){return 0!==(a.W&32768)}function xm(a,b){a.W=b?a.W|32768:a.W&-32769}function uk(a,b){a.W=b?a.W|65536:a.W&-65537}function Ph(a){return 0!==(a.W&131072)}E.prototype.Df=function(a){this.W=a?this.W|131072:this.W&-131073};t.g(E,"isAnimated",E.prototype.oA); t.defineProperty(E,{oA:"isAnimated"},function(){return 0!==(this.W&262144)},function(a){var b=0!==(this.W&262144);b!==a&&(e&&t.i(a,"boolean",E,"isAnimated"),this.W^=262144,this.j("isAnimated",b,a))});t.g(E,"selectionObjectName",E.prototype.qx);t.defineProperty(E,{qx:"selectionObjectName"},function(){return this.ks},function(a){var b=this.ks;b!==a&&(e&&t.i(a,"string",E,"selectionObjectName"),this.ks=a,this.rm=null,this.j("selectionObjectName",b,a))});t.g(E,"selectionAdornmentTemplate",E.prototype.iG); t.defineProperty(E,{iG:"selectionAdornmentTemplate"},function(){return this.is},function(a){var b=this.is;b!==a&&(e&&t.l(a,Je,E,"selectionAdornmentTemplate"),this instanceof V&&(a.type=vg),this.is=a,this.j("selectionAdornmentTemplate",b,a))});t.A(E,{Pt:"selectionObject"},function(){if(null===this.rm){var a=this.qx;null!==a&&""!==a?(a=this.ne(a),this.rm=null!==a?a:this):this instanceof V?(a=this.path,this.rm=null!==a?a:this):this.rm=this}return this.rm});t.g(E,"selectionChanged",E.prototype.jG); t.defineProperty(E,{jG:"selectionChanged"},function(){return this.js},function(a){var b=this.js;b!==a&&(null!==a&&t.i(a,"function",E,"selectionChanged"),this.js=a,this.j("selectionChanged",b,a))});t.g(E,"resizeAdornmentTemplate",E.prototype.UF);t.defineProperty(E,{UF:"resizeAdornmentTemplate"},function(){return this.Wr},function(a){var b=this.Wr;b!==a&&(e&&t.l(a,Je,E,"resizeAdornmentTemplate"),this.Wr=a,this.j("resizeAdornmentTemplate",b,a))});t.g(E,"resizeObjectName",E.prototype.XF); t.defineProperty(E,{XF:"resizeObjectName"},function(){return this.Yr},function(a){var b=this.Yr;b!==a&&(e&&t.i(a,"string",E,"resizeObjectName"),this.Yr=a,this.vo=null,this.j("resizeObjectName",b,a))});t.A(E,{WF:"resizeObject"},function(){if(null===this.vo){var a=this.XF;null!==a&&""!==a?(a=this.ne(a),this.vo=null!==a?a:this):this.vo=this}return this.vo});t.g(E,"resizeCellSize",E.prototype.VF); t.defineProperty(E,{VF:"resizeCellSize"},function(){return this.Xr},function(a){var b=this.Xr;b.M(a)||(e&&t.l(a,ga,E,"resizeCellSize"),this.Xr=a=a.Z(),this.j("resizeCellSize",b,a))});t.g(E,"rotateAdornmentTemplate",E.prototype.$F);t.defineProperty(E,{$F:"rotateAdornmentTemplate"},function(){return this.Zr},function(a){var b=this.Zr;b!==a&&(e&&t.l(a,Je,E,"rotateAdornmentTemplate"),this.Zr=a,this.j("rotateAdornmentTemplate",b,a))});t.g(E,"rotateObjectName",E.prototype.bG); t.defineProperty(E,{bG:"rotateObjectName"},function(){return this.$r},function(a){var b=this.$r;b!==a&&(e&&t.i(a,"string",E,"rotateObjectName"),this.$r=a,this.wo=null,this.j("rotateObjectName",b,a))});t.A(E,{aG:"rotateObject"},function(){if(null===this.wo){var a=this.bG;null!==a&&""!==a?(a=this.ne(a),this.wo=null!==a?a:this):this.wo=this}return this.wo});t.g(E,"text",E.prototype.text); t.defineProperty(E,{text:"text"},function(){return this.ke},function(a){var b=this.ke;b!==a&&(e&&t.i(a,"string",E,"text"),this.ke=a,this.j("text",b,a))});t.g(E,"containingGroup",E.prototype.hb); t.defineProperty(E,{hb:"containingGroup"},function(){return this.yk},function(a){if(this.Ld()){var b=this.yk;if(b!==a){e&&null!==a&&t.l(a,T,E,"containingGroup");null===a||this!==a&&!a.ml(this)||(this===a&&t.m("Cannot make a Group a member of itself: "+this.toString()),t.m("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+a.toString()));this.J(fj);var c=this.h;null!==b?Cm(b,this):this instanceof T&&null!==c&&c.Tk.remove(this);this.yk=a;null!==a?Dm(a,this):this instanceof T&&null!==c&&c.Tk.add(this);this.J($i);if(null!==c){var d=this.data,f=c.ba;null!==d&&f instanceof P&&f.vx(d,f.Hb(null!==a?a.data:null))}d=this.Wz;null!==d&&(f=!0,null!==c&&(f=c.Ma,c.Ma=!0),d(this,b,a),null!==c&&(c.Ma=f));if(this instanceof T)for(c=new C(E),Ie(c,this,!0,0),c=c.k;c.next();)if(d=c.value,d instanceof S)for(d=d.qe;d.next();)f=d.value,Ij(f);if(this instanceof S)for(d=this.qe;d.next();)f=d.value,Ij(f);this.j("containingGroup",b,a);null!==a&&a.xx()}}else t.m("cannot set the Part.containingGroup of a Link or Adornment")}); function sk(a){a=a.hb;null!==a&&(a.ha(),null!==a.Jb&&a.Jb.ha(),a.vf())}E.prototype.lt=function(a){var b=this.yk;null===b||a||Dm(b,this)};E.prototype.mt=function(a){var b=this.yk;null===b||a||Cm(b,this)};E.prototype.Mm=function(){var a=this.data;if(null!==a){var b=this.h;null!==b&&(b=b.ba,null!==b&&b.nx(a))}};t.g(E,"containingGroupChanged",E.prototype.Wz); t.defineProperty(E,{Wz:"containingGroupChanged"},function(){return this.xq},function(a){var b=this.xq;b!==a&&(null!==a&&t.i(a,"function",E,"containingGroupChanged"),this.xq=a,this.j("containingGroupChanged",b,a))});E.prototype.findTopLevelPart=function(){return Em(this,this)};function Em(a,b){var c=b.hb;return null!==c?Em(a,c):b instanceof S&&(c=b.Zd,null!==c)?Em(a,c):b}t.A(E,{sp:"isTopLevel"},function(){return null!==this.hb||this instanceof S&&this.bi?!1:!0}); E.prototype.isMemberOf=E.prototype.ml=function(a){return a instanceof T?Fm(this,this,a):!1};function Fm(a,b,c){if(b===c||null===c)return!1;var d=b.hb;return null===d||d!==c&&!Fm(a,d,c)?b instanceof S&&(b=b.Zd,null!==b)?Fm(a,b,c):!1:!0}E.prototype.findCommonContainingGroup=E.prototype.EI=function(a){return Gm(this,this,a)}; function Gm(a,b,c){if(null===b||null===c)return null;var d=b.hb;if(null===d)return null;if(b===c)return d;var f=c.hb;return null===f?null:d===f?f:Fm(a,c,d)?d:Fm(a,b,f)?f:Gm(a,d,f)}t.g(E,"layoutConditions",E.prototype.mF);t.defineProperty(E,{mF:"layoutConditions"},function(){return this.kr},function(a){var b=this.kr;b!==a&&(e&&t.i(a,"number",E,"layoutConditions"),this.kr=a,this.j("layoutConditions",b,a))}); E.prototype.canLayout=function(){if(!this.wA||!this.Pa())return!1;var a=this.layer;return null!==a&&a.yc||this instanceof S&&this.bi?!1:!0};E.prototype.invalidateLayout=E.prototype.J=function(a){void 0===a&&(a=16777215);var b;this.wA&&0!==(a&this.mF)?(b=this.layer,null!==b&&b.yc||this instanceof S&&this.bi?b=!1:(b=this.h,b=null!==b&&b.la.vb?!1:!0)):b=!1;if(b)if(b=this.yk,null!==b){var c=b.jc;null!==c?c.J():b.J(a)}else a=this.h,null!==a&&(c=a.jc,null!==c&&c.J())}; function dj(a){if(!a.Pa())return!1;a=a.layer;return null!==a&&a.yc?!1:!0}t.g(E,"dragComputation",E.prototype.aA);t.defineProperty(E,{aA:"dragComputation"},function(){return this.Hq},function(a){var b=this.Hq;b!==a&&(null!==a&&t.i(a,"function",E,"dragComputation"),this.Hq=a,this.j("dragComputation",b,a))});t.g(E,"shadowOffset",E.prototype.pG); t.defineProperty(E,{pG:"shadowOffset"},function(){return this.um},function(a){var b=this.um;b.M(a)||(e&&t.l(a,w,E,"shadowOffset"),this.um=a=a.Z(),this.fa(),this.j("shadowOffset",b,a))});t.g(E,"shadowColor",E.prototype.shadowColor);t.defineProperty(E,{shadowColor:"shadowColor"},function(){return this.tm},function(a){var b=this.tm;b!==a&&(e&&t.i(a,"string",E,"shadowColor"),this.tm=a,this.fa(),this.j("shadowColor",b,a))});t.g(E,"shadowBlur",E.prototype.shadowBlur); t.defineProperty(E,{shadowBlur:"shadowBlur"},function(){return this.sm},function(a){var b=this.sm;b!==a&&(e&&t.i(a,"number",E,"shadowBlur"),this.sm=a,this.fa(),this.j("shadowBlur",b,a))});function Je(a){0===arguments.length?E.call(this,Zg):E.call(this,a);this.af="Adornment";this.jb=null;this.W&=-257;this.Yg=new w(NaN,NaN);this.li=new B(x);this.Jb=null}t.ga("Adornment",Je);t.Ka(Je,E);aa=Je.prototype;aa.toString=function(){var a=this.Wh;return"Adornment("+this.Zc+")"+(null!==a?a.toString():"")}; aa.uj=function(){return this.jb&&this.jb.S instanceof V?this.jb.S.uj():null};aa.Rq=function(){return null};aa.bx=function(){var a=this.pc.S,b=this.pc;if(a instanceof V&&b instanceof W){var c=a.path,b=c.Na;a.bx();for(var b=c.Na,a=this.xa,c=a.length,d=0;da&&(a=1);var b=this.h;if(null!==b&&!b.Wd){var c=b.Zb;0!==b.la.Je&&c.tl();b.Wd=!0;var c=b.pd,d=new C(S);d.add(this);Rm(this,d,c,a,this.Qc);b.Wd=!1;b.fa()}}; function Rm(a,b,c,d,f){if(1a&&(a=2);var b=this.h;if(null!==b&&!b.Wd){var c=b.Zb;0!==b.la.Je&&c.tl();b.Wd=!0;var d=b.pd,f=new C(S);f.add(this);Tm(this,f,d,a,this.Qc,c,this);b.Wd=!1}}; function Tm(a,b,c,d,f,g,h){for(var k=c?a.Cw():a.wg();k.next();){var l=k.value;l.Fc&&(f||(l.rg||l.ac(),l.updateAdornments()),l=l.jA(a),null!==l&&l!==a&&!b.contains(l)&&(b.add(l),f||(l.yf(!0),sk(l),Nh(g,l,h)),2a&&(a-=180);break;case Zm:a=H.Dt(c+90);90a&&(a-=180);break;case $m:a=H.Dt(c-90);90a&&(a-=180);break;case an:a=H.Dt(c);if(45a||225a)return 0;90a&&(a-=180)}return H.Dt(a)};t.g(V,"fromNode",V.prototype.aa); t.defineProperty(V,{aa:"fromNode"},function(){return this.eg},function(a){var b=this.eg;if(b!==a){e&&null!==a&&t.l(a,S,V,"fromNode");var c=this.ud;null!==b&&(this.qg!==b&&Pm(b,this,c),bn(this),this.J(fj));this.eg=a;this.ti=null;this.ac();var d=this.h;if(null!==d){var f=this.data,g=d.ba;if(null!==f)if(g instanceof P){var h=null!==a?a.data:null;g.ux(f,g.Hb(h))}else g instanceof Kd&&(h=null!==a?a.data:null,d.pd?g.lh(f,g.Hb(h)):(null!==b&&g.lh(b.data,void 0),g.lh(h,g.Hb(null!==this.qg?this.qg.data:null))))}f= this.ud;g=this.iA;null!==g&&(h=!0,null!==d&&(h=d.Ma,d.Ma=!0),g(this,c,f),null!==d&&(d.Ma=h));null!==a&&(this.qg!==a&&Om(a,this,f),cn(this),this.J($i));this.j("fromNode",b,a);Ij(this)}});t.g(V,"fromPortId",V.prototype.Rf); t.defineProperty(V,{Rf:"fromPortId"},function(){return this.Bh},function(a){var b=this.Bh;if(b!==a){e&&t.i(a,"string",V,"fromPortId");var c=this.ud;null!==c&&Nm(this.aa,c);bn(this);this.Bh=a;var d=this.ud;null!==d&&Nm(this.aa,d);var f=this.h;if(null!==f){var g=this.data,h=f.ba;null!==g&&h instanceof P&&h.aB(g,a)}c!==d&&(this.ti=null,this.ac(),g=this.iA,null!==g&&(h=!0,null!==f&&(h=f.Ma,f.Ma=!0),g(this,c,d),null!==f&&(f.Ma=h)));cn(this);this.j("fromPortId",b,a)}}); t.A(V,{ud:"fromPort"},function(){var a=this.eg;return null===a?null:a.fl(this.Bh)});t.g(V,"fromPortChanged",V.prototype.iA);t.defineProperty(V,{iA:"fromPortChanged"},function(){return this.Pq},function(a){var b=this.Pq;b!==a&&(null!==a&&t.i(a,"function",V,"fromPortChanged"),this.Pq=a,this.j("fromPortChanged",b,a))});t.g(V,"toNode",V.prototype.ca); t.defineProperty(V,{ca:"toNode"},function(){return this.qg},function(a){var b=this.qg;if(b!==a){e&&null!==a&&t.l(a,S,V,"toNode");var c=this.ee;null!==b&&(this.eg!==b&&Pm(b,this,c),bn(this),this.J(fj));this.qg=a;this.ti=null;this.ac();var d=this.h;if(null!==d){var f=this.data,g=d.ba;if(null!==f)if(g instanceof P){var h=null!==a?a.data:null;g.wx(f,g.Hb(h))}else g instanceof Kd&&(h=null!==a?a.data:null,d.pd?(null!==b&&g.lh(b.data,void 0),g.lh(h,g.Hb(null!==this.eg?this.eg.data:null))):g.lh(f,g.Hb(h)))}f= this.ee;g=this.lB;null!==g&&(h=!0,null!==d&&(h=d.Ma,d.Ma=!0),g(this,c,f),null!==d&&(d.Ma=h));null!==a&&(this.eg!==a&&Om(a,this,f),cn(this),this.J($i));this.j("toNode",b,a);Ij(this)}});t.g(V,"toPortId",V.prototype.Og); t.defineProperty(V,{Og:"toPortId"},function(){return this.Rh},function(a){var b=this.Rh;if(b!==a){e&&t.i(a,"string",V,"toPortId");var c=this.ee;null!==c&&Nm(this.ca,c);bn(this);this.Rh=a;var d=this.ee;null!==d&&Nm(this.ca,d);var f=this.h;if(null!==f){var g=this.data,h=f.ba;null!==g&&h instanceof P&&h.dB(g,a)}c!==d&&(this.ti=null,this.ac(),g=this.lB,null!==g&&(h=!0,null!==f&&(h=f.Ma,f.Ma=!0),g(this,c,d),null!==f&&(f.Ma=h)));cn(this);this.j("toPortId",b,a)}}); t.A(V,{ee:"toPort"},function(){var a=this.qg;return null===a?null:a.fl(this.Rh)});t.g(V,"toPortChanged",V.prototype.lB);t.defineProperty(V,{lB:"toPortChanged"},function(){return this.As},function(a){var b=this.As;b!==a&&(null!==a&&t.i(a,"function",V,"toPortChanged"),this.As=a,this.j("toPortChanged",b,a))}); t.defineProperty(V,{pb:"fromSpot"},function(){return null!==this.P?this.P.Dh:xb},function(a){null===this.P&&this.Fe();var b=this.P.Dh;b.M(a)||(e&&t.l(a,I,V,"fromSpot"),a=a.Z(),this.P.Dh=a,this.j("fromSpot",b,a),this.ac())}); t.defineProperty(V,{ck:"fromEndSegmentLength"},function(){return null!==this.P?this.P.Ah:NaN},function(a){null===this.P&&this.Fe();var b=this.P.Ah;b!==a&&(e&&t.i(a,"number",V,"fromEndSegmentLength"),0>a&&t.ka(a,">= 0",V,"fromEndSegmentLength"),this.P.Ah=a,this.j("fromEndSegmentLength",b,a),this.ac())}); t.defineProperty(V,{hp:"fromEndSegmentDirection"},function(){return null!==this.P?this.P.zh:Im},function(a){null===this.P&&this.Fe();var b=this.P.zh;b!==a&&(e&&t.Aa(a,S,V,"fromEndSegmentDirection"),this.P.zh=a,this.j("fromEndSegmentDirection",b,a),this.ac())});t.defineProperty(V,{ip:"fromShortLength"},function(){return null!==this.P?this.P.Ch:NaN},function(a){null===this.P&&this.Fe();var b=this.P.Ch;b!==a&&(e&&t.i(a,"number",V,"fromShortLength"),this.P.Ch=a,this.j("fromShortLength",b,a),this.ac())}); t.defineProperty(V,{sb:"toSpot"},function(){return null!==this.P?this.P.Th:xb},function(a){null===this.P&&this.Fe();var b=this.P.Th;b.M(a)||(e&&t.l(a,I,V,"toSpot"),a=a.Z(),this.P.Th=a,this.j("toSpot",b,a),this.ac())}); t.defineProperty(V,{ik:"toEndSegmentLength"},function(){return null!==this.P?this.P.Qh:NaN},function(a){null===this.P&&this.Fe();var b=this.P.Qh;b!==a&&(e&&t.i(a,"number",V,"toEndSegmentLength"),0>a&&t.ka(a,">= 0",V,"toEndSegmentLength"),this.P.Qh=a,this.j("toEndSegmentLength",b,a),this.ac())}); t.defineProperty(V,{Xp:"toEndSegmentDirection"},function(){return null!==this.P?this.P.Ph:Im},function(a){null===this.P&&this.Fe();var b=this.P.Ph;b!==a&&(e&&t.Aa(a,S,V,"toEndSegmentDirection"),this.P.Ph=a,this.j("toEndSegmentDirection",b,a),this.ac())});t.defineProperty(V,{Yp:"toShortLength"},function(){return null!==this.P?this.P.Sh:NaN},function(a){null===this.P&&this.Fe();var b=this.P.Sh;b!==a&&(e&&t.i(a,"number",V,"toShortLength"),this.P.Sh=a,this.j("toShortLength",b,a),this.ac())}); function Ij(a){var b=a.aa,c=a.ca;null!==b&&null!==c?dn(a,b.EI(c)):dn(a,null)}function dn(a,b){var c=a.yk;if(c!==b){null!==c&&Cm(c,a);a.yk=b;null!==b&&Dm(b,a);var d=a.Wz;if(null!==d){var f=!0,g=a.h;null!==g&&(f=g.Ma,g.Ma=!0);d(a,c,b);null!==g&&(g.Ma=f)}!a.rg||a.nD!==c&&a.pD!==c||a.ac()}}V.prototype.getOtherNode=V.prototype.jA=function(a){e&&t.l(a,S,V,"getOtherNode:node");var b=this.aa;return a===b?this.ca:b}; V.prototype.getOtherPort=function(a){e&&t.l(a,Q,V,"getOtherPort:port");var b=this.ud;return a===b?this.ee:b};t.A(V,{zK:"isLabeledLink"},function(){return null===this.we?!1:0=d&&(l=d-1),k=this.o(l-1),g=this.o(l),H.So(f.x,f.y,h.x,h.y,k.x,k.y,g.x,g.y,0.5,a),b=Math.min(g.x,b),c=Math.min(g.y,c),f=g;else for(f=this.o(0),g=this.o(1),b=Math.min(f.x,g.x),c=Math.min(f.y,g.y),a.p(f.x,f.y,0,0),a.jj(g),l=2;lc&&(c=-c)):H.nb(c.y,d.y)?(c=d.x-c.x,0>c&&(c=-c)):c=Math.sqrt(c.Yj(d)),g.push(c),f+=c;for(d=h=c=0;cf/2)break;c+=d;h++}t.ya(g);b=this.o(h);g=this.o(h+1);b.x===g.x?b.y>g.y?a.p(b.x,b.y-(f/2-c)):a.p(b.x,b.y+(f/2-c)):b.y===g.y?b.x>g.x?a.p(b.x-(f/2-c),b.y):a.p(b.x+(f/2-c),b.y):(f=(f/2-c)/d,a.p(b.x+f*(g.x-b.x),b.y+f*(g.y-b.y)));return a};t.A(V,{xF:"midAngle"},function(){this.updateRoute();return this.computeMidAngle()}); V.prototype.computeMidAngle=function(){var a=this.oa;if(2>a)return NaN;if(this.computeCurve()===Og&&4<=a&&!this.ic){var b=(a-1)/3|0,c=3*(b/2|0);if(1===b%2){var c=Math.floor(c),a=this.o(c),b=this.o(c+1),d=this.o(c+2),c=this.o(c+3);return H.$H(a.x,a.y,b.x,b.y,d.x,d.y,c.x,c.y)}if(0f?a.$i(b):b.$i(d)};t.g(V,"points",V.prototype.points); t.defineProperty(V,{points:"points"},function(){return this.Cc},function(a){var b=this.Cc;if(b!==a){e&&(Array.isArray(a)||a instanceof B||t.m("Link.points value is not an instance of List or Array"));var c=a;if(Array.isArray(a)){var d=0===a.length%2;if(d)for(var f=0;fp&&(u-=180));0>u?u+=360:360<=u&&(u-=360);k&&(v+=Math.abs(p));0===u?r=v:90===u?s=v:180===u?r=-v:270===u?s=-v:(r=v*Math.cos(u*Math.PI/180),s=v*Math.sin(u*Math.PI/180));if(g.Ge()&&k){var D=c.qb(Kb,t.K()),A=t.mc(D.x+1E3*r,D.y+1E3*s);this.getLinkPointFromPoint(b,c,D,A,!0,q);t.B(D);t.B(A)}}var v=this.getLinkPoint(d,f,h,!1,l,b,c),G=0,L=0,N=0;if(l||h!==wb||k)D= this.computeEndSegmentLength(d,f,h,!1),N=this.getLinkDirection(d,f,v,h,!1,l,b,c),k&&(N+=l?0:30,0>p&&(N+=180)),0>N?N+=360:360<=N&&(N-=360),k&&(D+=Math.abs(p)),0===N?G=D:90===N?L=D:180===N?G=-D:270===N?L=-D:(G=D*Math.cos(N*Math.PI/180),L=D*Math.sin(N*Math.PI/180)),h.Ge()&&k&&(D=f.qb(Kb,t.K()),A=t.mc(D.x+1E3*G,D.y+1E3*L),this.getLinkPointFromPoint(d,f,D,A,!1,v),t.B(D),t.B(A));f=q;if(l||g!==wb||k)f=new w(q.x+r,q.y+s);c=v;if(l||h!==wb||k)c=new w(v.x+G,v.y+L);!n&&!l&&g===wb&&3k&&(m=-m),r=(0>h?-1:1)*m+q,s=l*(r-q)+u),q=a.x+2*g/3,u=a.y+2*h/3,v=q,G=u,H.I(h,0)?G=0h?-1:1)*m+q,G=l*(v-q)+u),this.Uo(),this.Vh(a),this.Wk(r,s),this.Wk(v,G),this.Vh(n),this.Ef(0, this.getLinkPoint(b,c,wb,!0,!1,d,f)),this.Ef(3,this.getLinkPoint(d,f,wb,!1,!1,b,c))):(a=d,d=this.getLinkPoint(b,c,wb,!0,!1,a,f),f=this.getLinkPoint(a,f,wb,!1,!1,b,c),this.hasCurviness()?(h=f.x-d.x,b=f.y-d.y,c=this.computeCurviness(),a=d.x+h/2,n=d.y+b/2,g=a,k=n,H.I(b,0)?k=0c&&(g=-g),g=(0>b?-1:1)*g+a,k=h*(g-a)+n),this.Vh(d),this.Wk(g,k)):this.Vh(d),this.Vh(f)));return!0}; function kn(a,b){Math.abs(b.x-a.x)>Math.abs(b.y-a.y)?(b.x=b.x>=a.x?a.x+9E9:a.x-9E9,b.y=a.y):(b.y=b.y>=a.y?a.y+9E9:a.y-9E9,b.x=a.x);return b} V.prototype.getLinkPointFromPoint=function(a,b,c,d,f,g){void 0===g&&(g=new w);if(null===a||null===b)return g.assign(c),g;a.Pa()||(f=a.findVisibleNode(),null!==f&&f!==a&&(b=f.port));var h;a=null;f=b.ja;null===f||f.Hf()||(f=f.ja);if(null===f)f=d.x,d=d.y,h=c.x,c=c.y;else{a=f.le;f=1/(a.m11*a.m22-a.m12*a.m21);h=a.m22*f;var k=-a.m12*f,l=-a.m21*f,m=a.m11*f,n=f*(a.m21*a.dy-a.m22*a.dx),p=f*(a.m12*a.dx-a.m11*a.dy);f=d.x*h+d.y*l+n;d=d.x*k+d.y*m+p;h=c.x*h+c.y*l+n;c=c.x*k+c.y*m+p}b.kp(f,d,h,c,g);a&&g.transform(a); return g};function ln(a,b){var c=b.Pr;null===c&&(c=new mn,c.port=b,c.Gc=b.S,b.Pr=c);return nn(c,a)} V.prototype.getLinkPoint=function(a,b,c,d,f,g,h,k){void 0===k&&(k=new w);if(c.xd())return b.qb(c,k),k;if(c.rp()&&(c=ln(this,b),null!==c)){k.assign(c.xp);if(f&&this.Lt===Um){var l=ln(this,h);if(c.Jm=m.x&&a.x<=m.x+m.width?k.x=a.x:a.y>=m.y&&a.y<=m.y+m.height&&(k.y=a.y);t.B(c);t.B(l)}}return k}g=b.qb(Kb,t.K());c=null;this.oa>(f?6:2)?(h=d?this.o(1):this.o(this.oa-2),f&&(h=kn(g,h.copy()))): (c=t.K(),h=h.qb(Kb,c),f&&(h=kn(g,h)));this.getLinkPointFromPoint(a,b,g,h,d,k);t.B(g);null!==c&&t.B(c);return k}; V.prototype.getLinkDirection=function(a,b,c,d,f,g,h,k){a:if(d.xd())c=d.x>d.y?d.x>1-d.y?0:d.x<1-d.y?270:315:d.x1-d.y?90:d.x<1-d.y?180:135:0.5>d.x?225:0.5(g?6:2)?(k=f?this.o(1):this.o(this.oa-2),k=g?kn(a,k.copy()):c):(d=t.K(),k=k.qb(Kb,d));c=Math.abs(k.x-a.x)>Math.abs(k.y-a.y)?k.x>=a.x?0:180:k.y>= a.y?90:270;t.B(a);null!==d&&t.B(d)}g=Im;g=f?this.hp:this.Xp;g===Im&&(g=f?b.hp:b.Xp);switch(g){case Jm:b=b.gl();c+=b;360<=c&&(c-=360);break;case Im:case gk:b=b.gl();if(0===b)break;45<=b&&135>b?c+=90:135<=b&&225>b?c+=180:225<=b&&315>b&&(c+=270);360<=c&&(c-=360)}return c};V.prototype.computeEndSegmentLength=function(a,b,c,d){if(null!==b&&c.rp()&&(a=ln(this,b),null!==a))return a.Aw;a=NaN;a=d?this.ck:this.ik;null!==b&&isNaN(a)&&(a=d?b.ck:b.ik);isNaN(a)&&(a=10);return a}; V.prototype.computeSpot=function(a){return a?hn(this,this.ud):jn(this,this.ee)};function hn(a,b){if(null===b)return Kb;var c=a.pb;c.Pc()&&(void 0===b&&(b=a.ud),null!==b&&(c=b.pb));return c===xb?wb:c}function jn(a,b){if(null===b)return Kb;var c=a.sb;c.Pc()&&(void 0===b&&(b=a.ee),null!==b&&(c=b.sb));return c===xb?wb:c}V.prototype.computeOtherPoint=function(a,b){var c=b.qb(Kb),d;d=b.Pr;d=null!==d?nn(d,this):null;null!==d&&(c=d.xp);return c}; V.prototype.computeShortLength=function(a){return a?on(this):pn(this)};function on(a){var b=a.ip;isNaN(b)&&(a=a.ud,null!==a&&(b=a.ip));return isNaN(b)?0:b}function pn(a){var b=a.Yp;isNaN(b)&&(a=a.ee,null!==a&&(b=a.Yp));return isNaN(b)?0:b} V.prototype.ak=function(a,b,c,d,f,g){if(!1===this.Bf)return!1;void 0===b&&(b=null);void 0===c&&(c=null);var h=g;void 0===g&&(h=t.oh(),h.reset());h.multiply(this.transform);if(this.Im(a,h))return Zl(this,b,c,f),void 0===g&&t.We(h),!0;if(this.Tf(a,h)){var k=!1;if(!this.Vg)for(var l=this.xa.length;l--;){var m=this.xa.n[l];if(m.visible||m===this.kc){var n=m.pa,p=this.Qa;if(!(n.x>p.width||n.y>p.height||0>n.x+n.width||0>n.y+n.height)){n=t.oh();n.set(h);if(m instanceof y)k=m.ak(a,b,c,d,f,n);else if(this.path=== m){var k=m,q=a,r=d,p=n;if(!1===k.Bf)k=!1;else if(p.multiply(k.transform),r)b:{var s=q,u=p;if(k.Im(s,u))k=!0;else{if(void 0===u&&(u=k.transform,s.Vj(k.pa))){k=!0;break b}var p=s.left,q=s.right,r=s.top,s=s.bottom,v=t.K(),D=t.K(),A=t.K(),G=t.oh();G.set(u);G.DF(k.transform);G.nA();D.x=q;D.y=r;D.transform(G);v.x=p;v.y=r;v.transform(G);u=!1;fm(k,v,D,A)?u=!0:(v.x=q,v.y=s,v.transform(G),fm(k,v,D,A)?u=!0:(D.x=p,D.y=s,D.transform(G),fm(k,v,D,A)?u=!0:(v.x=p,v.y=r,v.transform(G),fm(k,v,D,A)&&(u=!0))));t.We(G); t.B(v);t.B(D);t.B(A);k=u}}else k=k.Im(q,p)}else k=lk(m,a,d,n);k&&(null!==b&&(m=b(m)),m&&(null===c||c(m))&&f.add(m));t.We(n)}}}void 0===g&&t.We(h);return k||null!==this.background||null!==this.Zk}void 0===g&&t.We(h);return!1};t.A(V,{ic:"isOrthogonal"},function(){return 2===(this.nm.value&2)});t.A(V,{cj:"isAvoiding"},function(){return 4===(this.nm.value&4)});V.prototype.computeCurve=function(){if(null===this.ti){var a=this.ud,b=this.ic;this.ti=null!==a&&a===this.ee&&!b}return this.ti?Og:this.De}; V.prototype.computeCorner=function(){if(this.De===Og)return 0;var a=this.sw;if(isNaN(a)||0>a)a=10;return a};V.prototype.computeCurviness=function(){var a=this.Xs;if(isNaN(a)){var b=this.gf;if(0!==b){var a=10,c=this.h;null!==c&&(a=c.yp);c=Math.abs(b);a=a/2+((c-1)/2|0)*a;0===c%2&&(a=-a);0>b&&(a=-a)}else a=10}return a};V.prototype.computeThickness=function(){var a=this.path;return null!==a?Math.max(a.fb,1):1};V.prototype.hasCurviness=function(){return!isNaN(this.Xs)||0!==this.gf&&!this.ic}; V.prototype.adjustPoints=function(a,b,c,d){var f=this.Lo;if(this.ic){if(f===Zk)return!1;f===$k&&(f=Yk)}switch(f){case Zk:var g=this.o(a),h=this.o(c);if(!g.M(b)||!h.M(d)){var f=g.x,g=g.y,k=h.x-f,l=h.y-g,m=Math.sqrt(k*k+l*l);if(!H.I(m,0)){var n;H.I(k,0)?n=0>l?-Math.PI/2:Math.PI/2:(n=Math.atan(l/Math.abs(k)),0>k&&(n=Math.PI-n));var h=b.x,p=b.y,k=d.x-h,q=d.y-p,l=Math.sqrt(k*k+q*q);H.I(k,0)?q=0>q?-Math.PI/2:Math.PI/2:(q=Math.atan(q/Math.abs(k)),0>k&&(q=Math.PI-q));m=l/m;n=q-n;this.Ef(a,b);for(a+=1;al?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(k)),0>k&&(l=Math.PI-l)),k=l+n,b*=m,this.Y(a,h+b*Math.cos(k),p+b*Math.sin(k)));this.Ef(c,d)}}return!0;case $k:g=this.o(a);p=this.o(c);if(!g.M(b)||!p.M(d)){f=g.x;g=g.y;h=p.x;p=p.y;m=(h-f)*(h-f)+(p-g)*(p-g);k=b.x;n=b.y;var l=d.x,q=d.y,r=0,s=1,r=0!==l-k?(q-n)/(l-k):9E9;0!==r&&(s=Math.sqrt(1+1/(r*r)));this.Ef(a,b);for(a+=1;ab?0:45<=b&&135>b?90:135<=b&&225>b?180:270;d=-45<=d&&45>d?0:45<=d&&135>d?90:135<=d&&225>d?180:270;var h=f.pa.copy(),k=g.pa.copy();if(h.N()&&k.N()){h.Sf(8,8);k.Sf(8,8);h.jj(a);k.jj(c);var l,m;if(0===b)if(c.x>a.x||270===d&&c.ya.x||90===d&&c.y>a.y&&k.right>a.x)l=new w(c.x,a.y),m=new w(c.x,(a.y+c.y)/2),180===d?(l.x=this.computeMidOrthoPosition(a.x,c.x,!1),m.x=l.x,m.y=c.y):270===d&&c.ya.y?(l.x=a.xk.bottom)?this.computeMidOrthoPosition(a.x,c.x,!1):k.right,m.x=l.x,m.y=c.y):0===d&&a.xk.top&&a.yh.bottom)180===d&&(k.Fa(a)||h.Fa(c))?l.y=this.computeMidOrthoPosition(a.y,c.y,!0):c.ya.y&&(180===d||270===d)&&(l.y=this.computeMidOrthoPosition(h.bottom,Math.min(c.y,k.top),!0)),m.x=c.x,m.y=l.y;if(l.y>h.top&&l.y=h.left&&c.x<=a.x||a.x<=k.right&&a.x>=c.x){if(90===d||270===d)l=new w(Math.max((a.x+c.x)/2,a.x),a.y),m=new w(l.x,c.y)}else l.y=270===d||(0===d||180===d)&&c.ya.y&&k.lefta.y?(l.x=a.x>k.right?this.computeMidOrthoPosition(a.x,k.right,!1):a.x>k.left&&(270===d&&a.yk.bottom)?this.computeMidOrthoPosition(a.x,c.x,!1):k.left,m.x=l.x,m.y=c.y):180===d&&a.x>k.right&&a.y>k.top&&a.yh.bottom)0===d&&(k.Fa(a)||h.Fa(c))?l.y=this.computeMidOrthoPosition(a.y,c.y,!0):c.ya.y&&(0===d||270===d)&&(l.y=this.computeMidOrthoPosition(h.bottom,Math.min(c.y,k.top),!0)),m.x=c.x,m.y=l.y;if(l.y>h.top&&l.y=a.x||a.x>=k.left&&a.x<=c.x){if(90===d||270===d)l=new w(Math.min((a.x+c.x)/2,a.x),a.y),m=new w(l.x,c.y)}else l.y=270=== d||(0===d||180===d)&&c.ya.y||180===d&&c.xa.y||0===d&&c.x>a.x&&k.bottom>a.y)l=new w(a.x,c.y),m=new w((a.x+c.x)/2,c.y),270===d?(l.y=this.computeMidOrthoPosition(a.y,c.y,!0),m.x=c.x,m.y=l.y):180===d&&c.xa.x?(l.y=a.yk.right)? this.computeMidOrthoPosition(a.y,c.y,!0):k.bottom,m.x=c.x,m.y=l.y):90===d&&a.yk.left&&a.xh.right)270===d&&(k.Fa(a)||h.Fa(c))?l.x=this.computeMidOrthoPosition(a.x,c.x,!1):c.xa.x&&(270===d||180===d)&&(l.x=this.computeMidOrthoPosition(h.right, Math.min(c.x,k.left),!1)),m.x=l.x,m.y=c.y;if(l.x>h.left&&l.x=h.top&&c.y<=a.y||a.y<=k.bottom&&a.y>=c.y){if(0===d||180===d)l=new w(a.x,Math.max((a.y+c.y)/2,a.y)),m=new w(c.x,l.y)}else l.x=180===d||(90===d||270===d)&&c.xa.x&&k.top=a.x?(l.y=a.y>k.bottom?this.computeMidOrthoPosition(a.y,k.bottom,!0):a.y>k.top&&(180===d&&a.xk.right)?this.computeMidOrthoPosition(a.y,c.y,!0):k.top,m.x=c.x,m.y=l.y):270===d&&a.y>k.bottom&&a.x>k.left&&a.xh.right)90===d&&(k.Fa(a)||h.Fa(c))?l.x=this.computeMidOrthoPosition(a.x, c.x,!1):c.xa.x&&(90===d||180===d)&&(l.x=this.computeMidOrthoPosition(h.right,Math.min(c.x,k.left),!1)),m.x=l.x,m.y=c.y;if(l.x>h.left&&l.x=a.y||a.y>=k.top&&a.y<=c.y){if(0===d||180===d)l=new w(a.x,Math.min((a.y+c.y)/2,a.y)),m=new w(c.x,l.y)}else l.x=180===d||(90===d||270===d)&&c.xthis.oa)0===b||180===b?(d.x=a.x,d.y=c.y):(d.x=c.x,d.y=a.y),this.Y(2,d.x,d.y),this.C(3,d.x,d.y);else if(c=this.o(3),0===b||180===b)H.I(d.x,c.x)?(b=0===b?Math.max(d.x, a.x):Math.min(d.x,a.x),this.Y(2,b,a.y),this.Y(3,b,c.y)):H.I(d.y,c.y)?(Math.abs(a.y-d.y)<=f.Em/2&&(this.Y(2,d.x,a.y),this.Y(3,c.x,a.y)),this.C(2,d.x,a.y)):this.Y(2,a.x,d.y);else if(90===b||270===b)H.I(d.y,c.y)?(b=90===b?Math.max(d.y,a.y):Math.min(d.y,a.y),this.Y(2,a.x,b),this.Y(3,c.x,b)):H.I(d.x,c.x)?(Math.abs(a.x-d.x)<=f.Fm/2&&(this.Y(2,a.x,d.y),this.Y(3,a.x,c.y)),this.C(2,a.x,d.y)):this.Y(2,d.x,a.y);a=!0}else a=!1}else a=!1;a||(this.Vh(l),this.Vh(m))}}; V.prototype.computeMidOrthoPosition=function(a,b){if(this.hasCurviness()){var c=this.computeCurviness();return(a+b)/2+c}return(a+b)/2};function Bf(a){if(!a.cj)return!1;var b=a.points.n,c=b.length;if(4>c)return!1;a=Pj(a.h,a);for(var d=1;dvn&&sn(b,m,n)===l-wn;)c=m,d=n,0===f?m+=h:90===f?n+=k:180===f?m-=h:n-=k,l-=wn;if(g){if(l>vn)if(180===f||0===f)c=Math.floor(c/h)*h+h/2;else if(90===f||270===f)d=Math.floor(d/k)*k+k/2}else c=Math.floor(c/h)*h+h/2,d=Math.floor(d/k)*k+k/2;l>vn&&(g=f,m=c,n=d,0===f?(g=90,n+=k):90===f?(g=180,m-=h):180===f?(g=270,n-=k):270===f&&(g=0,m+=h),sn(b,m,n)===l-wn?un(a,b,m,n,g,!1):(m=c,n=d,0===f?(g=270,n-= k):90===f?(g=0,m+=h):180===f?(g=90,n+=k):270===f&&(g=180,m-=h),sn(b,m,n)===l-wn&&un(a,b,m,n,g,!1)));a.Wk(c,d)}V.prototype.findClosestSegment=function(a){e&&t.l(a,w,V,"findClosestSegment:p");var b=a.x;a=a.y;for(var c=this.o(0),d=this.o(1),f=Ra(b,a,c.x,c.y,d.x,d.y),g=0,h=1;ha){var b=new zc(Ac),c=new Bc(0,0);b.Ab.add(c);return b}var d=!1,b=this.h;null!==b&&0!==b.la.Je&&en(this)&&(d=!0);var f=this.o(0).copy(),g=f.copy(),h=this.computeCurve();if(h===Og&&3<=a&&!H.nb(this.ln,0))if(3===a)var k=this.o(1),b=Math.min(f.x,k.x),c=Math.min(f.y,k.y),k=this.o(2),b=Math.min(b,k.x),c=Math.min(c,k.y);else{if(this.ic)for(k=0;k=a&&(k= a-1),l=this.o(k),g.x=Math.min(l.x,g.x),g.y=Math.min(l.y,g.y);b=g.x;c=g.y}else{for(k=0;kD?r>q?(u.x=A-L,u.y=q-L,v.x=A+s,v.y=q+s):(u.x= A-L,u.y=q+L,v.x=A+s,v.y=q-s):r>q?(u.x=A+L,u.y=q-L,v.x=A-s,v.y=q+s):(u.x=A+L,u.y=q+L,v.x=A-s,v.y=q-s));H.nb(D,A)&&H.nb(q,r)&&(q>p?(G>A?(u.x=A-L,u.y=q-L,v.x=A+s):(u.x=A+L,u.y=q-L,v.x=A-s),v.y=q+s):(G>A?(u.x=A-L,u.y=q+L,v.x=A+s):(u.x=A+L,u.y=q+L,v.x=A-s),v.y=q-s));if(H.nb(D,A)&&H.nb(A,G)||H.nb(p,q)&&H.nb(q,r))D=0.5*(D+G),p=0.5*(p+r),u.x=D,u.y=p,v.x=D,v.y=p;1===k?(f.x=0.5*(d.x+l.x),f.y=0.5*(d.y+l.y)):2===k&&H.nb(d.x,this.o(0).x)&&H.nb(d.y,this.o(0).y)&&(f.x=0.5*(d.x+l.x),f.y=0.5*(d.y+l.y));K(m,f.x-b, f.y-c,h.x-b,h.y-c,l.x-b,l.y-c);g.set(h);f.set(a);d=l}}k=d.x;d=d.y;g=this.o(this.oa-1);k=0.5*(k+g.x);d=0.5*(d+g.y);K(m,a.x-b,a.y-c,k-b,d-c,g.x-b,g.y-c)}else for(k=3;k=a&&(k=a-1),g=this.o(k-1),l=this.o(k),k===a-1&&0!==pn(this)&&(l=l.copy(),xn(this,l,!1,H.mj)),K(m,d.x-b,d.y-c,g.x-b,g.y-c,l.x-b,l.y-c);else{g=t.K();g.assign(this.o(0));for(k=1;k=a-1){g!==u&&(0!==pn(this)&&(u=u.copy(),xn(this,u,!1,H.mj)),An(this,m,-b,-c,g,u,d));break}k=yn(this, u,k+1,kn.x?u.x-s:u.x+s,L=v.y>u.y?u.y+A:u.y-A,An(this,f,h,l,n,new w(q,G),p),Sc(f,u.x+h,u.y+l,r+h,L+l),D.p(r,L))):H.I(n.x,u.x)&&H.I(u.y,v.y)?(s=this.computeCorner(),A=Math.min(s,Math.abs(u.y-n.y)/2),A=s=Math.min(A,Math.abs(v.x-u.x)/2),H.I(s,0)?(An(this,f,h,l,n,u,p),D.assign(u)): (q=u.x,L=G=u.y,G=u.y>n.y?u.y-A:u.y+A,r=v.x>u.x?u.x+s:u.x-s,An(this,f,h,l,n,new w(q,G),p),Sc(f,u.x+h,u.y+l,r+h,L+l),D.p(r,L))):(An(this,f,h,l,n,u,p),D.assign(u))}t.B(g)}b=m.s;t.v(m)}return b};function zn(a,b,c,d){a=c-a;if(isNaN(a)||Infinity===a||-Infinity===a)return NaN;0>a&&(a=-a);b=d-b;if(isNaN(b)||Infinity===b||-Infinity===b)return NaN;0>b&&(b=-b);return H.nb(a,0)?b:H.nb(b,0)?a:Math.sqrt(a*a+b*b)} function xn(a,b,c,d){var f=a.oa;if(!(2>f))if(c){var g=a.o(1);c=g.x-d.x;d=g.y-d.y;g=zn(b.x,b.y,c,d);0!==g&&(f=2===f?0.5*g:g,a=on(a),a>f&&(a=f),c=a*(c-b.x)/g,a=a*(d-b.y)/g,b.x+=c,b.y+=a)}else g=a.o(f-2),c=g.x-d.x,d=g.y-d.y,g=zn(b.x,b.y,c,d),0!==g&&(f=2===f?0.5*g:g,a=pn(a),a>f&&(a=f),c=a*(b.x-c)/g,a=a*(b.y-d)/g,b.x-=c,b.y-=a)} function yn(a,b,c,d){for(var f=a.oa,g=b;H.nb(b.x,g.x)&&H.nb(b.y,g.y);){if(c>=f)return f-1;g=a.o(c++)}if(!H.nb(b.x,g.x)&&!H.nb(b.y,g.y))return c-1;for(var h=g;H.nb(b.x,g.x)&&H.nb(g.x,h.x)&&(!d||(b.y>=g.y?g.y>=h.y:g.y<=h.y))||H.nb(b.y,g.y)&&H.nb(g.y,h.y)&&(!d||(b.x>=g.x?g.x>=h.x:g.x<=h.x));){if(c>=f)return f-1;h=a.o(c++)}return c-2} function An(a,b,c,d,f,g,h){if(!h&&en(a)){h=[];var k=0;a.Pa()&&(k=Bn(a,f,g,h));var l=f.x,l=f.y;if(0p-10)m--,p=Math.max(q-5,g.x);else break;q=g.y-10+d;n=p+c;p=g.y+d;a.De===xg?J(b,n,p,!1,!1):K(b,l,q,n,q,n,p)}else if(H.I(f.x,g.x))if(f.yp-10)m--,p=Math.max(q-5,g.y);else break;q=g.x-10+c;n=g.x+c;p+=d;a.De===xg?J(b,n,p,!1,!1):K(b,q,l,q,p,n,p)}}b.lineTo(g.x+c,g.y+d)} function Bn(a,b,c,d){var f=a.h;if(null===f||b.M(c))return 0;for(f=f.Yw;f.next();){var g=f.value;if(null!==g&&g.visible)for(var g=g.Fb.n,h=g.length,k=0;kh.x&&n.x>m.x||m.xh.y&&n.y>m.y||m.yu&&Math.min(h,D)q&&!H.I(h,D)){n.x=u;n.y=q;n=!0;break a}}else if(!H.I(q,s)&&H.I(h,D)&&Math.min(q, s)h&&Math.min(u,v)p&&!H.I(u,v)){n.x=p;n.y=h;n=!0;break a}n.x=0;n.y=0;n=!1}n&&(f?c.push(k.x):c.push(k.y));h=m}t.B(k)}t.A(V,{gt:"firstPickIndex"},function(){return 2>=this.oa?0:this.ic||hn(this)!==wb?1:0});t.A(V,{Ww:"lastPickIndex"},function(){var a=this.oa;return 0===a?0:2>=a?a-1:this.ic||jn(this)!==wb?a-2:a-1});function en(a){a=a.De;return a===wg||a===xg}function gn(a,b){if(b||en(a)){var c=a.h;null===c||c.Pl.contains(a)||null===a.oz||c.Pl.add(a,a.oz)}} function zg(a,b){var c=a.layer;if(null!==c&&c.visible&&!c.yc){var d=c.h;if(null!==d)for(var f=!1,d=d.Yw;d.next();){var g=d.value;if(g.visible)if(g===c)for(var f=!0,h=!1,g=g.Fb.n,k=g.length,l=0;lb.links.count)1===b.links.count&&(c=b.links.n[0],c.xn=null,c.gf=0,c.ac()),c=b.Hp,null!==b&&null!==c.qh&&c.qh.remove(b),c=b.At,null!==b&&null!==c.qh&&c.qh.remove(b);else for(c=Math.abs(c),a=0===c%2,b=b.links.k;b.next();){var d=b.value,f=Math.abs(d.gf),g=0===f%2;f>c&&a===g&&(d.gf=0=a.width||0>=a.height)){var b=a.y,c=a.x+a.width,d=a.y+a.height;this.jg=Math.floor((a.x-this.he)/this.he)*this.he;this.kg=Math.floor((b-this.ie)/this.ie)*this.ie;this.ur=Math.ceil((c+2*this.he)/this.he)*this.he;this.vr=Math.ceil((d+2*this.ie)/this.ie)*this.ie;a=1+(Math.ceil((this.ur-this.jg)/this.he)|0);b=1+(Math.ceil((this.vr-this.kg)/this.ie)|0);if(null===this.uc||this.Go=vn&&(a.uc[b][c]|=tn)} function qn(a,b,c,d,f){if(b>a.ur||b+da.vr||c+fb&&(d+=b,b=0);0>c&&(g+=c,c=0);if(0>d||0>g)return!0;f=Math.min(b+d-1,a.Go)|0;for(d=Math.min(c+g-1,a.Ho)|0;b<=f;b++)for(g=c;g<=d;g++)if(0===a.uc[b][g])return!1;return!0} function Gn(a,b,c,d,f,g,h,k,l){if(!(bh||cl)){var m,n;m=b|0;n=c|0;var p=a.uc[m][n];if(p>=vn&&p=a.uc[m][n]);)a.uc[m][n]=p,p+=wn,f?n+=d:m+=d;m=f?n:m;if(f)if(0m;c+=d)Gn(a,b,c,1,!f,g,h,k,l),Gn(a,b,c,-1,!f,g,h,k,l);else if(0m;b+=d)Gn(a,b,c,1,!f,g,h,k,l),Gn(a,b,c,-1,!f,g,h, k,l)}}function Hn(a,b,c,d,f,g,h,k,l,m,n){for(var p=b|0,q=c|0,r=a.uc[p][q];0===r&&p>k&&pm&&q=Math.abs(p-d)&&1>=Math.abs(q-f))return a.abort=!0,0;p=b|0;q=c|0;r=a.uc[p][q];b=vn;for(a.uc[p][q]=b;0===r&&p>k&&pm&&q=Math.abs(h-l)&&1>=Math.abs(k-m))a.abort=!0;else{var n=g.x;b=g.y;d=g.x+g.width;var p=g.y+g.height,n=n-a.jg,n=n/a.he;b-=a.kg;b/=a.ie;d-=a.jg;d/=a.he;p-=a.kg;p/=a.ie;g=Math.max(0,Math.min(a.Go,n|0));d=Math.min(a.Go,Math.max(0,d|0));b=Math.max(0,Math.min(a.Ho,b|0));var p=Math.min(a.Ho,Math.max(0,p|0)),h=h|0,k=k|0,l=l|0, m=m|0,n=h,q=k,r=0===c||90===c?1:-1;(c=90===c||270===c)?q=Hn(a,h,k,l,m,r,c,g,d,b,p):n=Hn(a,h,k,l,m,r,c,g,d,b,p);if(!a.abort){a:{c=0===f||90===f?1:-1;f=90===f||270===f;for(var r=l|0,s=m|0,u=a.uc[r][s];0===u&&r>g&&rb&&s=Math.abs(r-h)&&1>=Math.abs(s-k)){a.abort=!0;break a}r=l|0;s=m|0;u=a.uc[r][s];for(a.uc[r][s]=En;0===u&&r>g&&rb&&s=c?180:0}a=180*Math.atan2(a.height,a.width)/Math.PI;switch(b){case t.Jc|t.bd:return c>a&&c<=180+a?180:270;case t.bd|t.Tc:return c>180-a&&c<=360-a?270:0;case t.Tc|t.Sc:return c>a&&c<=180+a?90:0;case t.Sc|t.Jc:return c>180-a&&c<=360-a?180:90;case t.Jc|t.bd|t.Tc:return 90180+a&&c<=360- a?270:0;case t.bd|t.Tc|t.Sc:return 180a&&180>=c?90:0;case t.Tc|t.Sc|t.Jc:return c>a&&c<=180-a?90:c>180-a&&270>=c?180:0;case t.Sc|t.Jc|t.bd:return c>180-a&&c<=180+a?180:c>180+a?270:90}d&&b!==(t.Jc|t.bd|t.Tc|t.Sc)&&(c-=15,0>c&&(c+=360));return c>a&&c<180-a?90:c>=180-a&&c<=180+a?180:c>180+a&&c<360-a?270:0} function nn(a,b){var c=a.Fg;if(0===c.length){a:if(!a.Gp){c=a.Gp;a.Gp=!0;var d,f=null,g=a.Gc;if(g instanceof T&&!g.pe){if(!g.pa.N()){a.Gp=c;break a}f=g;d=f.yE()}else d=a.Gc.zE();var h=a.Fg.length=0,k=a.port.qb(Eb,t.K()),l=a.port.qb(Pb,t.K()),g=t.hk(k.x,k.y,0,0);g.jj(l);t.B(k);t.B(l);k=t.mc(g.x+g.width/2,g.y+g.height/2);for(d=d.k;d.next();)if(l=d.value,l.Pa()){var m=wb,n=l.ud===a.port||l.aa.ml(f),m=n?hn(l,a.port):jn(l,a.port);if(m.rp()&&(n=n?l.ee:l.ud,null!==n)){var p=n.S;if(null!==p){var n=l.computeOtherPoint(p, n),p=k.$i(n),m=In(g,m,p,l.ic),q;0===m?(q=t.Tc,180Math.abs(L)?(O=Math.abs(L)/q,q=Math.abs(L)):O=1;break;case t.Jc:r> Math.abs(G)?(O=Math.abs(G)/r,r=Math.abs(G)):O=1;break;case t.bd:n>Math.abs(L)?(O=Math.abs(L)/n,n=Math.abs(L)):O=1;break;default:case t.Tc:p>Math.abs(G)?(O=Math.abs(G)/p,p=Math.abs(G)):O=1}N=0}var U=u.xp;if(f===Km){v=u.link.computeThickness();v*=O;U.set(A);switch(D){case t.Sc:U.x=A.x+L/2+q/2-N-v/2;break;case t.Jc:U.y=A.y+G/2+r/2-N-v/2;break;case t.bd:U.x=A.x+L/2-n/2+N+v/2;break;default:case t.Tc:U.y=A.y+G/2-p/2+N+v/2}N+=v}else v=0.5,f===Hm&&(v=(u.mp+1)/(u.Jm+1)),U.x=A.x+L*v,U.y=A.y+G*v}t.B(k);t.B(d); t.B(l);t.B(m);A=a.Fg;for(h=0;hb.ae?1:a.angleb.angle?1:0}; mn.prototype.computeEndSegmentLength=function(a){var b=a.link,c=b.computeEndSegmentLength(this.Gc,this.port,wb,b.ud===this.port),d=a.mp;if(0>d)return c;var f=a.Jm;if(1>=f||!b.ic)return c;var b=a.hx,g=a.xp;if(a.ae===t.Jc||a.ae===t.Sc)d=f-1-d;return((a=a.ae===t.Jc||a.ae===t.Tc)?b.yf&&(f=k.right);k.bottom>g&&(g=k.bottom)}}isFinite(c)&&isFinite(d)?a.p(c,d,f-c,g-d):(b=b.location,c=this.padding,a.p(b.x+c.left,b.y+c.top,0,0));return a}; t.g(Tg,"padding",Tg.prototype.padding);t.defineProperty(Tg,{padding:"padding"},function(){return this.Ne},function(a){"number"===typeof a?(0>a&&t.ka(a,">= 0",Tg,"padding"),a=new ab(a)):(t.l(a,ab,Tg,"padding"),0>a.left&&t.ka(a.left,">= 0",Tg,"padding:val.left"),0>a.right&&t.ka(a.right,">= 0",Tg,"padding:val.right"),0>a.top&&t.ka(a.top,">= 0",Tg,"padding:val.top"),0>a.bottom&&t.ka(a.bottom,">= 0",Tg,"padding:val.bottom"));var b=this.Ne;b.M(a)||(this.Ne=a=a.Z(),this.j("padding",b,a))}); function be(){0=c-1?(h=0,f=d,g+=k+20,k=0):h++}null!==a&&a.Ce("Layout")}this.$e=!0};be.prototype.GA=function(a){return!a.location.N()||a instanceof T&&a.MC?!0:!1};function Nn(a,b,c,d,f,g,h,k){for(c=c.k;c.next();){var l=c.value;d&&!l.sp||f&&!f(l)||l.canLayout()&&(g&&l instanceof S?l.bi||(l instanceof T&&null===l.jc?Nn(a,b,l.Rc,!1,f,g,h,k):b.add(l)):h&&l instanceof V?b.add(l):!k||!l.Ld()||l instanceof S||b.add(l))}} t.g(be,"arrangementOrigin",be.prototype.Fd);t.defineProperty(be,{Fd:"arrangementOrigin"},function(){return this.nq},function(a){t.l(a,w,be,"arrangementOrigin");this.nq.M(a)||(this.nq.assign(a),this.J())});be.prototype.initialOrigin=function(a){var b=this.group;if(null!==b){var c=b.location;if(isNaN(c.x)||isNaN(c.y))return a;a=b.placeholder;null!==a?(c=a.qb(Eb),c.x+=a.padding.left,c.y+=a.padding.top):c=b.position.copy();return c}return a};function sa(){t.Ac(this);this.Pd=null;this.clear()} t.ga("LayoutNetwork",sa);sa.prototype.clear=function(){if(this.vertexes)for(var a=this.vertexes.k;a.next();){var b=a.value;b.clear();b.network=null}if(this.edges)for(a=this.edges.k;a.next();)b=a.value,b.clear(),b.network=null;this.vertexes=new C(ta);this.edges=new C(ua);this.JA=new ja(S,ta);this.zA=new ja(V,ua)};sa.prototype.toString=function(){return"LayoutNetwork"+(null!==this.jc?"("+this.jc.toString()+")":"")};t.A(sa,{jc:"layout"},function(){return this.Pd}); function Mn(a,b){e&&null!==b&&t.l(b,be,sa,"setLayout");a.Pd=b}sa.prototype.createVertex=function(){return new ta};sa.prototype.createEdge=function(){return new ua}; sa.prototype.addParts=sa.prototype.Ks=function(a,b){if(null!==a){void 0===b&&(b=!1);t.i(b,"boolean",sa,"addParts:toplevelonly");for(var c=a.k;c.next();){var d=c.value;if(d instanceof S&&(!b||d.sp)&&d.canLayout()&&!d.bi)if(d instanceof T&&null===d.jc)this.Ks(d.Rc,!1);else if(null===this.Qm(d)){var f=this.createVertex();f.Gc=d;this.Xk(f)}}for(c.reset();c.next();)if(d=c.value,d instanceof V&&(!b||d.sp)&&d.canLayout()&&null===this.Bw(d)){var g=d.aa,f=d.ca;g!==f&&(g=this.findGroupVertex(g),f=this.findGroupVertex(f), null!==g&&null!==f&&this.$m(g,f,d))}}};sa.prototype.findGroupVertex=function(a){if(null===a)return null;var b=a.findVisibleNode();if(null===b)return null;a=this.Qm(b);if(null!==a)return a;for(b=b.hb;null!==b;){a=this.Qm(b);if(null!==a)return a;b=b.hb}return null};sa.prototype.addVertex=sa.prototype.Xk=function(a){if(null!==a){e&&t.l(a,ta,sa,"addVertex:vertex");this.vertexes.add(a);var b=a.Gc;null!==b&&this.JA.add(b,a);a.network=this}}; sa.prototype.addNode=sa.prototype.Ko=function(a){if(null===a)return null;e&&t.l(a,S,sa,"addNode:node");var b=this.Qm(a);null===b&&(b=this.createVertex(),b.Gc=a,this.Xk(b));return b};sa.prototype.deleteVertex=sa.prototype.sE=function(a){if(null!==a&&(e&&t.l(a,ta,sa,"deleteVertex:vertex"),On(this,a))){for(var b=a.ef,c=b.count-1;0<=c;c--){var d=b.wa(c);this.Zo(d)}b=a.Te;for(c=b.count-1;0<=c;c--)d=b.wa(c),this.Zo(d)}}; function On(a,b){if(null===b)return!1;var c=a.vertexes.remove(b);c&&(a.JA.remove(b.Gc),b.network=null);return c}sa.prototype.deleteNode=function(a){null!==a&&(e&&t.l(a,S,sa,"deleteNode:node"),a=this.Qm(a),null!==a&&this.sE(a))};sa.prototype.findVertex=sa.prototype.Qm=function(a){if(null===a)return null;e&&t.l(a,S,sa,"findVertex:node");return this.JA.za(a)}; sa.prototype.addEdge=sa.prototype.Jo=function(a){if(null!==a){e&&t.l(a,ua,sa,"addEdge:edge");this.edges.add(a);var b=a.link;null!==b&&null===this.Bw(b)&&this.zA.add(b,a);b=a.toVertex;null!==b&&b.JD(a);b=a.fromVertex;null!==b&&b.GD(a);a.network=this}}; sa.prototype.addLink=function(a){if(null===a)return null;e&&t.l(a,V,sa,"addLink:link");var b=a.aa,c=a.ca,d=this.Bw(a);null===d?(d=this.createEdge(),d.link=a,null!==b&&(d.fromVertex=this.Ko(b)),null!==c&&(d.toVertex=this.Ko(c)),this.Jo(d)):(d.fromVertex=null!==b?this.Ko(b):null,d.toVertex=null!==c?this.Ko(c):null);return d};sa.prototype.deleteEdge=sa.prototype.Zo=function(a){if(null!==a){e&&t.l(a,ua,sa,"deleteEdge:edge");var b=a.toVertex;null!==b&&b.rE(a);b=a.fromVertex;null!==b&&b.qE(a);Pn(this,a)}}; function Pn(a,b){null!==b&&a.edges.remove(b)&&(a.zA.remove(b.link),b.network=null)}sa.prototype.deleteLink=function(a){null!==a&&(e&&t.l(a,V,sa,"deleteLink:link"),a=this.Bw(a),null!==a&&this.Zo(a))};sa.prototype.findEdge=sa.prototype.Bw=function(a){if(null===a)return null;e&&t.l(a,V,sa,"findEdge:link");return this.zA.za(a)}; sa.prototype.linkVertexes=sa.prototype.$m=function(a,b,c){if(null===a||null===b)return null;e&&(t.l(a,ta,sa,"linkVertexes:fromVertex"),t.l(b,ta,sa,"linkVertexes:toVertex"),null!==c&&t.l(c,V,sa,"linkVertexes:link"));if(a.network===this&&b.network===this){var d=this.createEdge();d.link=c;d.fromVertex=a;d.toVertex=b;this.Jo(d);return d}return null}; sa.prototype.reverseEdge=sa.prototype.ox=function(a){if(null!==a){e&&t.l(a,ua,sa,"reverseEdge:edge");var b=a.fromVertex,c=a.toVertex;null!==b&&null!==c&&(b.qE(a),c.rE(a),a.ox(),b.JD(a),c.GD(a))}};sa.prototype.deleteSelfEdges=sa.prototype.xw=function(){for(var a=t.Cb(),b=this.edges.k;b.next();){var c=b.value;c.fromVertex===c.toVertex&&a.push(c)}b=a.length;for(c=0;cd?1:0):1:null!==d?-1:0}; ta.smartComparer=function(a,b){e&&t.l(a,ta,ta,"smartComparer:m");e&&t.l(b,ta,ta,"smartComparer:n");if(null!==a){if(null!==b){var c=a.rd,d=b.rd;if(null!==c){if(null!==d){var c=c.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=d.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),f;for(f=0;f=f&&0>=g&&(f=1);a=this.spacing.width;isFinite(a)||(a=0);d=this.spacing.height;isFinite(d)||(d=0);null!==b&&b.sc("Layout");var h=[];switch(this.alignment){case il:var k= a,l=d,m=Math.max(this.$k.width,1);if(!isFinite(m))for(var n=m=0;nf-1||0< g&&0g)h.push(new x(0,D,g,G+l)),A=0,v=u,D+=G,G=0;G=Math.max(G,N);switch(s){case gl:q=-q.width;break;default:q=0}p.moveTo(v+q,D);switch(s){case gl:v-=L;break;default:v+=L}A++}h.push(new x(0,D,g,G+l));break;case hl:k=a;l=d;m=Math.max(this.$k.width,1);n=A=q=0;p=t.K();for(r=0;r=q&&(g-=q);q=0;N=Math.max(this.$k.height,1);O=n=0;for(var Y=!0,ba=t.K(),r=0;rf-1||0g){h.push(new x(0,G,g,(Y?O:O+n)+l));for(U=0;Ud?1:0}; Zj.smartComparer=function(a,b){e&&t.l(a,E,Zj,"standardComparer:a");e&&t.l(b,E,Zj,"standardComparer:b");if(null!==a){if(null!==b){var c=a.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=b.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),f;for(f=0;f=a.count)1===a.count&&(a=a.$a(),a.Da=0,a.Oa=0);else{var b=new B(Wn);b.Oe(a.k);a=new B(Wn);var c=new B(Wn),b=this.sort(b);a=new B(Wn);var c=new B(Wn),d=this.My,f=this.fC,g=this.Ad,h=this.Nn,k=this.Ny,l=this.Jq,m=this.Ak,n=this.xD,p=this.tg,q=this.uu,d=this.Qe,f=this.Bt,g= this.KF;if(!isFinite(g)||0>=g)g=NaN;h=this.OD;if(!isFinite(h)||0>=h)h=1;k=this.mh;isFinite(k)||(k=0);l=this.gi;if(!isFinite(l)||360l)l=360;m=this.spacing;isFinite(m)||(m=NaN);d===Cl&&f===Dl?d=Bl:d===Cl&&f!==Dl&&(f=Dl,d=this.Qe);if((this.direction===pl||this.direction===ql)&&this.sorting!==ol){for(var r=0;!(r>=b.length);r+=2){a.add(b.wa(r));if(r+1>=b.length)break;c.add(b.wa(r+1))}this.direction===pl?(this.Qe===Cl&&a.reverse(),b=new B(Wn),b.Oe(a),b.Oe(c)):(this.Qe===Cl&&c.reverse(),b=new B(Wn), b.Oe(c),b.Oe(a))}for(var s=b.length,u=n=0,r=0;rl&&(0===r||r===b.length-1)&&(v/=2);n+=v;u++}if(isNaN(g)||d===Cl){isNaN(m)&&(m=6);if(d!==Bl&&d!==Cl){v=-Infinity;for(r=0;rg?(g=r,p=g*h):q=u/(360<=l?s:s-1)}this.My=d;this.fC=f;this.Ad=g;this.Nn=h;this.Ny=k;this.Jq=l;this.Ak=m;this.xD=n;this.tg=p;this.uu=q;c=[b,a,c];b=c[0];a=c[1];c=c[2];d=this.My;f=this.Ad;h=this.Ny;k=this.Jq;l=this.Ak;m=this.tg;n=this.uu;if(this.direction!==pl&&this.direction!==ql||d!==Cl)if(this.direction===pl||this.direction===ql){g=0;switch(d){case Al:g=180*$n(this,f,m,h,n)/Math.PI;break;case Bl:n=b=0;g=a.$a();null!==g&&(b=Xn(g,Math.PI/2));g=c.$a();null!== g&&(n=Xn(g,Math.PI/2));g=180*$n(this,f,m,h,l+(b+n)/2)/Math.PI;break;case tl:g=k/b.length}if(this.direction===pl){switch(d){case Al:ao(this,a,h,sl);break;case Bl:bo(this,a,h,sl);break;case tl:co(this,a,k/2,h,sl)}switch(d){case Al:ao(this,c,h+g,rl);break;case Bl:bo(this,c,h+g,rl);break;case tl:co(this,c,k/2,h+g,rl)}}else{switch(d){case Al:ao(this,c,h,sl);break;case Bl:bo(this,c,h,sl);break;case tl:co(this,c,k/2,h,sl)}switch(d){case Al:ao(this,a,h+g,rl);break;case Bl:bo(this,a,h+g,rl);break;case tl:co(this, a,k/2,h+g,rl)}}}else switch(d){case Al:ao(this,b,h,this.direction);break;case Bl:bo(this,b,h,this.direction);break;case tl:co(this,b,k,h,this.direction);break;case Cl:eo(this,b,k,h,this.direction)}else eo(this,b,k,h-k/2,rl)}this.updateParts();this.network=null;this.$e=!0}; function co(a,b,c,d,f){var g=a.Jq,h=a.Ad;a=a.tg;d=d*Math.PI/180;c=c*Math.PI/180;for(var k=b.length,l=0;lc){for(g=d+(f===rl?g:-g);0>g;)g+=360;g%=360;180=n.length-1)break;var p=io(a,l,m,n,g,f);p[0]||(p=jo(a,l,m,n,g,f));l=p[1];m=p[2]}a.km++;if(!(23Math.abs(r)?Math.abs(l-g)<(n[0].width+n[n.length-1].width)/2&&(h=0):h=0Math.abs(q)?0:q;q=!1;q=Math.abs(g)>Math.abs(p)?0p:0l.jp||Math.abs(h)h&&0a.km?a.Ad-h/(2*Math.PI):5>n.length&&10=n.length-1)break;var q=io(a,l,m,n,p,f);q[0]||(q=jo(a,l,m,n,p,f));l=q[1];m=q[2]}a.km++;if(!(23a.km?a.Ad-g/(2*Math.PI):a.Ad-(0h){l=b-a;if(l<-h)return b=[!1],b[1]=l,b[2]=m,b;n=!0}}else if(l=b-a,l<-h){l=b+a;if(l>h)return b=[!1],b[1]=l,b[2]=m,b;n=!0}m=Math.sqrt(1-Math.min(1,l*l/(h*h)))*k;0>c!==n&&(m=-m);b=Math.abs(c-m)>(d[f].height+d[f+1].height)/2?[!1]:[!0];b[1]=l;b[2]=m;return b} function jo(a,b,c,d,f,g){var h=a.Ad,k=a.tg,l=0,m=0;a=(d[f].height+d[f+1].height)/2+a.Ak;var n=!1;if(0<=b!==(g===rl)){if(m=c-a,m<-k){m=c+a;if(m>k)return b=[!1],b[1]=l,b[2]=m,b;n=!0}}else if(m=c+a,m>k){m=c-a;if(m<-k)return b=[!1],b[1]=l,b[2]=m,b;n=!0}l=Math.sqrt(1-Math.min(1,m*m/(k*k)))*h;0>b!==n&&(l=-l);b=Math.abs(b-l)>(d[f].width+d[f+1].width)/2?[!1]:[!0];b[1]=l;b[2]=m;return b}function Un(){this.jp=-Infinity;this.$p=this.qn=null} Un.prototype.commit=function(a){if(null!==this.qn&&null!==this.$p)for(var b=0;bMath.abs(a.Nn-1))return void 0!==d&&void 0!==f?f*b:2*Math.PI*b;a=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c;var h=0,k;k=void 0!==d&&void 0!==f?f/(g+1):Math.PI/(2*(g+1));for(var l=0;l<=g;l++)var m=Math.sin(void 0!==d&&void 0!==f?d+l*f/g:l*Math.PI/(2*g)),h=h+Math.sqrt(1-a*a*m*m)*k;return void 0!==d&&void 0!==f?(b>c?b:c)*h:4*(b>c?b:c)*h}function Yn(a,b,c,d,f){a=void 0!==d&&void 0!==f?Zn(a,1,c,d,f):Zn(a,1,c);return b/a} function $n(a,b,c,d,f){if(0.001>Math.abs(a.Nn-1))return f/b;var g=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,h=0;a=2*Math.PI/(700*a.network.vertexes.count);b>c&&(d+=Math.PI/2);for(var k=0;;k++){var l=Math.sin(d+k*a),h=h+(b>c?b:c)*Math.sqrt(1-g*g*l*l)*a;if(h>=f)return k*a}return 0} jl.prototype.sort=function(a){switch(this.sorting){case ml:break;case nl:a.reverse();break;case kl:a.sort(this.comparer);break;case ll:a.sort(this.comparer);a.reverse();break;case ol:for(var b=[],c=0;cf&&(f=k,g=h)}else for(h=0;hf&&(f=k,g=h);d.add(a.wa(g));b[g]=-1;g=a.wa(g);f=g.rc;for(g=g.gc;f.next();)h=f.value,h=h.fromVertex,h=a.indexOf(h),0> h||0<=b[h]&&b[h]++;for(;g.next();)h=g.value,h=h.toVertex,h=a.indexOf(h),0>h||0<=b[h]&&b[h]++}a=[];for(b=0;ba[b].indexOf(m)&&a[b].push(m);for(;f.next();)l=f.value,m=d.indexOf(l.fromVertex),m!==b&&0>a[b].indexOf(m)&&a[b].push(m)}k=[];for(b=0;ba[c[q]].indexOf(c[q===c.length-1?0:q+1])&&v.push(q===c.length-1?0:q+1);if(0===v.length)for(q=0;qN.indexOf(ba)||RN.indexOf(ba)||R=D?m+1:m)),G+=m=D&&m++,L>=D&&L++,m>L&&(N=L,L=m,m=N),L-m<(c.length+2)/2===(mr||r===m||(u=r>m?r-m:m-r,s+=rp-u?1:-1);c.splice(0>s?m:m+1,0,b);f.splice(k,1);k--}else n=!1;if(n)break;else c.push(f[0]),f.splice(0,1)}for(b=0;b=a?a:360,this.J())});t.g(jl,"arrangement",jl.prototype.Qe); t.defineProperty(jl,{Qe:"arrangement"},function(){return this.cd},function(a){this.cd!==a&&(t.Aa(a,jl,jl,"arrangement"),a===Cl||a===Bl||a===Al||a===tl)&&(this.cd=a,this.J())});t.g(jl,"direction",jl.prototype.direction);t.defineProperty(jl,{direction:"direction"},function(){return this.sa},function(a){this.sa!==a&&(t.Aa(a,jl,jl,"direction"),a===rl||a===sl||a===pl||a===ql)&&(this.sa=a,this.J())});t.g(jl,"sorting",jl.prototype.sorting); t.defineProperty(jl,{sorting:"sorting"},function(){return this.Mh},function(a){this.Mh!==a&&(t.Aa(a,jl,jl,"sorting"),a===ml||a===nl||a===kl||ll||a===ol)&&(this.Mh=a,this.J())});t.g(jl,"comparer",jl.prototype.comparer);t.defineProperty(jl,{comparer:"comparer"},function(){return this.th},function(a){this.th!==a&&(t.i(a,"function",jl,"comparer"),this.th=a,this.J())});t.g(jl,"spacing",jl.prototype.spacing); t.defineProperty(jl,{spacing:"spacing"},function(){return this.Nh},function(a){this.Nh!==a&&(t.i(a,"number",jl,"spacing"),this.Nh=a,this.J())});t.g(jl,"nodeDiameterFormula",jl.prototype.Bt);t.defineProperty(jl,{Bt:"nodeDiameterFormula"},function(){return this.Ir},function(a){this.Ir!==a&&(t.Aa(a,jl,jl,"nodeDiameterFormula"),a===El||a===Dl)&&(this.Ir=a,this.J())});t.A(jl,{BH:"actualXRadius"},function(){return this.Ad});t.A(jl,{CH:"actualYRadius"},function(){return this.tg}); t.A(jl,{eK:"actualSpacing"},function(){return this.Ak});t.A(jl,{AH:"actualCenter"},function(){return isNaN(this.Fd.x)||isNaN(this.Fd.y)?new w(0,0):new w(this.Fd.x+this.BH,this.Fd.y+this.CH)});var Bl;jl.ConstantSpacing=Bl=t.w(jl,"ConstantSpacing",0);var Al;jl.ConstantDistance=Al=t.w(jl,"ConstantDistance",1);var tl;jl.ConstantAngle=tl=t.w(jl,"ConstantAngle",2);var Cl;jl.Packed=Cl=t.w(jl,"Packed",3);var rl;jl.Clockwise=rl=t.w(jl,"Clockwise",4);var sl; jl.Counterclockwise=sl=t.w(jl,"Counterclockwise",5);var pl;jl.BidirectionalLeft=pl=t.w(jl,"BidirectionalLeft",6);var ql;jl.BidirectionalRight=ql=t.w(jl,"BidirectionalRight",7);var ml;jl.Forwards=ml=t.w(jl,"Forwards",8);var nl;jl.Reverse=nl=t.w(jl,"Reverse",9);var kl;jl.Ascending=kl=t.w(jl,"Ascending",10);var ll;jl.Descending=ll=t.w(jl,"Descending",11);var ol;jl.Optimized=ol=t.w(jl,"Optimized",12);var El;jl.Pythagorean=El=t.w(jl,"Pythagorean",13);var Dl;jl.Circular=Dl=t.w(jl,"Circular",14); function Vn(){sa.call(this)}t.ga("CircularNetwork",Vn);t.Ka(Vn,sa);Vn.prototype.createVertex=function(){return new Wn};Vn.prototype.createEdge=function(){return new lo};function Wn(){ta.call(this);this.actualAngle=this.diameter=NaN}t.ga("CircularVertex",Wn);t.Ka(Wn,ta); function Xn(a,b){var c=a.network;if(null===c)return NaN;c=c.jc;if(null===c)return NaN;if(c.Qe===Cl)if(c.Bt===Dl)a.diameter=Math.max(a.width,a.height);else{var c=Math.abs(Math.sin(b)),d=Math.abs(Math.cos(b));if(0===c)return a.width;if(0===d)return a.height;a.diameter=Math.min(a.height/c,a.width/d)}else a.diameter=c.Bt===Dl?Math.max(a.width,a.height):Math.sqrt(a.width*a.width+a.height*a.height);return a.diameter}function lo(){ua.call(this)}t.ga("CircularEdge",lo);t.Ka(lo,ua); function mo(){0k?(f=l.x+l.width/2,g=l.y+l.height/2,h[0]=new w(l.x+l.width+c.width,l.y),h[1]=new w(l.x,l.y+ l.height+c.height),k=2):(p=po(h,k,f,g,l.width,l.height,c),q=h[p],r=new w(q.x+l.width+c.width,q.y),s=new w(q.x,q.y+l.height+c.height),p+1this.network.vertexes.count)return!1;var a=0,b=0,c=this.network.vertexes.k;c.next();for(var d=c.value.T;c.next();){if(c.value.T.Tf(d)&&(a++,1a.network.vertexes.count)return!1;null===a.sg?a.sg=new B(vo):a.sg.clear();a.sg.Oe(a.network.vertexes);var c=a.sg;c.sort(function(a,b){return null===a||null===b||a===b?0:b.Xf-a.Xf});for(var d=c.count-1;0<=d&&1>=c.n[d].Xf;)d--;return 1=h))){for(var n=0,p=0,q=m.count-h;qs&&(s=1);n=H.sqrt((n+s+p*p*4/(h*h))/s);h=(n-1)*l/2;n=(n-1)*q/2;g.Pb=new x(m-r.x-h,k-r.y-n,l+2*h,q+2*n);g.focus=new w(r.x+h,r.y+n)}a.network=d;return c} function uo(a,b,c){e&&(t.l(b,no,mo,"popNetwork:oldnet"),t.q(c,mo,"popNetwork:level"));for(c=a.network.vertexes.k;c.next();){var d=c.value;d.network=b;if(null!==d.kh){var f=d.kh.n[d.YA];d.Xf=f.wB;var g=f.$G,h=f.aH;d.Pb=new x(d.Da-g,d.Oa-h,f.yB,f.vB);d.focus=new w(g,h);d.YA--}}for(c=a.network.edges.k;c.next();)c.value.network=b;a.network=b} function wo(a,b,c){e&&(t.l(b,vo,mo,"surroundNode:oldnet"),t.q(c,mo,"surroundNode:level"));var d=b.Hm;if(null!==d&&0!==d.count){c=b.Da;var f=b.Oa,g=b.width,h=b.height;null!==b.kh&&0=p.Xf?l++:(k=!0,m++,h+=Math.atan2(b.Oa-p.Oa,b.Da-p.Da))}if(0!==l)for(0>1)+m)*(0===k%2?1:-1);p.Da=c+d*Math.cos(l);p.Oa=f+d*Math.sin(l);k++}}} function po(a,b,c,d,f,g,h){var k=9E19,l=-1,m=0;a:for(;mn.y&&a[q].x-n.xn.x&&a[q].y-n.yl+h?(d=d+g-k,f=f-l-h,H.sqrt(d*d+f*f)):f+ck+m?f>l+h?(d=d-k-m,f=f-l-h,H.sqrt(d*d+f*f)):f+cl+h?f-(l+h):f+c=b.length)return!1;var c=b[0];c.forceX=0;c.forceY=0;for(var d=c.Da,f=d,g=c.Oa,h=g,c=1;ch-g)?b.sort(function(a,b){return null===a||null===b||a===b?0:a.Da-b.Da}):b.sort(function(a,b){return null===a||null===b||a===b?0:a.Oa-b.Oa});for(var h=a.Fh,m=0,n=0,p=0,c=0;ch||p-d>h){if(g)break}else if(l-r>h||r-l>h){if(!g)break}else{var s=xo(k,f);1>s?(d>p?(n=Math.abs(f.T.right-k.T.x),n=(1+n)*Math.random()):dr?(p=Math.abs(f.T.bottom-k.T.y),p=(1+p)*Math.random()):ds?(n=(d>p?1:-1)*(1+(f.width>k.width)?f.width: k.width)*Math.random(),p=(l>r?1:-1)*(1+(f.height>k.height)?f.height:k.height)*Math.random()):(m=g.stiffness*(s-g.length),n=(p-d)/s*m,p=(r-l)/s*m),k.forceX+=n,k.forceY+=p,f.forceX-=n,f.forceY-=p;c=0;d=Math.max(a.Fh/20,50);for(f=0;fd&&(g=d),h<-d?h=-d:h>d&&(h=d),k.Da+=g,k.Oa+=h,c=Math.max(c,g*g+h*h));return c>a.bA*a.bA}mo.prototype.moveFixedVertex=function(){}; mo.prototype.commitLayout=function(){this.cB();this.commitNodes();this.rt&&this.commitLinks()};mo.prototype.cB=function(){if(this.xl)for(var a=this.network.edges.k;a.next();){var b=a.value.link;null!==b&&(b.pb=xb,b.sb=xb)}};mo.prototype.commitNodes=function(){var a=0,b=0;if(this.MD){var c=t.Gf();this.pf(this.network,c);b=this.Fd;a=b.x-c.x;b=b.y-c.y;t.hc(c)}for(var c=t.Gf(),d=this.network.vertexes.k;d.next();){var f=d.value;if(0!==a||0!==b)c.assign(f.T),c.x+=a,c.y+=b,f.Pb=c;f.commit()}t.hc(c)}; mo.prototype.commitLinks=function(){for(var a=this.network.edges.k;a.next();)a.value.commit()};mo.prototype.springStiffness=function(a){a=a.stiffness;return isNaN(a)?this.In:a};mo.prototype.springLength=function(a){a=a.length;return isNaN(a)?this.Hn:a};mo.prototype.electricalCharge=function(a){a=a.charge;return isNaN(a)?this.En:a};mo.prototype.electricalFieldX=function(){return 0};mo.prototype.electricalFieldY=function(){return 0}; mo.prototype.gravitationalMass=function(a){a=a.mass;return isNaN(a)?this.Gn:a};mo.prototype.gravitationalFieldX=function(){return 0};mo.prototype.gravitationalFieldY=function(){return 0};mo.prototype.isFixed=function(a){return a.isFixed};t.A(mo,{gK:"currentIteration"},function(){return this.ir});t.g(mo,"arrangementSpacing",mo.prototype.fw);t.defineProperty(mo,{fw:"arrangementSpacing"},function(){return this.bg},function(a){t.l(a,ga,mo,"arrangementSpacing");this.bg.M(a)||(this.bg.assign(a),this.J())}); t.g(mo,"arrangesToOrigin",mo.prototype.MD);t.defineProperty(mo,{MD:"arrangesToOrigin"},function(){return this.oq},function(a){this.oq!==a&&(t.i(a,"boolean",mo,"arrangesToOrigin"),this.oq=a,this.J())});t.g(mo,"setsPortSpots",mo.prototype.xl);t.defineProperty(mo,{xl:"setsPortSpots"},function(){return this.Lh},function(a){this.Lh!==a&&(t.i(a,"boolean",mo,"setsPortSpots"),this.Lh=a,this.J())});t.g(mo,"comments",mo.prototype.comments); t.defineProperty(mo,{comments:"comments"},function(){return this.sh},function(a){this.sh!==a&&(t.i(a,"boolean",mo,"comments"),this.sh=a,this.J())});t.g(mo,"maxIterations",mo.prototype.ex);t.defineProperty(mo,{ex:"maxIterations"},function(){return this.oo},function(a){this.oo!==a&&(t.i(a,"number",mo,"maxIterations"),0<=a&&(this.oo=a,this.J()))});t.g(mo,"epsilonDistance",mo.prototype.bA); t.defineProperty(mo,{bA:"epsilonDistance"},function(){return this.Lq},function(a){this.Lq!==a&&(t.i(a,"number",mo,"epsilonDistance"),0b.toVertex.index&&(this.network.ox(b),b.rev=!0);break;case Ao:for(b=this.network.vertexes.k;b.next();)b.value.$o=-1,b.value.finish=-1;for(a=this.network.edges.k;a.next();)a.value.forest=!1;this.Fr=0;for(b.reset();b.next();)0===b.value.rc.count&&Vo(this,b.value);for(b.reset();b.next();)-1===b.value.$o&&Vo(this,b.value);for(a.reset();a.next();)b=a.value,b.forest|| (c=b.fromVertex,d=c.finish,f=b.toVertex,g=f.finish,f.$os&&0s&&0b[this.Kf]&&(this.cv=b[c]-1,this.Kf=c),b[c]k)for(p=k+1;pl;p--)n=d[p],n.near===m&&n.Cm===m.Cm||h++;var q,r,s,u,v,D;if(0<=c)for(l=d[k].ef,m=0;mu||n===u&&q>s)&&h++,vn||u===n&&s>q)&&h++);if(0>=c)for(l=d[k].Te,m=0;mu||n===u&&p>v)&&h++,sn||u===n&&v>p)&&h++);g[k*f+k]=h;for(l=k+1;l=c)for(h=d[k].Te,D=d[l].Te,m=0;m=c&&(l=k.ef);var m=null;0<=c&&(m=k.Te);var n=0,p=0,q=k.near;null!==q&&q.layer===k.layer&&(n+=q.column-1,p++);if(null!==l)for(q=0;q=c&&(l=k.ef);var m=null;0<=c&&(m=k.Te);var n=0,p=[],q=k.near;null!==q&&q.layer===k.layer&&(p[n]=q.column-1,n++);if(null!==l)for(q=0;q>1,g[h]=n&1?p[m]:p[m-1]+p[m]>>1)}Zo(a,b,d);return g}function gp(a,b,c,d,f,g){if(b.component===d){b.component=c;var h,k;if(f)for(var l=b.gc;l.next();){var m=l.value.toVertex;h=b.layer-m.layer;k=a.linkMinLength(l.value);h===k&&gp(a,m,c,d,f,g)}if(g)for(l=b.rc;l.next();)m=l.value.fromVertex,h=m.layer-b.layer,k=a.linkMinLength(l.value),h===k&&gp(a,m,c,d,f,g)}} function hp(a,b,c,d,f,g){if(b.component===d){b.component=c;if(f)for(var h=b.gc,k;h.next();)k=h.value.toVertex,hp(a,k,c,d,f,g);if(g)for(b=b.rc;b.next();)h=b.value.fromVertex,hp(a,h,c,d,f,g)}}function So(a){for(a=a.vertexes.k;a.next();){var b=a.value;if(b.valid)return b}return null}function To(a){for(a=a.vertexes.k;a.next();){var b=a.value;if(b.valid){for(var c=!0,d=b.gc;d.next();)if(d.value.toVertex.valid){c=!1;break}if(c)return b}}return null} function Uo(a){for(a=a.vertexes.k;a.next();){var b=a.value;if(b.valid){for(var c=!0,d=b.rc;d.next();)if(d.value.fromVertex.valid){c=!1;break}if(c)return b}}return null}function Vo(a,b){b.$o=a.Fr;a.Fr++;for(var c=b.gc;c.next();){var d=c.value,f=d.toVertex;-1===f.$o&&(d.forest=!0,Vo(a,f))}b.finish=a.Fr;a.Fr++} Z.prototype.assignLayers=function(){switch(this.mo){case ip:jp(this);break;case kp:for(var a,b=this.network.vertexes.k;b.next();)a=lp(this,b.value),this.lb=Math.max(a,this.lb);for(b.reset();b.next();)a=b.value,a.layer=this.lb-a.layer;break;default:case Bo:jp(this);for(b=this.network.vertexes.k;b.next();)b.value.valid=!1;for(b.reset();b.next();)0===b.value.rc.count&&mp(this,b.value);a=Infinity;for(b.reset();b.next();)a=Math.min(a,b.value.layer);this.lb=-1;for(b.reset();b.next();)b.value.layer-=a,this.lb= Math.max(this.lb,b.value.layer)}};function jp(a){for(var b=a.network.vertexes.k;b.next();){var c=np(a,b.value);a.lb=Math.max(c,a.lb)}}function np(a,b){var c=0;if(-1===b.layer){for(var d=b.gc;d.next();)var f=d.value,g=a.linkMinLength(f),c=Math.max(c,np(a,f.toVertex)+g);b.layer=c}else c=b.layer;return c}function lp(a,b){var c=0;if(-1===b.layer){for(var d,f,g=b.rc;g.next();)f=g.value,d=a.linkMinLength(f),c=Math.max(c,lp(a,f.fromVertex)+d);b.layer=c}else c=b.layer;return c} function mp(a,b){if(!b.valid){b.valid=!0;for(var c=b.gc;c.next();)mp(a,c.value.toVertex);for(c=a.network.vertexes.k;c.next();)c.value.component=-1;for(var d=b.ef.n,f=d.length,g=0;gk&&gp(a,h.fromVertex,0,-1,!0,!1)}for(gp(a,b,1,-1,!0,!0);0!==b.component;){for(var k=0,d=Infinity,l=0,m=null,n=a.network.vertexes.k;n.next();){var p=n.value;if(1===p.component){for(var q=0,r=!1,s=p.ef.n,f=s.length,g=0;gd)&&!p&&(k=m,d=n)}if(0>g){for(c.reset();c.next();)g=c.value,1===g.component&&(g.layer-=f);b.component=0}else k.component=0}}} function Xo(a,b,c){return 90===a.sa?c&&!b.rev||!c&&b.rev?270:90:180===a.sa?c&&!b.rev||!c&&b.rev?0:180:270===a.sa?c&&!b.rev||!c&&b.rev?90:270:c&&!b.rev||!c&&b.rev?180:0} Z.prototype.initializeIndices=function(){switch(this.Yn){default:case op:for(var a,b=this.network.vertexes.k;b.next();){var c=b.value;a=c.layer;c.index=this.Od[a];this.Od[a]++}break;case Co:b=this.network.vertexes.k;for(a=this.lb;0<=a;a--){for(;b.next();)b.value.layer===a&&-1===b.value.index&&pp(this,b.value);b.reset()}break;case qp:for(b=this.network.vertexes.k,a=0;a<=this.lb;a++){for(;b.next();)b.value.layer===a&&-1===b.value.index&&rp(this,b.value);b.reset()}}}; function pp(a,b){var c=b.layer;b.index=a.Od[c];a.Od[c]++;for(var c=b.Te.Ie(),d=!0,f;d;)for(d=!1,f=0;fh.portFromColOffset&&(d=!0,c[f]=h,c[f+1]=g)}for(f=0;fh.portToColOffset&&(d=!0,c[f]=h,c[f+1]=g)}for(f=0;f=h;d--)g=tp(this,d,-1)||g;f=this.countCrossings();f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=tp(this,d,1)||g;f=this.countCrossings();f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=tp(this,d,1)||g;f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g= tp(this,d,-1)||g;f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=tp(this,d,0)||g;f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=tp(this,d,0)||g;f>=a?bp(this,b):(a=f,b=ap(this))}break;default:case Do:for(c=this.lb,h=0,k=a+1;(d=this.countCrossings())=h;d--)g=tp(this,d,-1)||g;f=this.countCrossings();f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=tp(this,d,1)||g;f=this.countCrossings();f>=a?bp(this,b): (a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=tp(this,d,1)||g;f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=tp(this,d,-1)||g;f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=c;d>=h;d--)g=tp(this,d,0)||g;f>=a?bp(this,b):(a=f,b=ap(this));for(g=!0;g;)for(g=!1,d=h;d<=c;d++)g=tp(this,d,0)||g;f>=a?bp(this,b):(a=f,b=ap(this))}}bp(this,b)}; function sp(a,b,c){e&&(t.q(b,Z,"medianBarycenterCrossingReduction:unfixedLayer"),t.q(c,Z,"medianBarycenterCrossingReduction:direction"));var d=Yo(a,b),f=a.Od[b],g=fp(a,b,c),h=ep(a,b,c);for(c=0;cg+1&&(q+=4*(A-g),r+=4*(A-(g+1)))}L=d[g].gc.k;for(L.reset();L.next();)if(G=L.value,G.valid&&G.toVertex.layer===b){G=G.toVertex;for(A=0;d[A]!==G;)A++;A===g+1&&(r+=1)}L=d[g+1].rc.k;for(L.reset();L.next();)if(G=L.value,G.valid&&G.fromVertex.layer===b){G=G.fromVertex;for(A=0;d[A]!==G;)A++;Ag+1&&(q+=4*(A-(g+1)),r+=4*(A-g))}L=d[g+1].gc.k;for(L.reset();L.next();)if(G=L.value, G.valid&&G.toVertex.layer===b){G=G.toVertex;for(A=0;d[A]!==G;)A++;A===g&&(q+=1)}var A=G=0,L=h[d[g].index],N=k[d[g].index],O=h[d[g+1].index],U=k[d[g+1].index];-1!==L&&(G+=Math.abs(L-s),A+=Math.abs(L-D));-1!==N&&(G+=Math.abs(N-s),A+=Math.abs(N-D));-1!==O&&(G+=Math.abs(O-u),A+=Math.abs(O-v));-1!==U&&(G+=Math.abs(U-u),A+=Math.abs(U-v));if(r>1)+8*g;this.Ib*=8}if(0!==(this.Gi&xp))for(b=!0;b;){b=!1;for(a=this.Kf+1;a<=this.lb;a++)b=yp(this,a,1)||b;for(a=this.Kf- 1;0<=a;a--)b=yp(this,a,-1)||b;b=yp(this,this.Kf,0)||b}if(0!==(this.Gi&zp)){for(a=this.Kf+1;a<=this.lb;a++)Ap(this,a,1);for(a=this.Kf-1;0<=a;a--)Ap(this,a,-1);Ap(this,this.Kf,0)}c&&(Bp(this,-1),Bp(this,1));if(0!==(this.Gi&xp))for(b=!0;b;){b=!1;b=yp(this,this.Kf,0)||b;for(a=this.Kf+1;a<=this.lb;a++)b=yp(this,a,0)||b;for(a=this.Kf-1;0<=a;a--)b=yp(this,a,0)||b}};function yp(a,b,c){e&&(t.q(b,Z,"bendStraighten:unfixedLayer"),t.q(c,Z,"bendStraighten:direction"));for(var d=!1;Cp(a,b,c);)d=!0;return d} function Cp(a,b,c){e&&(t.q(b,Z,"shiftbendStraighten:unfixedLayer"),t.q(c,Z,"shiftbendStraighten:direction"));var d,f=Yo(a,b),g=a.Od[b],h=ep(a,b,-1);if(0c)for(d=0;dd-1||n-f[d-1].column-1>p+a.nodeMinColumnSpace(f[d-1],!1)?n-1:n,q=d+1>=g||f[d+1].column-n-1>q+a.nodeMinColumnSpace(f[d+1],!0)?n+1:n,r=0,s=0,u=0,v,D, A,G;if(0>=c)for(var L=f[d].rc.k;L.next();)v=L.value,v.valid&&v.fromVertex.layer!==b&&(D=$o(v),A=v.portFromColOffset,G=v.portToColOffset,v=v.fromVertex.column,r+=(Math.abs(n+G-(v+A))+1)*D,s+=(Math.abs(p+G-(v+A))+1)*D,u+=(Math.abs(q+G-(v+A))+1)*D);if(0<=c)for(L=f[d].gc.k;L.next();)v=L.value,v.valid&&v.toVertex.layer!==b&&(D=$o(v),A=v.portFromColOffset,G=v.portToColOffset,v=v.toVertex.column,r+=(Math.abs(n+A-(v+G))+1)*D,s+=(Math.abs(p+A-(v+G))+1)*D,u+=(Math.abs(q+A-(v+G))+1)*D);G=A=D=0;v=h[f[d].index]; L=k[f[d].index];-1!==v&&(D+=Math.abs(v-n),A+=Math.abs(v-p),G+=Math.abs(v-q));-1!==L&&(D+=Math.abs(L-n),A+=Math.abs(L-p),G+=Math.abs(L-q));if(s=h[c]?n=l:m<=h[c]&&(n=m));n!==k&&(g=!0,d[c].column=n)}Zo(a,b,d);a.normalize()} function Dp(a,b){e&&(t.q(b,Z,"packAux:column"),t.q(1,Z,"packAux:direction"));for(var c=!0,d=a.network.vertexes.k,f;d.next();){f=d.value;var g=a.nodeMinColumnSpace(f,!0),h=a.nodeMinColumnSpace(f,!1);if(f.column-g<=b&&f.column+h>=b){c=!1;break}}g=!1;if(c)for(d.reset();d.next();)f=d.value,f.column>b&&(f.column-=1,g=!0);return g} function Ep(a,b){e&&(t.q(b,Z,"tightPackAux:column"),t.q(1,Z,"tightPackAux:direction"));var c=b,c=b+1,d,f=[],g=[];for(d=0;d<=a.lb;d++)f[d]=!1,g[d]=!1;for(var h=a.network.vertexes.k;h.next();){d=h.value;var k=d.column-a.nodeMinColumnSpace(d,!0),l=d.column+a.nodeMinColumnSpace(d,!1);k<=b&&l>=b&&(f[d.layer]=!0);k<=c&&l>=c&&(g[d.layer]=!0)}k=!0;c=!1;for(d=0;d<=a.lb;d++)k=k&&!(f[d]&&g[d]);if(k)for(h.reset();h.next();)d=h.value,d.column>b&&(d.column-=1,c=!0);return c} function Bp(a,b){e&&t.q(b,Z,"componentPack:direction");for(var c=0;c<=a.Ib;c++)for(;Dp(a,c););a.normalize();for(c=0;cf?bp(a,d):hb)for(c=a.Ib;0<=c;c--)for(d=ap(a),f=dp(a),g=f+1;ff?bp(a,d):hc)for(d.reset();d.next();)f=d.value,f.column+a.nodeMinColumnSpace(f,!1)>=b&&(f.component=a.lg);a.lg++;for(d.reset();d.next();)f=d.value,-1===f.component&&(hp(a,f,a.lg,-1,!0,!0),a.lg++);b=[];for(f=0;fc)for(k=a.Ib;0c)for(d.reset();d.next();)f=d.value,g[f.component]&&(f.column+=1)}Z.prototype.commitLayout=function(){if(this.xl)for(var a=Wo(this,!0),b=Wo(this,!1),c=this.network.edges.k,d;c.next();)d=c.value.link,null!==d&&(d.pb=a,d.sb=b);this.commitNodes();this.Uz();this.rt&&this.commitLinks()}; function Wo(a,b){return 270===a.sa?b?Qb:Xb:90===a.sa?b?Xb:Qb:180===a.sa?b?Vb:Wb:b?Wb:Vb} Z.prototype.commitNodes=function(){this.Wg=[];this.ig=[];this.Jf=[];this.Ob=[];for(var a=0;a<=this.lb;a++)this.Wg[a]=0,this.ig[a]=0,this.Jf[a]=0,this.Ob[a]=0;for(var a=this.network.vertexes.k,b,c;a.next();)b=a.value,c=b.layer,this.Wg[c]=Math.max(this.Wg[c],this.nodeMinLayerSpace(b,!0)),this.ig[c]=Math.max(this.ig[c],this.nodeMinLayerSpace(b,!1));var d=0,f=this.bm;for(b=0;b<=this.lb;b++)c=f,0>=this.Wg[b]+this.ig[b]&&(c=0),0=za.T.y&&$b<=za.T.bottom&&(Ga=za.Da+lf,$b=$b=za.T.x&&$b<=za.T.right&&(Ga=za.Oa+lf,$b=$brb.y&&(od=Uc.y>rb.y?0:Za.xtb.x&&(Gc=te.x>tb.x?0:Vc.yb.layer?1:a.Beb.Be?1:a.Udb.Ud?1:0:0}; Z.prototype.eG=function(a,b){return a instanceof Gp&&b instanceof Gp&&a!==b?a.$ab.$a||a.hib.hi||a.Beb.Be?1:a.Udb.Ud?1:0:0};Z.prototype.px=function(a,b){return a instanceof Gp&&b instanceof Gp&&a!==b?a.$db.$d||a.hib.hi||a.Beb.Be?1:a.Udb.Ud?1:0:0};Z.prototype.I=function(a,b){e&&(t.q(a,Z,"isApprox:a"),t.q(b,Z,"isApprox:b"));var c=a-b;return-1c}; function Hp(a,b,c,d){e&&(t.q(a,Z,"isUnoccupied2:px"),t.q(b,Z,"isUnoccupied2:py"),t.q(c,Z,"isUnoccupied2:qx"),t.q(d,Z,"isUnoccupied2:qy"));return!0}function Yo(a,b){var c,d=a.Od[b];if(d>=a.Zg.length){c=[];var f;for(f=0;fa&&(this.Gi=a,this.J()))});t.g(Z,"setsPortSpots",Z.prototype.xl);t.defineProperty(Z,{xl:"setsPortSpots"},function(){return this.Lh},function(a){this.Lh!==a&&(t.i(a,"boolean",Z,"setsPortSpots"),this.Lh=a,this.J())});t.g(Z,"linkSpacing",Z.prototype.yp); t.defineProperty(Z,{yp:"linkSpacing"},function(){return this.yj},function(a){this.yj!==a&&(t.i(a,"number",Z,"linkSpacing"),0<=a&&(this.yj=a,this.J()))});t.A(Z,{mJ:"maxLayer"},function(){return this.lb});t.A(Z,{EK:"maxIndex"},function(){return this.cv});t.A(Z,{DK:"maxColumn"},function(){return this.Ib});t.A(Z,{GK:"minIndexLayer"},function(){return this.zr});t.A(Z,{FK:"maxIndexLayer"},function(){return this.Kf});var Ao;Z.CycleDepthFirst=Ao=t.w(Z,"CycleDepthFirst",0);var Ro; Z.CycleGreedy=Ro=t.w(Z,"CycleGreedy",1);var Bo;Z.LayerOptimalLinkLength=Bo=t.w(Z,"LayerOptimalLinkLength",0);var ip;Z.LayerLongestPathSink=ip=t.w(Z,"LayerLongestPathSink",1);var kp;Z.LayerLongestPathSource=kp=t.w(Z,"LayerLongestPathSource",2);var Co;Z.InitDepthFirstOut=Co=t.w(Z,"InitDepthFirstOut",0);var qp;Z.InitDepthFirstIn=qp=t.w(Z,"InitDepthFirstIn",1);var op;Z.InitNaive=op=t.w(Z,"InitNaive",2);var up;Z.AggressiveNone=up=t.w(Z,"AggressiveNone",0);var Do; Z.AggressiveLess=Do=t.w(Z,"AggressiveLess",1);var vp;Z.AggressiveMore=vp=t.w(Z,"AggressiveMore",2);Z.PackNone=0;var wp;Z.PackExpand=wp=1;var xp;Z.PackStraighten=xp=2;var zp;Z.PackMedian=zp=4;var Eo;Z.PackAll=Eo=7;function No(){sa.call(this)}t.ga("LayeredDigraphNetwork",No);t.Ka(No,sa);No.prototype.createVertex=function(){return new Ip};No.prototype.createEdge=function(){return new Jp}; function Ip(){ta.call(this);this.index=this.column=this.layer=-1;this.component=NaN;this.near=null;this.valid=!1;this.finish=this.$o=NaN;this.Cm=0;this.HA=this.IA=void 0}t.ga("LayeredDigraphVertex",Ip);t.Ka(Ip,ta);function Jp(){ua.call(this);this.forest=this.rev=this.valid=!1;this.portToPos=this.portFromPos=NaN;this.portToColOffset=this.portFromColOffset=0}t.ga("LayeredDigraphEdge",Jp);t.Ka(Jp,ua); function X(){0b.level)return!1;a.removeChild(c.parent,c)}return!0} X.prototype.removeChild=function(a,b){if(null!==a&&null!==b){e&&t.l(a,Pp,X,"removeChild:p");e&&t.l(b,Pp,X,"removeChild:c");for(var c=a.children,d=0,f=0;fg?yq(a,k,va,G,L):zq(a,k,va,G,L);va=ba[0];G=ba[1];L=ba[2];break;case mq:for(m=0;ms&&(RGa&&(Eq(a,-Ga,0,Na,m-1),Fq(O,-Ga,0),Fq(U,-Ga,0),Ga=0);n.na.p(Ga,xa);G=Math.max(G,Y);L=Math.max(L,N+(0===Ya?0:D)+Pa.height);R=Y}else{0s&&(xaGa&&(Eq(a,0,-Ga,Na,m-1),Fq(O,0,-Ga),Fq(U,0,-Ga),Ga=0);n.na.p(R,Ga);L=Math.max(L,ba);G=Math.max(G,N+(0===Ya?0:D)+Pa.width);xa=ba}za++}0h&&(h=0),135q&&(q=0),p===nq&&(l+=u/2+a.O.y),k+=d+c):b?(null===a.comments?d>G&&(p=Jq(p,d-G,0),k=p[0],l=p[1],G=d,h=0):G=Hq(a,G,h),0>h&&(k-=h,h=0),135L&&(p=Jq(p,0,f-L),k=p[0],l=p[1],L=f,q=0):L=Iq(a,L,q),0>q&&(l-=q,q=0),k+=d+c);if(0g[0].x?g[2].assign(g[1]):g[1].assign(g[2])),g[3].yg[0].x?g[3].assign(g[2]):g[2].assign(g[3])),p[0].p(h+d,0),p[1].p(p[0].x,f),p[2].yg[0].y?g[2].assign(g[1]):g[1].assign(g[2])),g[3].xg[0].y?g[3].assign(g[2]):g[2].assign(g[3])),p[0].p(0,q+f),p[1].p(d,p[0].y),p[2].xc?yq(b,f,za,N,O):zq(b,f,za,N,O);za=O[0];N=O[1];O=O[2];break;case mq:for(k=0;kr&&(Yr&&(bap&&(p=0),135G&&(G=0));b.Ia.p(p,G);b.Za.p(N,O)}} function yq(a,b,c,d,f){e&&t.l(a,Pp,X,"layoutBusChildrenPosDir:v");var g=b.length;if(0===g)return a=[],a[0]=c,a[1]=d,a[2]=f,a;if(1===g){var h=b[0];d=h.Za.width;f=h.Za.height;a=[];a[0]=c;a[1]=d;a[2]=f;return a}for(var k=a.nodeSpacing,l=a.rowSpacing,m=90===tq(a),n=0,p=0,q=0,r=0;rm&&(d-=m),f=Math.max(f,Math.max(A,q)+b+s.height),0>h.na.x&&(c=Sq(a,h.na.x,!1,c,k))):(h.na.p(d+b,c+k/2-h.O.y-h.Ia.y),d=Math.max(d,Math.max(D,p)+b+s.width),m=c+k/2-h.O.y-h.Ia.y,f=Math.max(f,m+s.height),0>m&&(f-=m),0>h.na.y&&(c=Sq(a,h.na.y,!0,c,k))));a=[];a[0]=c;a[1]=d;a[2]=f;return a} function zq(a,b,c,d,f){e&&t.l(a,Pp,X,"layoutBusChildrenNegDir:v");var g=b.length;if(0===g)return a=[],a[0]=c,a[1]=d,a[2]=f,a;if(1===g){var h=b[0];d=h.Za.width;f=h.Za.height;a=[];a[0]=c;a[1]=d;a[2]=f;return a}for(var k=a.nodeSpacing,l=a.rowSpacing,m=270===tq(a),n=0,p=0,q=0,r=0;rp&&(d-=p),f=Math.max(f,Math.abs(Math.min(A,q))+l+s.height),0>h.na.x&&(c=Sq(a,h.na.x,!1,c,k))):(h.na.p(-d-s.width-l,c+k/2-h.O.y-h.Ia.y),d=Math.max(d,Math.abs(Math.min(D,p))+l+s.width),p=c+k/2-h.O.y-h.Ia.y,f=Math.max(f,p+s.height),0>p&&(f-=p),0>h.na.y&&(c=Sq(a,h.na.y,!0,c,k))));for(r=0;rd&&(d=c+a.width);0>c&&(d-=c);return d;case uq:return a.width>b?a.width:b;case vq:return 2*a.O.x>b?a.width:b+a.width-2*a.O.x;case lq:case aq:return d=Math.min(0,c),c=Math.max(b,c+a.width),Math.max(a.width,c-d);case mq:return a.width-a.O.x+a.nodeSpacing/2+b;case nq:return Math.max(a.width,a.O.x+a.nodeSpacing/2+b);default:return b}} function Iq(a,b,c){e&&t.l(a,Pp,X,"calculateSubheight:v");switch(a.alignment){case jq:case Gq:var d=b;c+a.height>d&&(d=c+a.height);0>c&&(d-=c);return d;case uq:return a.height>b?a.height:b;case vq:return 2*a.O.y>b?a.height:b+a.height-2*a.O.y;case lq:case aq:return d=Math.min(0,c),c=Math.max(b,c+a.height),Math.max(a.height,c-d);case mq:return a.height-a.O.y+a.nodeSpacing/2+b;case nq:return Math.max(a.height,a.O.y+a.nodeSpacing/2+b);default:return b}} function Jq(a,b,c){e&&t.l(a,da,X,"alignOffset:align");switch(a){case Gq:b/=2;c/=2;break;case jq:b/=2;c/=2;break;case uq:c=b=0;break;case vq:break;default:t.m("Unhandled alignment value "+a.toString())}a=[];a[0]=b;a[1]=c;return a}function Bq(a,b,c,d,f,g){e&&t.l(a,Pp,X,"shiftRelPosAlign:v");e&&t.l(b,da,X,"shiftRelPosAlign:align");b=Jq(b,c,d);Eq(a,b[0],b[1],f,g)}function Eq(a,b,c,d,f){e&&t.l(a,Pp,X,"shiftRelPos:v");if(0!==b||0!==c)for(a=a.children;d<=f;d++){var g=a[d].na;g.x+=b;g.y+=c}} function Cq(a,b,c,d){e&&(t.l(b,Pp,X,"recordMidPoints:v"),t.i(c,"number",X,"recordMidPoints:x"),t.i(d,"number",X,"recordMidPoints:y"));var f=b.parent;switch(a.If){case Lp:for(a=b.rc;a.next();)b=a.value,b.fromVertex===f&&b.Sr.p(c,d);break;case Tp:for(a=b.gc;a.next();)b=a.value,b.toVertex===f&&b.Sr.p(c,d);break;default:t.m("Unhandled path value "+a.If.toString())}}function Fq(a,b,c){for(var d=0;dn.length||null===p||2>p.length))for(g= f=0;fu&&k.yk.y&&ub.length||null===f||2>f.length)d=null;else{m=Aq(a,b.length+f.length);for(d=l=k=0;lk;)u=f[l++],m[d++].p(u.x+g,u.y);f=Aq(a,d);for(k=0;kn.length||null===l||2>l.length)f=null;else{m=Aq(a,n.length+l.length);for(g=v=f=0;fl;)k=n[f++],m[g++].p(k.x, k.y);k=Aq(a,g);for(f=0;fn.length||null===p||2>p.length))for(g=f=0;fl&&k.xk.x&&lb.length||null===f||2>f.length)d=null;else{m=Aq(a,b.length+f.length);for(d=l=k=0;lk;)u=f[l++],m[d++].p(u.x,u.y+g);f=Aq(a,d);for(k=0;kn.length||null===l||2>l.length)f=null;else{m=Aq(a,n.length+l.length);for(g=v=f=0;fl;)k=n[f++],m[g++].p(k.x,k.y);k=Aq(a,g);for(f=0;f=a?0:135>=a?90:225>=a?180:315>=a?270:0} function wq(a){e&&t.l(a,Pp,X,"computeLayerSpacing:v");var b=tq(a),b=90===b||270===b,c=a.layerSpacing;if(0=a&&(this.ua.nodeIndentPastParent=a,this.J()))});t.g(X,"nodeSpacing",X.prototype.nodeSpacing);t.defineProperty(X,{nodeSpacing:"nodeSpacing"},function(){return this.ua.nodeSpacing},function(a){this.ua.nodeSpacing!==a&&(t.i(a,"number",X,"nodeSpacing"),this.ua.nodeSpacing=a,this.J())}); t.g(X,"layerSpacing",X.prototype.layerSpacing);t.defineProperty(X,{layerSpacing:"layerSpacing"},function(){return this.ua.layerSpacing},function(a){this.ua.layerSpacing!==a&&(t.i(a,"number",X,"layerSpacing"),this.ua.layerSpacing=a,this.J())});t.g(X,"layerSpacingParentOverlap",X.prototype.layerSpacingParentOverlap); t.defineProperty(X,{layerSpacingParentOverlap:"layerSpacingParentOverlap"},function(){return this.ua.layerSpacingParentOverlap},function(a){this.ua.layerSpacingParentOverlap!==a&&(t.i(a,"number",X,"layerSpacingParentOverlap"),0<=a&&1>=a&&(this.ua.layerSpacingParentOverlap=a,this.J()))});t.g(X,"compaction",X.prototype.compaction); t.defineProperty(X,{compaction:"compaction"},function(){return this.ua.compaction},function(a){this.ua.compaction!==a&&(t.Aa(a,X,X,"compaction"),a===qq||a===sq)&&(this.ua.compaction=a,this.J())});t.g(X,"breadthLimit",X.prototype.breadthLimit);t.defineProperty(X,{breadthLimit:"breadthLimit"},function(){return this.ua.breadthLimit},function(a){this.ua.breadthLimit!==a&&(t.i(a,"number",X,"breadthLimit"),0<=a&&(this.ua.breadthLimit=a,this.J()))});t.g(X,"rowSpacing",X.prototype.rowSpacing); t.defineProperty(X,{rowSpacing:"rowSpacing"},function(){return this.ua.rowSpacing},function(a){this.ua.rowSpacing!==a&&(t.i(a,"number",X,"rowSpacing"),this.ua.rowSpacing=a,this.J())});t.g(X,"rowIndent",X.prototype.rowIndent);t.defineProperty(X,{rowIndent:"rowIndent"},function(){return this.ua.rowIndent},function(a){this.ua.rowIndent!==a&&(t.i(a,"number",X,"rowIndent"),0<=a&&(this.ua.rowIndent=a,this.J()))});t.g(X,"commentSpacing",X.prototype.commentSpacing); t.defineProperty(X,{commentSpacing:"commentSpacing"},function(){return this.ua.commentSpacing},function(a){this.ua.commentSpacing!==a&&(t.i(a,"number",X,"commentSpacing"),this.ua.commentSpacing=a,this.J())});t.g(X,"commentMargin",X.prototype.commentMargin);t.defineProperty(X,{commentMargin:"commentMargin"},function(){return this.ua.commentMargin},function(a){this.ua.commentMargin!==a&&(t.i(a,"number",X,"commentMargin"),this.ua.commentMargin=a,this.J())});t.g(X,"setsPortSpot",X.prototype.setsPortSpot); t.defineProperty(X,{setsPortSpot:"setsPortSpot"},function(){return this.ua.setsPortSpot},function(a){this.ua.setsPortSpot!==a&&(t.i(a,"boolean",X,"setsPortSpot"),this.ua.setsPortSpot=a,this.J())});t.g(X,"portSpot",X.prototype.portSpot);t.defineProperty(X,{portSpot:"portSpot"},function(){return this.ua.portSpot},function(a){t.l(a,I,X,"portSpot");this.ua.portSpot.M(a)||(this.ua.portSpot=a,this.J())});t.g(X,"setsChildPortSpot",X.prototype.setsChildPortSpot); t.defineProperty(X,{setsChildPortSpot:"setsChildPortSpot"},function(){return this.ua.setsChildPortSpot},function(a){this.ua.setsChildPortSpot!==a&&(t.i(a,"boolean",X,"setsChildPortSpot"),this.ua.setsChildPortSpot=a,this.J())});t.g(X,"childPortSpot",X.prototype.childPortSpot);t.defineProperty(X,{childPortSpot:"childPortSpot"},function(){return this.ua.childPortSpot},function(a){t.l(a,I,X,"childPortSpot");this.ua.childPortSpot.M(a)||(this.ua.childPortSpot=a,this.J())});t.g(X,"alternateSorting",X.prototype.YH); t.defineProperty(X,{YH:"alternateSorting"},function(){return this.ta.sorting},function(a){this.ta.sorting!==a&&(t.Aa(a,X,X,"alternateSorting"),a===fq||a===gq||a===hq||iq)&&(this.ta.sorting=a,this.J())});t.g(X,"alternateComparer",X.prototype.MH);t.defineProperty(X,{MH:"alternateComparer"},function(){return this.ta.comparer},function(a){this.ta.comparer!==a&&(t.i(a,"function",X,"alternateComparer"),this.ta.comparer=a,this.J())});t.g(X,"alternateAngle",X.prototype.GH); t.defineProperty(X,{GH:"alternateAngle"},function(){return this.ta.angle},function(a){this.ta.angle!==a&&(t.i(a,"number",X,"alternateAngle"),0===a||90===a||180===a||270===a)&&(this.ta.angle=a,this.J())});t.g(X,"alternateAlignment",X.prototype.FH);t.defineProperty(X,{FH:"alternateAlignment"},function(){return this.ta.alignment},function(a){this.ta.alignment!==a&&(t.Aa(a,X,X,"alternateAlignment"),this.ta.alignment=a,this.J())});t.g(X,"alternateNodeIndent",X.prototype.QH); t.defineProperty(X,{QH:"alternateNodeIndent"},function(){return this.ta.nodeIndent},function(a){this.ta.nodeIndent!==a&&(t.i(a,"number",X,"alternateNodeIndent"),0<=a&&(this.ta.nodeIndent=a,this.J()))});t.g(X,"alternateNodeIndentPastParent",X.prototype.RH); t.defineProperty(X,{RH:"alternateNodeIndentPastParent"},function(){return this.ta.nodeIndentPastParent},function(a){this.ta.nodeIndentPastParent!==a&&(t.i(a,"number",X,"alternateNodeIndentPastParent"),0<=a&&1>=a&&(this.ta.nodeIndentPastParent=a,this.J()))});t.g(X,"alternateNodeSpacing",X.prototype.SH);t.defineProperty(X,{SH:"alternateNodeSpacing"},function(){return this.ta.nodeSpacing},function(a){this.ta.nodeSpacing!==a&&(t.i(a,"number",X,"alternateNodeSpacing"),this.ta.nodeSpacing=a,this.J())}); t.g(X,"alternateLayerSpacing",X.prototype.OH);t.defineProperty(X,{OH:"alternateLayerSpacing"},function(){return this.ta.layerSpacing},function(a){this.ta.layerSpacing!==a&&(t.i(a,"number",X,"alternateLayerSpacing"),this.ta.layerSpacing=a,this.J())});t.g(X,"alternateLayerSpacingParentOverlap",X.prototype.PH); t.defineProperty(X,{PH:"alternateLayerSpacingParentOverlap"},function(){return this.ta.layerSpacingParentOverlap},function(a){this.ta.layerSpacingParentOverlap!==a&&(t.i(a,"number",X,"alternateLayerSpacingParentOverlap"),0<=a&&1>=a&&(this.ta.layerSpacingParentOverlap=a,this.J()))});t.g(X,"alternateCompaction",X.prototype.LH); t.defineProperty(X,{LH:"alternateCompaction"},function(){return this.ta.compaction},function(a){this.ta.compaction!==a&&(t.Aa(a,X,X,"alternateCompaction"),a===qq||a===sq)&&(this.ta.compaction=a,this.J())});t.g(X,"alternateBreadthLimit",X.prototype.HH);t.defineProperty(X,{HH:"alternateBreadthLimit"},function(){return this.ta.breadthLimit},function(a){this.ta.breadthLimit!==a&&(t.i(a,"number",X,"alternateBreadthLimit"),0<=a&&(this.ta.breadthLimit=a,this.J()))});t.g(X,"alternateRowSpacing",X.prototype.VH); t.defineProperty(X,{VH:"alternateRowSpacing"},function(){return this.ta.rowSpacing},function(a){this.ta.rowSpacing!==a&&(t.i(a,"number",X,"alternateRowSpacing"),this.ta.rowSpacing=a,this.J())});t.g(X,"alternateRowIndent",X.prototype.UH);t.defineProperty(X,{UH:"alternateRowIndent"},function(){return this.ta.rowIndent},function(a){this.ta.rowIndent!==a&&(t.i(a,"number",X,"alternateRowIndent"),0<=a&&(this.ta.rowIndent=a,this.J()))});t.g(X,"alternateCommentSpacing",X.prototype.KH); t.defineProperty(X,{KH:"alternateCommentSpacing"},function(){return this.ta.commentSpacing},function(a){this.ta.commentSpacing!==a&&(t.i(a,"number",X,"alternateCommentSpacing"),this.ta.commentSpacing=a,this.J())});t.g(X,"alternateCommentMargin",X.prototype.JH);t.defineProperty(X,{JH:"alternateCommentMargin"},function(){return this.ta.commentMargin},function(a){this.ta.commentMargin!==a&&(t.i(a,"number",X,"alternateCommentMargin"),this.ta.commentMargin=a,this.J())});t.g(X,"alternateSetsPortSpot",X.prototype.XH); t.defineProperty(X,{XH:"alternateSetsPortSpot"},function(){return this.ta.setsPortSpot},function(a){this.ta.setsPortSpot!==a&&(t.i(a,"boolean",X,"alternateSetsPortSpot"),this.ta.setsPortSpot=a,this.J())});t.g(X,"alternatePortSpot",X.prototype.TH);t.defineProperty(X,{TH:"alternatePortSpot"},function(){return this.ta.portSpot},function(a){t.l(a,I,X,"alternatePortSpot");this.ta.portSpot.M(a)||(this.ta.portSpot=a,this.J())});t.g(X,"alternateSetsChildPortSpot",X.prototype.WH); t.defineProperty(X,{WH:"alternateSetsChildPortSpot"},function(){return this.ta.setsChildPortSpot},function(a){this.ta.setsChildPortSpot!==a&&(t.i(a,"boolean",X,"alternateSetsChildPortSpot"),this.ta.setsChildPortSpot=a,this.J())});t.g(X,"alternateChildPortSpot",X.prototype.IH);t.defineProperty(X,{IH:"alternateChildPortSpot"},function(){return this.ta.childPortSpot},function(a){t.l(a,I,X,"alternateChildPortSpot");this.ta.childPortSpot.M(a)||(this.ta.childPortSpot=a,this.J())});var Kp; X.PathDefault=Kp=t.w(X,"PathDefault",-1);var Lp;X.PathDestination=Lp=t.w(X,"PathDestination",0);var Tp;X.PathSource=Tp=t.w(X,"PathSource",1);var fq;X.SortingForwards=fq=t.w(X,"SortingForwards",10);var gq;X.SortingReverse=gq=t.w(X,"SortingReverse",11);var hq;X.SortingAscending=hq=t.w(X,"SortingAscending",12);var iq;X.SortingDescending=iq=t.w(X,"SortingDescending",13);var Gq;X.AlignmentCenterSubtrees=Gq=t.w(X,"AlignmentCenterSubtrees",20);var jq; X.AlignmentCenterChildren=jq=t.w(X,"AlignmentCenterChildren",21);var uq;X.AlignmentStart=uq=t.w(X,"AlignmentStart",22);var vq;X.AlignmentEnd=vq=t.w(X,"AlignmentEnd",23);var lq;X.AlignmentBus=lq=t.w(X,"AlignmentBus",24);var aq;X.AlignmentBusBranching=aq=t.w(X,"AlignmentBusBranching",25);var mq;X.AlignmentTopLeftBus=mq=t.w(X,"AlignmentTopLeftBus",26);var nq;X.AlignmentBottomRightBus=nq=t.w(X,"AlignmentBottomRightBus",27);var qq;X.CompactionNone=qq=t.w(X,"CompactionNone",30);var sq; X.CompactionBlock=sq=t.w(X,"CompactionBlock",31);var Mp;X.StyleLayered=Mp=t.w(X,"StyleLayered",40);var eq;X.StyleLastParents=eq=t.w(X,"StyleLastParents",41);var dq;X.StyleAlternating=dq=t.w(X,"StyleAlternating",42);var cq;X.StyleRootOnly=cq=t.w(X,"StyleRootOnly",43);var Op;X.ArrangementVertical=Op=t.w(X,"ArrangementVertical",50);var Uq;X.ArrangementHorizontal=Uq=t.w(X,"ArrangementHorizontal",51);var Sp;X.ArrangementFixedRoots=Sp=t.w(X,"ArrangementFixedRoots",52);var Np; X.LayerIndividual=Np=t.w(X,"LayerIndividual",60);var Zp;X.LayerSiblings=Zp=t.w(X,"LayerSiblings",61);var Yp;X.LayerUniform=Yp=t.w(X,"LayerUniform",62);function Qp(){sa.call(this)}t.ga("TreeNetwork",Qp);t.Ka(Qp,sa);Qp.prototype.createVertex=function(){return new Pp};Qp.prototype.createEdge=function(){return new Wq}; function Pp(){ta.call(this);this.initialized=!1;this.parent=null;this.children=[];this.maxGenerationCount=this.maxChildrenCount=this.descendantCount=this.level=0;this.comments=null;this.na=new w(0,0);this.Za=new ga(0,0);this.Ia=new w(0,0);this.Pp=this.Op=this.NJ=!1;this.Kt=this.tt=null;this.sorting=fq;this.comparer=Sn;this.angle=0;this.alignment=jq;this.nodeIndentPastParent=this.nodeIndent=0;this.nodeSpacing=20;this.layerSpacing=50;this.layerSpacingParentOverlap=0;this.compaction=sq;this.breadthLimit= 0;this.rowSpacing=25;this.commentSpacing=this.rowIndent=10;this.commentMargin=20;this.setsPortSpot=!0;this.portSpot=xb;this.setsChildPortSpot=!0;this.childPortSpot=xb}t.ga("TreeVertex",Pp);t.Ka(Pp,ta); Pp.prototype.copyInheritedPropertiesFrom=function(a){null!==a&&(this.sorting=a.sorting,this.comparer=a.comparer,this.angle=a.angle,this.alignment=a.alignment,this.nodeIndent=a.nodeIndent,this.nodeIndentPastParent=a.nodeIndentPastParent,this.nodeSpacing=a.nodeSpacing,this.layerSpacing=a.layerSpacing,this.layerSpacingParentOverlap=a.layerSpacingParentOverlap,this.compaction=a.compaction,this.breadthLimit=a.breadthLimit,this.rowSpacing=a.rowSpacing,this.rowIndent=a.rowIndent,this.commentSpacing=a.commentSpacing, this.commentMargin=a.commentMargin,this.setsPortSpot=a.setsPortSpot,this.portSpot=a.portSpot,this.setsChildPortSpot=a.setsChildPortSpot,this.childPortSpot=a.childPortSpot)};t.A(Pp,{Gm:"childrenCount"},function(){return this.children.length});t.g(Pp,"relativePosition",Pp.prototype.HJ);t.defineProperty(Pp,{HJ:"relativePosition"},function(){return this.na},function(a){this.na.set(a)});t.g(Pp,"subtreeSize",Pp.prototype.$J);t.defineProperty(Pp,{$J:"subtreeSize"},function(){return this.Za},function(a){this.Za.set(a)}); t.g(Pp,"subtreeOffset",Pp.prototype.ZJ);t.defineProperty(Pp,{ZJ:"subtreeOffset"},function(){return this.Ia},function(a){this.Ia.set(a)});function Wq(){ua.call(this);this.Sr=new w(0,0)}t.ga("TreeEdge",Wq);t.Ka(Wq,ua); Wq.prototype.commit=function(){var a=this.link;if(null!==a&&!a.cj){var b=this.network.jc,c=null,d=null;switch(b.If){case Lp:c=this.fromVertex;d=this.toVertex;break;case Tp:c=this.toVertex;d=this.fromVertex;break;default:t.m("Unhandled path value "+b.If.toString())}if(null!==c&&null!==d)if(b=this.Sr,0!==b.x||0!==b.y||c.NJ){var d=c.Pb,f=tq(c),g=wq(c),h=c.rowSpacing;a.updateRoute();var k=a.De===Og,l=a.ic,m,n,p,q;a.yl();if(l||k){for(m=2;4q.y+c.rowIndent&&(f=Math.min(f,Math.max(n.y,f-xq(c))))):c.alignment===uq?(f=d.top+b.y,0===b.y&&n.yq.x+c.rowIndent&&(f=Math.min(f,Math.max(n.x,f-xq(c))))):c.alignment===uq?(f=d.left+b.x,0===b.x&&n.xq.y+c.rowIndent&&(f=Math.min(f,Math.max(n.y,f-xq(c))))):c.alignment===uq?(f=d.top+b.y,0===b.y&&n.yq.x+c.rowIndent&&(f=Math.min(f,Math.max(n.x,f-xq(c))))):c.alignment===uq?(f=d.left+b.x,0===b.x&&n.xl?h=null:(m=parseFloat(n.getAttribute("cx")),isNaN(m)&&(m=0),n=parseFloat(n.getAttribute("cy")),isNaN(n)&&(n=0),p=new zc(Mc),p.qa=0,p.ra=0,p.D=2*l,p.F=2*l,h.position=new w(m-l,n-l),h.nd=p);break;case "ellipse":p=g;h=new W;l=parseFloat(p.getAttribute("rx"));isNaN(l)||0>l?h=null:(m=parseFloat(p.getAttribute("ry")),isNaN(m)||0>m?h=null:(n=parseFloat(p.getAttribute("cx")),isNaN(n)&&(n=0),p=parseFloat(p.getAttribute("cy")), isNaN(p)&&(p=0),q=new zc(Mc),q.qa=0,q.ra=0,q.D=2*l,q.F=2*m,h.position=new w(n-l,p-m),h.nd=q));break;case "rect":q=g;h=new W;l=parseFloat(q.getAttribute("width"));if(isNaN(l)||0>l)h=null;else if(m=parseFloat(q.getAttribute("height")),isNaN(m)||0>m)h=null;else{n=parseFloat(q.getAttribute("x"));isNaN(n)&&(n=0);p=parseFloat(q.getAttribute("y"));isNaN(p)&&(p=0);var r=q.getAttribute("rx"),s=q.getAttribute("ry"),q=parseFloat(r);if(isNaN(q)||0>q)q=0;var u=parseFloat(s);if(isNaN(u)||0>u)u=0;!r&&s?q=u:r&&!s&& (u=q);q=Math.min(q,l/2);u=Math.min(u,m/2);s=void 0;0===q&&0===u?(s=new zc(Ec),s.qa=0,s.ra=0,s.D=l,s.F=m):(s=H.va/2,r=t.u(),J(r,q,0,!0),r.lineTo(l-q,0),K(r,l-q*s,0,l,u*s,l,u),r.lineTo(l,m-u),K(r,l,m-u*s,l-q*s,m,l-q,m),r.lineTo(q,m),K(r,q*s,m,0,m-u*s,0,m-u),r.lineTo(0,u),K(r,0,u*s,q*s,0,q,0),M(r),s=r.s,t.v(r));h.position=new w(n,p);h.nd=s}break;case "polygon":h=ar(g);break;case "polyline":h=ar(g)}if(null!==h){if(h instanceof W){l=Yq(a,g,"fill");null!==l&&-1!==l.indexOf("url")?(l=l.substring(l.indexOf("#")+ 1,l.length-1),l=a["_brush"+l],h.fill=l instanceof fa?l:"black"):h.fill=null===l?"black":"none"===l?null:l;l=Yq(a,g,"stroke");null!==l&&-1!==l.indexOf("url")?(l=l.substring(l.indexOf("#")+1,l.length-1),l=a["_brush"+l],h.stroke=l instanceof fa?l:"black"):h.stroke="none"===l?null:l;l=parseFloat(Yq(a,g,"stroke-width"));isNaN(l)||(h.fb=l);l=Yq(a,g,"stroke-linecap");null!==l&&(h.wG=l);if(l=Yq(a,g,"stroke-dasharray")){m=l.split(",");n=[];for(l=0;lg.length)return null;for(var h,d=new B(id),k,l,m=1;m